Abbreviate ". ";
Abbreviate ", ";
Abbreviate " the ";
Abbreviate "You";
Abbreviate "~ you";
Abbreviate ",~ he says";
Abbreviate "The";
Abbreviate "ing";
Abbreviate "As you lack Jesus' oratory skills";
Abbreviate ".^^";
Abbreviate ",~ she says";
Abbreviate "'re";
Abbreviate "and";
Abbreviate " th";
Abbreviate " you";
Abbreviate " to";
Abbreviate " st";
Abbreviate "e a";
Abbreviate " co";
Abbreviate " says";
Abbreviate " lo";
Abbreviate " glowstick";
Abbreviate " of";
Abbreviate " wo";
Abbreviate " don't";
Abbreviate " wh";
Abbreviate " li";
Abbreviate " with";
Abbreviate " in";
Abbreviate "Nah";
Abbreviate " ma";
Abbreviate " get";
Abbreviate "This is";
Abbreviate " mi";
Abbreviate "That";
Abbreviate " her";
Abbreviate " tr";
Abbreviate " so";
Abbreviate " danc";
Abbreviate "'s no";
Abbreviate " pu";
Abbreviate "d b";
Abbreviate " it";
Abbreviate " fa";
Abbreviate " gi";
Abbreviate " cl";
Abbreviate "ther";
Abbreviate "'s ";
Abbreviate "'t ";
Abbreviate "ut ";
Abbreviate "your question goes unheard.";
Abbreviate "you ";
Abbreviate "his ";
Abbreviate "'ve ";
Abbreviate "he ";
Abbreviate "ate";
Abbreviate "ask";
Abbreviate "are";
Abbreviate "ack";
Abbreviate "^^~";
ABbreviate "now";
Abbreviate ",~ ";
Abbreviate "I'm";
Abbreviate "nce";

Attribute legible;

Array text_array -> 4;

Constant Story "THE QUEST FOR THE MISSING GLOWSTICK";
Constant Headline "^An Interactive Goth Night^ 
Copyright (c) 2004-16 C. Z. Warnes.^
First time players of text adventures should type HELP.^";
Constant MAX_SCORE 12;
Constant AMUSING_PROVIDED;

Include "Parser";

Replace FillSub;
Replace YesSub;
Replace NoSub;
Replace KissSub;
Replace AskSub;
Replace DisrobeSub;
Replace CutSub;
Replace RubSub;
Replace ClimbSub;
Replace WaveSub;

Class Glower
with before [;
    Insert: if (second == bastard) {<<feed self bastard>>;}
    if (second == player) {"That can wait until you get home.";}
    if (second has animate) {print "No, you really don't think ", (the) second, " would much care for such a move.^"; rtrue;}
    Wave: if (glowstick in player && glowsticktwo in player) {"You wave your glowsticks around a bit, feeling slightly daft.";} "You wave your glowstick around a bit, feeling slightly daft.";
    Rub: "You rub your glowstick, and a huge genie floods out of it!^^~Ha ha, had you going there,~ the genie cackles. ~Just because you've got a magic lamp doesn't mean there's any help for people like you.~ He disappears back into the glowstick into a trice.";
    Taste: "You're sure some people know how to lick a glowstick in a suggestive fashion, but you're not one of them.";
    Eat: "You've wanted to try this since you saw 'Circus OF Horrors', but you're kind of concerned about how digestible glowsticks are.";
  ],
  has light;

Class Music
  with name "music" "track" "song" "tune",
  description "It consists of sounds. Surprising, that.",
  before [;
    Make: "An instrument would be helpful there.";
    Take, Drop: "What a surreal notion.";
    Eat: "The bard may have suggested that music is the food of love, but, as you're not love, you find it somewhat inedible.";
    Kill: if (real_location == EightiesRoom && eightiesdj in neverneverland) {"Much as you'd like to, you think that may lead to the mulletfolk killing YOU.";} "That would require access to the DJ booth.";
    Attack: "Um, no. Even though people talk about 'fighting music' and 'battle metal', you don't think that's the intended meaning.";
  ],
has static scenery;

Class Crowd
  with orders [;
    Hello: "~Hi,~ you say, to a few people.^^~Hello!~ they reply, sounding somewhat amused.";
    Goodbye: "~See you later,~ you say to a few people.";
    Thanks: <<thank actor>>;
    default: "As you lack Jesus's oratory skills, your statement goes unheard.";
  ],
  life [;
    Give: "Alas, for that is quite impossible. So many people, so few offerings.";
  ],
  before [;
    Enter: <<dance>>;
  ];

Class Toilet
  with before [;
    Enter: "This isn't ~Trainspotting~, you know! You're not that desperate to find your other glowstick.";
    Clean:
      if (self.cleaned == 1) {"The toilet looks quite clean enough as it is.";}
      if (TestScope(bleach) ~= 1) {"You could do with some sort of cleaning fluid.";} 
      if (TestScope(bogbrush) ~= 1) {"You could do with some sort of brush.";} 
      punktoilet.cleaned = 1; GothToilet.cleaned = 1; EightiesToilet.cleaned = 1; DodgyToilet.cleaned = 1; "You don't do housework. Ever. Still, you're sure your housemate included a brush and some bleach in this simulation for some reason, so here goes nothing . . . and sure enough, a few minutes later, the toilet looks fit to wash your face in.";
    Receive:
      if (noun == bastard) {"You drape the bastard over the toilet and flush. Hahahaha! Well, you're sure he did it to people when he was at school, it's only fair.";}
      if (noun == whitelinefever or cloakroomticket or jacket or meshtop or flyer or fanzine or requestlist) {"Nah, it'd get all soggy.";}
      if (noun == dms) {"Nah, they'd be horrible to wear afterwards.";}
      if (noun == water) {"Nah, there's quite enough water in the toilet as it is, and there's enough empty glasses lying around as it is to open a shop selling them. What sort of people would want to buy them, though, is another matter.";}
      if (noun == beer) {"Nah, you paid a good pound for that. It must have some use - there must be some crazy people out there who like it or at least are willing to pretend to. Maybe the ones that like Kylie Minogue and milk chocolate digestives.";}
      if (noun == absinthe) {"Nah, it must have cost a fortune, you're not just going to pour it away.";}
      if (noun == clipboard or headphones) {"Nah, it won't fit.";}
      if (self.cleaned == 0) {
        if (noun == bleach) {"You pour some bleach into the toilet";} 
        if (noun == bogbrush) {if (TestScope(bleach) == 1) {<<clean self>>;} else {"Some cleaning fluid might be good before you try that.";}}
        "Nah, it'd get all mingin'.";
      }
      if (self.cleaned == 1) {
        if (noun == glowstick or glowsticktwo or key) "Nah. What if the toilet ate it? That wouldn't do!";
          }
  ],
  after [;
    Receive:
      if (noun == anarchyshirt) {anarchyshirt.retrieved = 2; "You put the anarchy shirt into the toilet.";}
  ];

Class Place
 with before [;
 Go: if (acid.taken == 1) {
   move dancer to location; "No! You're too frightened! The giant lizards might see you!";
 }
];

Class Person
 with orders [;
   Hello: "~Hi,~ you say, with a weak grin.";
   Goodbye: "~See you later,~ you say.";
   Thanks: <<thank actor>>;
 ];
  
Class CD;

Object LibraryMessages
  with before [;
           Attack: if (noun == player) {"No, self-injury's, like, soooo '98.";} if (noun has animate) {"Nah. Experience has taught you that starting on random people in nightclubs is a fine way to get barred for life.";} "Nah. You think ", (the) noun, " would win.";
           Burn: "Some means of burning it would be a fine thing.";
           Buy: "That's not for sale.";
           Drink: "That's not suitable for drinking.";
           Examine: if (lm_n == 1) {"The lighting's too poor in here for you to see a darn thing.";}
           Jump: "JUMP! Pogopogopogopogopogopogopogo! BOUNCE! Pogopogopogopogopogopogopogo! Ah, there's nothing like typing in System of a Down lyrics to liven a game up.";
           JumpOver: "That's far too athletic a feat for the likes of you.";
           Listen: if (headphones has worn) {"You enjoy the glorious silence the headphones provide.";}
                   else {
                     switch(real_location) {
                       IndustrialRoom: "You don't recognise the track, but it's great!";
                       PunkRoom: if (punkroom.song == 1) {punkroom.song = 2; "You hear ~Ever Fallen In Love (With Someone You Shouldn't've)~ by The Buzzcocks.";}
            if (punkroom.song == 2) {punkroom.song = 3; "You hear ~Teenage Kicks~, whoever that's by.";}
            if (punkroom.song == 3) {punkroom.song = 4; "You hear a song seemingly about Gary Gilmore's eyes.";}
            if (punkroom.song == 4) {punkroom.song = 5; "You hear ~God Save The Queen~ by The Sex Pistols.";}
            if (punkroom.song == 5) {punkroom.song = 1; "You hear ~No More Heroes~, whoever that's by.";}
             PunkToilets: "You hear the music from the next room, panting, moaning and vomitting from within the cubicles, and lots of punks going on about how rubbish everything is.";
                       EBMRoom: "You hear ~Floorhunter~ by Apoptygma 23. Something like that, anyway.";
                       EightiesRoom: 
    if (kingdom.playing == 1) {"You hear an everlasting remix of ~Kingdom~ by VNV Nation.";}
    if (eightiesroom.song == 0) {eightiesroom.song++; "You hear ~Wild Boys~ by Duran Duran.";}
    if (eightiesroom.song == 1) {eightiesroom.song++; "You hear ~Enola Gay~, whoever that's by.";}
    if (eightiesroom.song == 2) {eightiesroom.song++; "You hear ~You Spin Me Round Like A Record~, whoever that's by.";}
    if (eightiesroom.song == 3) {eightiesroom.song++; "You hear ~Sweet Dreams~ by The Eurhythmics.";}
    if (eightiesroom.song == 4) {eightiesroom.song = 0; "You hear ~Tainted Love~ by Soft Cell.";}
                       EightiesToilets: "You hear cheese from the next room, panting and moaning from within the cubicles, and lots of bemulleted men and the odd bemulleted woman being mulletty.";
                       MetalRoom: 
                         if (girl.dance < 3) 
   if (metalroom.song == 0) {metalroom.song = 1; "You hear ~New World Order~ by Ministry.";}
            if (metalroom.song == 1) {metalroom.song = 2; "You hear ~This Is Not~ by Static X.";}
            if (metalroom.song == 2) {metalroom.song = 3; "You hear ~Disposable Teens~ by Marilyn Manson.";}
            if (metalroom.song == 3) {metalroom.song = 4; "You hear ~Dragula~ by Rob Zombie.";}
            if (metalroom.song == 4) {metalroom.song = 0; "You hear ~Tribe~ by The Mad Capsule Markets.";}
                       GothRoom:     if (gothroom.song == 0) {print "You hear a song that seems to go, ~I believe in getting the bus there~.^"; gothroom.army = 1; gothroom.song = 1; rtrue;}
    if (gothroom.song == 1) {print "You hear the roar of a big machine, providing two worlds an inbetween. The current song goes, ~We got the kingdom, we got the key.~^"; gothroom.sisters = 1; gothroom.song = 2; rtrue;}
    if (gothroom.song == 2) {print "You hear a song that goes, ~We got the white line fever.~^"; gothroom.miranda = 1; gothroom.song = 0; rtrue;}

                       GothToilets: "You hear gothic tones from the next room, panting, moaning and crying from within the cubicles, and lots of goths talking in put-on German accents.";
                       TranceRoom: if (cyberbloke.song == 0) {"You hear a neverending remix of ~Silence~ by Delerium . . . or ~Children~ by Robert Miles . . . or neither . . . or both?";} if (cyberbloke.song == 1) {"You hear the Schwarzwalde Kirschtorte End Of Time remix of everything. Currently they're remixing ~Shiny Happy People~, inappropriately enough, but the crowd seems to approve.";}
                       DodgyRoom: "You hear a never-ending song seemingly called ~Sex Dwarf~.";
                       DodgyToilets: "In here, you reckon it's in your best interest not to listen as far as possible.";
                       MensToilets: "The sound of women laughing hysterically almost drowns out the music from the next room.";
                       default: "You hear nothing unexpected.";
                     }
                   }
           LookUnder: if (lm_n == 2 && noun has animate && noun ~= bastard && noun ~= player) {"Nah. That would require either pushing or asking, ~Can you move out of the way while I look under you?~ and you don't really feel like doing either.";}
           Pray: "You pray for someone to get you out of here, but your prayers go unanswered. All those years of devout atheism, for, well, nothing.";
           Search: if (lm_n == 4 && noun has animate) {
             if (noun == player) {"You look within yourself for the strength to complete the trial, but find none whatsoever.";}
             print "Nah. You can't imagine ";
             if (noun ofclass crowd) {print "they'd";}
             else {if (noun has female) {print "she'd";}
             else {print "he'd";}} 
             print " agree to you opening ";
             if (noun ofclass crowd) {print "them";}
             else {if (noun has female) {print "her";}
             else {print "him";}} 
             " up.";
           }
           Squeeze: if (lm_n == 1 && noun == player) {"That can wait until you get home.";}
	     Strong: "Swearing at the game isn't going to make it any more cooperative, you know.";
           Miscellany:
             if (lm_n == 19) {
               print "In the style of Angband, a game on which you have spent far too much of your life (make your screen wide and reduce your text size if this looks messy):^^"; font off; print "Name       : Dave          Age                 24  STR: Absent^
 Sex        : Sadly never   Current height      ";
 if (punktoiletcrowd.help == 1) {if (boots.height == 8) {print "86";} else {print "89";}}
 else {if (boots.height == 8) {print "74";} else {print "77";}}
 print "  INT: Little^
 Race       : Caucasian     Weight             150  WIS: None^
 Alignment  : Metaller      Class          Lacking  DEX: Poor^
 Temperament: Easygoing                             CON: Hungover^
 Orientation: Lost                                  CHR: At an alltime high^^

 Desire For Hits      High  Level                "; if (real_location == industrialroom || real_location == ebmroom || real_location == metalroom || real_location == tranceroom) {print "2";} else {print "1";} print "  Guitar Playing        Fair^
 Want To Destroy?    Maybe  Experience        None  Bass Playing     Very Good^
 Is armour class?      Yes  Max Exp   While asleep  Singing          Appalling^
 Baseness        Very High  Exp to Adv.    Holding  Dancing       Best avoided^
 Fighting       Like a cow  hands would be a start  Perception            None^
 Shots          Yes please  Gold                 "; if (pound in player) {print "1";} else {print "0";} print "  Wit          Mostly absent^
 Burden    Weight of world                          Alertness        You what?^^	  
							  
 You are the seventh son of a seventh son. Well, it would be cool if you were anyway. You are
 the black sheep of the family. You have blue eyes, black tangled hair, and a 
 terrible complexion.^"; font on; rtrue;}
           Taste: if (noun == player) {"Your taste is impeccable.";} 
             if (noun has animate) {"Trent Reznor once requested, ~If I can't have everything, well then just give me a taste~, but you don't think people are likely to be that obliging towards you.";} else {"Nah. You've noticed people get a bit worried when you go round licking random things.";} if (noun == boots) {"No, you're not fit (enough) to lick your boots.";} if (noun == dms or publicorderboots) {"No, they're not fit to be licked by you.";} if (noun == girlsclothes) {"No, you aren't fit to lick her boots.";}
           Smell: if (noun == player) {"As Trent Reznor once said, stale mints and old sweat and pies, pies, pies. Or something.";}
      if (noun == nothing) {"The whole place reeks of a single distinctive but unidentifiable smell. It's not just smoke, and it's not just weed, it's sort of a mixture of those and sweat, sex, leather and something else. It's not wholly unpleasant, just mostly.";} 
      if (noun has animate) {"No, best not to go sniffing around people.";}
	if (noun ofclass toilet) {if (punktoilet.cleaned == 0) {"You'd really rather not.";} else {"No, what if bleach is addictive? That would require you to buy it! Perish the thought!";}} 
     else {"The whole place reeks of a single distinctive but unidentifiable smell. It's not just smoke, and it's not just weed, it's sort of a mixture of those and sweat, sex, leather and something else. It's not wholly unpleasant, just mostly.";}
           Kiss: if (noun == player) {"You have, in days gone by, practised kissing your arm. But those days are very much gone.";} "Nah. You've noticed that most people get somewhat offended when strangers randomly try to kiss them.";
           Touch: if (noun == player) {"No need to be crude!";} if (noun == glowstick) {"There's no need for that.";} if (noun == faith) {"You reach out and touch Faith. She looks like she's used to it.";} if (noun has female) {"Get your hands off that woman, you git!";} if (noun has animate) {"You don't think he'd appreciate it";} if (noun hasnt animate) {if (noun has pluralname) {print "They feel";} else {print "It feels";} " fine. Well, that makes one of you.";}
           Show: if (lm_n == 2) {if (second ofclass crowd) {"They look a bit baffled as to why you're showing them that.";} if (second has female) {"She looks a bit baffled as to why you're showing her that.";} else {"He looks a bit baffled as to why you're showing him that.";}}
	     Take: if (lm_n == 3) {"Nah, you've never known how best to go about picking people up in nightclubs.";}
           Think: "You seem to have forgotten how to. In fact, that happened so long ago . . . well, obviously you can't remember when, as that would involve thought, wouldn't it?";
	     ThrowAt: if (lm_n == 2) {
		 if (noun == knife) {print "Now now, ", (the) second; " might not be your favourite person ever, but that's a bit harsh!";}
           }
           Wake: "Sadly, this doesn't seem to be a dream.";
           Eat: if (lm_n == 1) {
             if (noun has pluralname) print "They don't"; else print "It doesn't";
                  print " look very nutritious.^"; rtrue;
           }
       ];

Include "Verblib";
Constant INCLUDE_SWITCHOPTION;
Constant INCLUDE_HINTOPTION;
Include "TMenus";
Include "AskTellOrder";

[AirDrumsSub;
  "You batter the air enthusiastically, much to people's confusion.";
];

[AirGuitarSub;
  if (location == metalroom or punkroom or eightiesroom or gothroom) "You show off your skills, though everyone seems rather more confused than impressed."; "Nah - non-guitar noise isn't at all conducive to such a feat.";
];

[AscendSub;
  <<go u_obj>>;
];

[AskForDrinkSub;
  if (headphones has worn) {"There's no point. With the headphones on, you won't be able to hear the answer.";}
  if (noun ofclass crowd) {"As you lack Jesus's oratory skills, your question goes unheard.";}
  if (noun == bastard) {"Nah, even if he was in a position to accept or decline, he'd be the last person you'd want to have a quiet pint with.";}
  if (noun == cyberbloke || noun == goth) {"~Do you want to go for a drink sometime?~ you ask.^^~Sure, I'll give you my number and you can give me a buzz.~ You fumble in your pockets, but no mobile phone. ~Left my phone at home,~ you apologise.";}
  if (noun == punk || noun == doommonkeyfan or eightiesdj or dj or bloke) {"Nah, you really don't care to spend any more time in his company.";}
  if (noun == faith) {<<GetDrink>>;}
  if (noun == cloakroomattendant) {"~Do you want to go for a drink sometime?~ you ask.^^~Sorry, my boyfriend wouldn't like it,~ the attendant says.";}
  if (noun == securityguard) {"~Do you want to go for a drink sometime?~ you ask.^^~Don't be insolent with me, son,~ the security guard says in a low voice.";}
  if (noun == youngguy or gluesniffer) {"You don't really feel you know him well enough to make that sort of suggestion.";}
  if (noun == woman or girlone) {"Nah, you really don't care to spend any more time in her company.";}
  if (noun == dancer) {if (dancer.handcuffed == 0) {"You lack the courage to do so.";}
   "~Do you want to go for a drink sometime?~ you ask.^^~Sure, I'll give you my number and you can give me a buzz.~ You fumble in your pockets, but no mobile phone. ~Left my phone at home,~ you apologise.";
  }
  if (noun == girl) {if (girl.dance < 3) {"You lack the courage to do so.";} "She isn't old enough to drink. Not that that ever stopped you, but it might be embarrassing if she was caught in the act.";}
  if (noun == ozzy) {"Nah, you're not quite on ~let's go for a few pints~ terms with Ozzy yet.";}
  print "~Do you want to go for a drink sometime,~ you ask ", (the) noun, ". Much to your dismay, ", (the) noun; " declines to answer.";
];

[AskGlowSub;
  if (noun == player) {"~Do I have a glowstick?~ you ask yourself, thoughtfully.";}
  if (noun == bastard) {"~Have you got a glowstick?~ you ask the bastard. ~No? Well, it's probably just as well you don't, or I'd stuff it all the way down your throat. And I don't think they're very digestible.~";}
  if (noun == securityguard) {"Nah. Given the circumstances, you don't suppose he'd be too obliging even if he was the glowstick carrying type, and you can't imagine he is.";}
  if (noun == cloakroomattendant) {"~Did anyone leave a glowstick in their coat pocket?~ you ask.^^~Not that I noticed,~ she says.";}
  if (noun == industrialcrowd or ebmcrowd or eightiescrowd or gothcrowd or gothtoiletcrowd or trancecrowd or dodgycrowd or dodgytoiletcrowd or cyberbloke or goth or dancer) {"Nah, borrowing someone else's glowstick is just taboo.";}
  if (noun == punkcrowd or punktoiletcrowd or mulletmen or metalcrowd) {"Nah. You don't think they're the glowstick owning-type.";}
  if (noun == punk or youngguy or gluesniffer or eightiesdj or doommonkeyfan or ozzy or dj) {"~Nah, you don't think he's the glowstick-owning type.~";}
  if (noun == woman or girl or faith) {"~Nah, you don't think she's the glowstick-owning type.~";}
  if (noun == girlone or bloke) {if (acid.taken == 0) {"Nah, borrowing someone else's glowstick is just taboo.";} else {move glowsticktwo to player; "~Can I have a go with your glowstick?~ you ask the trio.^^~Sure,~ one of the girls says, handing it to you. Freaky.";}}
];

[BeCoolSub;
  "Everybody be cool, yeah, be cool!";
];

[BeHappySub;
  "Naff off! As if being a twentysomething wasn't painful enough, you're more than a little bit stressed at the moment!";
];

[BeNaturalSub;
  "Aye, the note above B flat. Good, innit?";
];

[BeYourselfSub;
  "The sad truth is, you've forgotten who you are, after a life of attempts to impress persons cooler than yourself. (Namely everyone.)";
];

[BreakSub;
  if (noun == chain) {"No. You don't wanna break these chains!";}
  "That's unbreakable.";
];

[Centerfold;
" The crowd cheer. One guy comes over to you, lifts your earpiece and says, ~Centerfold! What a tune!~ He pats you on the back and rejoins his fellow mullets. Oh dear.";
];

[CrudeSub;
  "Now now, no need to be crude.";
];

[DanceInCageSub;
  if (location ~= dodgyroom) {"You can't see any such thing.";}
  "Nah, you wouldn't have a clue how to.";
];

[DescendSub;
  <<go d_obj>>;
];

[DevilHornsSub;
  print "You make il cornuto."; if (location == metalroom) {" A few people return the greeting and ~Metaaaaaaal!!!~ at you.";}
  if (location == industrialroom or ebmroom or tranceroom or punkroom or eightiesroom or gothroom or dodgyroom) {" You get a few confused looks.";}
  else {"";}
];

[DevilHornsAtSub;
  if (noun == player) {"~Metaaaaaal!~ you murmur to yourself.";} 
  if (noun == ozzy or girl or cyberbloke or dancer or woman) {"Your greeting is returned with a delighted ~Metaaaaal!!!~";}
  if (noun == doommonkeyfan) {"You make il cornuto, but fanboy just gives you a confused look. He has a lot to learn.";}
  print "You make il cornuto, but ", (the) noun; " just gives you a blank look.";
];

[DieSub;
  "Now now. Just because you're in a goth club doesn't mean there's any need for that sort of thing!";
];

[DieHardSub;
  "Now now. Just because you're in a goth club doesn't mean there's any need for that sort of thing!";
];

[DisrobeSub;
  if (noun hasnt worn) {"You're not wearing that.";}
  give noun ~worn; "You take off ", (the) noun, ".";
];

[DoubleEntendreSub;
  "Ok, I'll give you one.";
];

[EwSub;
  "Ewwwww!";
];

[FillSub;
  if (second == absinthe) {
    if (noun == player) {"Nah: even if you weren't allergic to aniseed, this would have effects so strange that even Death might think twice before risking them. And this is a guy who once had a sword fight on top of a moving train.";} 
  if (noun ofclass toilet || noun == room or club) {"Nah, you don't have enough absinthe for that. Nonetheless, 66 out of 10 for lunacy. What sort of warped idea was that???";} 
  "Nah, no point in wasting perfectly good absinthe on that.";}
  if (second == beer) {if (noun == player) {"Urgh, no thanks.";} "Nah, you paid a pound for that.";}
  if (second == eightiescd or evilcd) {"That's no filler! That's WORSE than filler!";}
  if (second == kingdom) {"That's no filler! It's pure EBM goodness!";}
  "That's no filler!";
];

[FillHateSub;
  "Woah, we're getting a bit over-metaphorical here, don't you think?";
];

[FillWaterSub;
  if (water notin player && beer notin player && location ~= punktoilets && location ~= eightiestoilets && location ~= gothtoilets && location ~= dodgytoilets && location ~= punkcubicle && location ~= eightiescubicle && location ~= gothcubicle && location ~= dodgycubicle) {"You don't have any water.";}
  if (noun ofclass toilet || noun == club or room) {"Nah, you don't know enough about plumbing to induce that. Anyway, why would you want to?";}
  if (noun == boots) {"No. When you were a teenager, you spent a few months as a hypochondriac, but even then, you never suffered any great desires for trench foot.";}
  if (noun ofclass toilet) {"Nah, there's enough water in it already, and there's enough empty glasses lying around as it is to open a shop selling them. What sort of people would want to buy them, though, is another matter.";}
  if (noun == dms) {"Yeah, fill his shoes with water! That'll teach him! Actually, it might just be more fun to steal them and not give them back. You could make a quid or two off these, and all.";}
  "That's unfillable.";
];

[FlowerPeopleSub;
  "Yes, you do that. (I hope this isn't turning into a game of ~How many rock references does the game recognise?~ You really do have better things you could be doing, you know.)";
];

[FreeSub;
  if (noun == player) {"You're already free. Cheap, anyway.";}
  if (noun == bastard) <<Drop Bastard>>;
  if (handcuffs.victim ~= noun) {"You can only free someone you're holding captive in the first place.";}
  handcuffs.victim = 0; <<Unlock2 Handcuffs>>;
];

[GiveMeDrinkSub;
  "Sorry, that's not going to work. Nice as it would be if you could just type that in and have the computer provide you with one, that seemed like a bit too expensive to program, know what I mean? I'm sure it's possible: when I were a wee lass, my half brother used to tell me that if I got to a high enough level on Crazy Tracer a Milky Way popped out of one of the slots on our old BBC, and I've never been able to disprove this, as I could never get beyond level four or so. But it seems reasonable that you should have to make a bit more effort than demand a drink to be given one, don't you think?";
];

[GrabYourCoatSub;
  <<take jacket>>;
];

[GraffitiSub;
  "Nah. Graffiti woz ere two thousand years ago (if ~The Life Of Brian~ is to be believed) so it's hardly anarchic.";
];

[HideSub;
  "You can't - there's nowhere to run, nowhere to hide!";
];

[HideInSub;
  if (noun == djbooth) {if (eightiesdj notin neverneverland) {"That booth ain't big enough for both you and the DJ.";}
  if (securityguard in eightiesroom) {"~Don't try and hide, boy,~ the guard warns you.";}
  "You hide in the booth for a bit, but you've no one you particularly need to hide from, so you leave again.";}
  if (noun == djboothtwo) {if (dj notin neverneverland) {"That booth ain't big enough for both you and the DJ.";}
  if (securityguard in tranceroom) {"~Don't try and hide, boy,~ the guard warns you.";}
  "You hide in the booth for a bit, but you've no one you particularly need to hide from, so you leave again.";}
  if (noun == punkcubicles) {
    if (securityguard in location) {"~Don't you be trying to get away now, son,~ the guard warns you in a low voice. ~I've had it with you.~";} 
    if (handcuffs.victim ~= 0) {move handcuffs.victim to punkcubicle;}
    PlayerTo(PunkCubicle); rtrue;
  }
  if (noun == eightiescubicles) {
    if (securityguard in location) {"~Don't you be trying to get away now, son,~ the guard warns you in a low voice. ~I've had it with you.~";} 
    if (handcuffs.victim ~= 0) {move handcuffs.victim to eightiescubicle;}
    PlayerTo(EightiesCubicle); rtrue;
  }
  if (noun == gothcubicles) {
    if (securityguard in location) {"~Don't you be trying to get away now, son,~ the guard warns you in a low voice. ~I've had it with you.~";} 
    if (handcuffs.victim ~= 0) {move handcuffs.victim to gothcubicle;}
    PlayerTo(GothCubicle); rtrue;
  }
  if (noun == dodgycubicles) {
    if (securityguard in location) {"~Don't you be trying to get away now, son,~ the guard warns you in a low voice. ~I've had it with you.~";} 
    if (handcuffs.victim ~= 0) {move handcuffs.victim to dodgycubicle;}
    PlayerTo(DodgyCubicle); rtrue;
  }
  "That's not suitable for hiding in.";
];

[HideInSommatSub;
  if (noun == player) {
    <<hidein second>>;
  }
  if ((noun ~= gel or pen or clipboard) || (noun == pen && pen notin clipboard) || (noun == clipboard && eightiesdj in neverneverland)) {
    "You have no reason to wish to hide that.";
  }
  if (noun == pen) {
    "You'll need to free it from the clipboard first.";
  }
  if (noun == clipboard) {
    "Just as you're about to pick up the clipboard, the DJ notices. ~Oi,~ he says, ~no nicking the clipboard.~";
  }
];

[HornsSub;
  "@@92m/ to you too!";
];

[IntroduceSub;
  if (noun == player && second == player) {"~Hello me, meet the real me,~ you say to yourself. Reciting Megadeth lyrics never does fail to relieve the odd moment of sanity.";}
  if (noun == girlone && second == girlone) {"They seem to have met already.";}
  if (noun == second) {"Nah. You've never tried introducing someone to themselves, but there's a good reason for that.";}
  if (headphones has worn) {"Nah. It's a bit disconcerting talking when you can't hear your own voice.";}
  if (second == player) {<<introduce player noun>>;}
  if (noun == player) {
    if (second == mulletmen) {"You'd rather not. They might try to assimilate you.";}
    if (second ofclass crowd) {"~Hi, nice to meet you, I'm Dave,~ you say, to various people, extending your hand. Most people look a bit puzzled, but they all shake it and provide you with names you forget immediately.";}
    if (second == securityguard) {"You really don't think he cares what your name is.";}
    if (second == youngguy) {
      if (punkroom.count ~= 2 && punkroom.count ~= 3) {
        "The majestic lesser-crested punk has retreated to the moshpit.";
      }
      if (youngguy.satisfied == 0) {youngguy.introduced = 1; "~Hi, nice to meet you, I'm Dave,~ you say, extending your hand. ~Peter,~ he gasps, shaking it with a sweaty palm and dropping it again rapidly.";}
      else {
        "~Hi,~ you begin, but he doesn't turn away from the girl.";
      }
    }
    if (second == bastard) {"~Nice to make your acquaintance too,~ you say, giving the bastard a kick. The punchbag industry must be glad there aren't more guys like him around, or they'd go out of business.";}

    if (second == ozzy) {"Nah. You suspect so many people have introduced themselves to him over the years that the next one may meet a nasty fate indeed.";}

    if (second == bloke or girlone) {print "~Hi, nice to meet you, I'm Dave,~ you say, extending your "; if (handcuffs.victim ~= 0) {print "free ";} "hand.^^~Mmm hmm,~ one of the girls says, her tone rich with an ~and?~^^You try to explain that you'll be famous by the end of the day, but words fail you.";}

   if (second == doommonkeyfan) {"For some inexplicable reason, you've cause to believe he knows who you are already.";}

    print "~Hi, nice to meet you, I'm Dave,~ you say, extending your "; if (handcuffs.victim ~= 0) {print "free ";} print "hand.";

    if (second.introduced == 0) {
      second.introduced = 1;
      switch (second) {
        cloakroomattendant: if (cloakroomattendant.named == 0) {"^^~Deborah,~ she says, shaking it.";} else {"^";}
        punk: "^^~Sod off,~ the punk replies. Nice guy.";
        gluesniffer: "^^~People call me Lucifer,~ he tells you, shaking it.^^~As in Lucifer the gluesniffer?~ you ask. ~Sweet!~";
        girl: "^^~Sheila,~ she says, shaking it.";
        cyberbloke: if (cyberbloke.asked == 0) {cyberbloke.asked = 1;} "^^~Steve,~ he says, shaking it.";
        woman: "^^~I'm Ruby,~ she says, shaking it firmly.";
        eightiesdj, dj: "^^~Awright, nice to meet ya,~ he says, shaking it.";
        goth: "^^~Lucius,~ he says, shaking it. ~And that has nothing to do with Harry Potter,~ he assures you.";
	  dancer: "^^~Fiona,~ she says, shaking it.";
        faith: "^^~Faith,~ she says, shaking it.";
      }
    } else {
      print "^^~You said,~ "; if (second has female) {print "s";} "he points out";
    }
  }
  if (noun == securityguard || second == securityguard) {
    "~Hey,~ you say to the security guard, ~have you met-~";
  }
  if (noun == bastard) {
    print "~This is the bastard who did this to me,~ you say, indicating your bloodied nose.^^~Right,~ "; if (second has female) {print "s";} "he says.";
  }
  if (second == bastard) {
    print "~This is the bastard who did this to me,~ you say, indicating your bloodied nose.^^~Right,~ "; if (noun has female) {print "s";} "he says.";
  }

  if (noun == ozzy || second == ozzy) {
    if (noun == doommonkeyfan || second == doommonkeyfan) {
      "They've already met.";
    }
    "Nah. You suspect Ozzy's sick to death of being introduced to people.";
  }

  if (second == girl) {<<Introduce girl noun>>;}

  if (noun == girl) {
    if (youngguy.satisfied == 1) {
      if (second == youngguy) {"No need. They're getting to know each other just fine as it is.";} else {"She's rather too busy to be introduced to anyone.";}
    }
    if (girl.introduced == 0) {"You're about to, but realise in time that you don't know the girl's name.";}
    if (second == mulletmen or doommonkeyfan) {"Irritating as presumptious underage girls can be, that's a fate she doesn't deserve.";}
    if (second ofclass crowd) {"~Hey, have you met Sheila?~ you ask a few people.^^~No, and I haven't met you either,~ is the typical reply.^^~Oh, sorry, I'm Dave,~ you say.^^~Nice to meet you both.~";}
    switch (second) {
      cloakroomattendant: "~This is Sheila,~ you tell the cloakroom attendant.^^~Hiya.~ She smiles at Sheila; a smile that asks ~what do you reckon he's on?~";
      punk: "~This is Sheila,~ you tell the punk.^^~Do you really think I care?~ he asks.";
	gluesniffer: "~This is Sheila,~ you tell the guy.^^~Oh. Right,~ he says.";
	cyberbloke: "~This is Sheila,~ you tell cyberbloke.^^~All right, Sheila, how you going?~ he asks.^^~Ok,~ she says.";
	woman: "~This is Sheila,~ you tell the woman.^^~Your girlfriend?~ she asks.^^~Oh no,~ you assure her.^^~And why not?~ she inquires.^^~She's a bit young,~ you reply.^^~Ooh, you like your women older, do you?~^^Not the reaction you wanted! ~A bit older, yeah,~ you say.";
	eightiesdj, dj: "~This is Sheila,~ you tell the DJ.^^~All right, Sheila, having a good night?~^^~It's ok,~ she says.";
	goth: "~This is Sheila,~ you tell goth bloke.^^~Nice to meet you,~ goth bloke says to her, taking her hand, ~I'm Lucius. Nothing to do with Harry Potter.~^^~He's really fit!~ Sheila exclaims. ~Can you handcuff me to him?~";
      bloke: "~This is Sheila,~ you tell the bloke.^^~And?~ one of the girls asks.";
	girlone: "~This is Sheila,~ you tell one of the girls.^^~And?~ the other one asks.";
	dancer: "~This is Sheila,~ you tell the dancer.^^~Hi, I'm Fiona,~ she says, shaking Sheila's hand.";
	faith: "~This is Sheila,~ you tell the bartender.^^~Right,~ the bartender says, clearly wondering if there's any relevance in this introduction.";
      youngguy: if (girl.dance < 4) {"You're about to when the girl says, ~Hey, much as I'd like you to introduce me to fit blokes, I'd rather we got out of these handcuffs first.~";} youngguy.satisfied = 1; punkroom.count = 2; handcuffs.victim = 0; give handcuffs ~locked; give girl scenery; give youngguy ~scenery; youngguy.initial = "The young nu-metal vixen and the young punk guy stand in a corner, locked in an embrace."; "~This is Sheila,~ you say to the young guy.^^~Hi Sheila,~ he says, shyly. ~I'm Peter.~^^They start talking to each other, hesitantly at first, but then they get chatting about bands, and before long they're kissing.^^Ahhh, young love!";
    }
  }

  if (second == woman) {<<Introduce woman noun>>;}

  if (noun == woman) {
    if (cyberbloke.satisfied == 1) {
      if (second == cyberbloke) {"You've introduced them already.";}
    }
    if (woman.introduced == 0) {"You're about to, but realise in time that you don't know the woman's name.";}
    if (second == mulletmen) {"~Have you met Ruby?~ you ask a mulletman.^^~Oh yeah. Me and Ruby here go back a loooong way,~ he says, putting his arm round her. She gives him a peck on the cheek. You shudder.";}
    if (second == eightiescrowd) {"~Hey, have you met Ruby?~ you ask a few people. ~Oh, we've met Ruby, it's you we're wondering about,~ is the typical response.^^~I'm Dave,~ you say, hesitantly.^^~Having a good time?~^^~Oh. Yeah. Definitely.~";}
    if (second == youngguy) {if (woman.son == 1) {"You suspect they might have met before.";} "~Have you met Ruby?~ you ask the young guy.^^~A few times, yeah,~ he says.";} 
    if (second == doommonkeyfan) {"~Hey,~ you say, but fanboy is too busy talking to Ozzy. Why is Ozzy still listening?";}
    if (second ofclass crowd) {"~Hey, have you met Ruby?~ you ask a few people.^^~No, and I haven't met you either,~ is the typical reply.^^~Oh, sorry, I'm Dave,~ you say.^^~Nice to meet you both.~";}
    switch (second) {
      cloakroomattendant: "~This is Ruby,~ you tell the cloakroom attendant.^^~Hiya,~ Ruby says. The cloakroom attendant looks somewhat worried.";
      punk: if (woman.husband == 1) {"You suspect they might have met before.";} "~Hey, have you met Ruby?~ you ask.^^~Unfortunately,~ the punk says. His lack of manners never cease to amaze you.";
      eightiesdj: "~Have you met Ruby?~ you ask the DJ.^^~Course I have, she's a regular,~ the DJ says.";
	gluesniffer: "~This is Ruby,~ you tell the guy.^^~Oh. Right,~ he says.";
	cyberbloke: score++; give cyberbloke scenery; cyberbloke.satisfied = 1; handcuffs.victim = 0; "~This is Ruby,~ you tell cyberbloke.^^~Awright, Ruby,~ cyberbloke says, much to his cost, as she starts nattering away to him. He seems content enough, though.";
	goth: "~This is Ruby,~ you tell goth bloke.^^~Nice to meet you,~ goth bloke says to her, taking her hand, ~I'm Lucius. Nothing to do with Harry Potter.~^^~He's well attractive him!~ Ruby exclaims. ~Handcuff us, would ya?~";
      bloke: "~This is Ruby,~ you tell the bloke.^^~And?~ one of the girls asks.";
	girlone: "~This is Ruby,~ you tell one of the girls.^^~And?~ the other one asks.~";
	dancer: "~This is Ruby,~ you tell the dancer.^^~Hi, I'm Fiona,~ she says, shaking Ruby's hand.";
	faith: "~This is Ruby,~ you tell the bartender.^^~Right,~ the bartender says, clearly wondering if there's any relevance in this introduction.";
    }
  }

  if (second == dancer) {<<Introduce dancer noun>>;}

  if (noun == dancer) {
    if (second == cyberbloke) {"You suspect they've met before.";}
    if (dancer.introduced == 0) {"You're about to, but realise in time that you don't know the woman's name.";}
    if (second == mulletmen or doommonkeyfan) {"Nah, she hasn't done anything to deserve that.";}
    if (second == youngguy) {"The young guy appears to be sort of busy.";}
    if (second ofclass crowd) {"~Hey, have you met Fiona?~ you ask a few people.^^~No, and I haven't met you either,~ is the typical reply.^^~Oh, sorry, I'm Dave,~ you say.^^~Nice to meet you both.~";}
    switch (second) {
      cloakroomattendant: "~This is Fiona,~ you tell the cloakroom attendant.^^~Hi.~ The attendant smiles at Fiona, a smile laden with the question ~Do you know what he's on, because I certainly don't.~.";
      punk: "~This is Fiona,~ you tell the punk.^^The punk looks up from ~White Line Fever~. ~Awright, Fiona. Do you want a fanzine?~ He offers one to her.^^~No, I'll just lose it,~ Fiona says.^^~Oh. What are you doing going round this loser, anyway? You need a proper man.~^^~I've got a proper man,~ Fiona says, ~but this seems like a good enough substitute for a bit.~^^~Oh,~ the punk says. He looks more even more irritated than usual. Serves him right for making life so difficult!";
	gluesniffer: "~This is Fiona,~ you tell the guy.^^~Oh. Right,~ he says.^^~Why, exactly, are you sniffing a pair of shoes him?~ Fiona asks.^^~Cos I wad do,~ he says.";
	goth: "~This is Fiona,~ you tell goth bloke.^^~Nice to meet you,~ goth bloke says to her, taking her hand, ~I'm Lucius. Nothing to do with Harry Potter.~";
      bloke: "~This is Fiona,~ you tell the bloke.^^~And?~ one of the girls asks.^^~Why bother going to clubs if you're just going to stand in the toilets being snooty?~ Fiona inquires.^^~We like standing in the toilets being snooty,~ the other girl says.^^~Well, to each her own,~ Fiona says.";
	girlone: "~This is Fiona,~ you tell one of the girls.^^~And?~ the other one asks.^^~And your nipples are showing,~ Fiona says.^^~So what if they are?~ says the bloke.";
	woman: "~This is Fiona,~ you tell the woman. ~Hi, Fiona, I'm Ruby,~ she says.";
	faith: "~This is Fiona,~ you tell the bartender.^^~Right,~ the bartender says, clearly wondering if there's any relevance in this introduction.";
    }
  }

  if (noun == cloakroomattendant || second == cloakroomattendant || noun == faith || second == faith) {
    "Her being stuck behind the counter makes this is a touch difficult.";
  }

  if (noun == eightiesdj || second == eightiesdj || noun == dj || second == dj) {
    "Him being stuck in his booth makes this is a touch difficult.";
  }

  if (noun == punk || second == punk) {"~We've met,~ the punk snarls.";}

  if (noun == youngguy || second == youngguy) {
    if (youngguy.satisfied == 1) {"He's a bit busy to be introduced to anyone.";}
    if (youngguy.introduced == 0) {"You realise you don't know his name.";}
    "~Hey, have you met Peter?~ you ask a few people.^^~Yeah, it's you we don't know,~ is the typical reply.^^~I'm Dave,~ you say.^^~Right.~";
  }

  if (noun == cyberbloke || second == cyberbloke) {
    if (cyberbloke.asked == 0) {"You realise you don't know what his name is.";}
    if (second == dj || noun == dj) {
      "~This is Steve,~ you tell the DJ.^^~Awright, Steve, how's it going?~ the DJ says.^^~Good, thanks.~";
    }
    "~Hey, have you met Steve?~ you ask a few people.^^~No, and we haven't met you either,~ is the general response.^^~I'm Dave,~ you say.^^~Right.~";
  }

  if (noun == doommonkeyfan || second == doommonkeyfan) {
    if (doommonkeyfan.named == 0) {"You realise you don't know his name yet.";}
    if (ozzy in metalroom) {"He's too busy chatting up Ozzy for that sort of thing.";}
    "~Hey, have you met Keith?~ you ask a few people. ~He's a really great guy.~^^~Hi Keith,~ they say, but sadly no one seems to have anything else to say to him.";
  }

  if (noun == girlone || noun == bloke || second == girlone || second == bloke) {
    if (noun == gothtoiletcrowd || second == gothtoiletcrowd) {
      "But you don't know who any of them are.";
    }
    "They seem to have met already.";
  }

  if (noun == cyberbloke || second == cyberbloke) {
    if (cyberbloke.asked == 0) {"You're about it, when you realise you don't know cyberbloke's name.";}
    if (noun == faith || second == faith) {
	"~This is Steve,~ you tell the bartender.^^~Right,~ she says, evidently wondering if there's any relevance in this introduction.";
    }
    if (noun == dj || second == dj) {
      "~This is Steve,~ you tell the DJ.^^~All right, Steve, having a good one?~^^~Yeah, great thanks, yourself?~^^~Wicked.~";
    }
  }

  if (noun == goth || second == goth) {
    if (goth.introduced == 0) {"You realise you don't know what his name is.";}
    "~Hey, have you met Lucius?~ you ask a few people.^^~Yes, it's you we don't know,~ is the general response.^^~I'm Dave,~ you say.^^~Right.~";
  }
];

[KickSub;
  if (noun == player) {"You kick yourself for not insisting Robot opened his door himself.";}
  if (noun == bastard) {"Unable to help yourself, you deliver the bastard a swift kick.";}
  if (noun has animate) {"Nah. Experience hath taught you that starting on random people in nightclubs is a fine way to get barred for life.";}
  if (noun == djbooth or djboothtwo or bar or speakers) {"You're about to give the booth a swift kick when a security guard grabs you by the scruff of the neck, and shouts, ~Oi! No attacking the furnishings!~ He lets you go and leaves the room, but his grip remains imprinted on your neck. Ow.";}
  if (noun == punkdoorin or punkdoorout or eightiesdoorin or eightiesdoorout or gothdoorin or gothdoorout or dodgydoorin or dodgydoorout) {"You kick the door. It makes a satisfying thunk but hurts your foot a bit.";}
  "Nah, you can't see any benefit in kicking that.";
];

[ KissSub;
  if (ObjectIsUntouchable(noun)) return;
  if (RunLife(noun,##Kiss)~=0) rfalse;
  L__M(##Kiss,1,noun);
];

[ListenToSub;
  if (noun == player) {"Yeah, you do that! Honestly, you're not Dave's agony aunt! Muppet! (Well, maybe you are. What would I know? I would have thought the fact that he's a fictional character would prevent such a thing, but you never can tell, especially not with all you soulbonding types.)";}
  if (noun == doommonkeyfan && doommonkeyfan.autograph > 0) {"You'd rather not.";}
  if (noun == ozzy) {"No. You refuse to hang around him, fawningly, à la fanboy.";}
  if (noun has animate) {"They don't seem to be saying anything.";}
  if (noun ofclass cd) {"This, you've discovered, is more effective with the aid of a CD player.";}
  "It doesn't seem to be making any noise.";
];

[ListenToYourselfSub;
  "Yeah, you do that! Honestly, you're not Dave's agony aunt! Muppet! (Well, maybe you are. What would I know? I would have thought the fact that he's a fictional character would prevent such a thing, but you never can tell, especially not with all you soulbonding types.)";
];

[LookAtMeSub;
  <<examine player>>;
];

[LookAtThisSub;
  "Instructing the game to perform tasks on unspecified objects isn't going to get you anywhere. Except possibly a mental health ward.";
];


[LoveSub;
  "Ah, if only love were that easy to create and destroy!";
];

[MakeCakeSub;
  "Oh yeah, that's easy to do in a goth club! You can barely move for ingredients and cooking utensils!";
];

[MakeSenseSub;
  "Now we're asking the impossible!";
];

[MakeSub;
  "Nah, you're not feeling particularly creative.";
];

[MetalSub;
  "METAAAAAAAAAAAAAAAAAAAAL!!!!!!!!!!!!!!!!!!!!";
];

[MoonWalkSub;
  "Ah, your moonwalking ability isn't one you've cared to publicise in the last sixteen years.";
];

[NoSub;
  "That was a bit bad, wasn't it?";
];

[NopeSub;
  "There's no need for that.";
];

[OpenLeftSub;
  if (testscope(leftdrawer) ~= 1) {"You can't see any such thing.";}
  <<open leftdrawer>>;
];

[OpenRightSub;
  if (testscope(rightdrawer) ~= 1) {"You can't see any such thing.";}
  <<open rightdrawer>>;
];

[PlaySub;
  "Alas! You seem to have forgotten how to.";
];

[PlayGameSub;
  "You try to remember one of those games your Mum told you to play on boring car journeys and feel rather distraught on realising you can't remember any. You really have smoked too much weed. But never mind, there isn't time for that now anyway.";
];

[PlayInstrumentSub;
  "Possessing the appropriate instrument would help you immeasurably in doing so.";
];

[PlayTheFunkyMusicSub;
  "That's your intention, yes.";
];

[PoleDanceSub;
  if (location ~= dodgyroom) {"There aren't any poles here. (Well, there might be some people from Poland around, but you wouldn't know how to dance with them either.)";}
  "Nah, you wouldn't have a clue how to.";
];

[PullThingSub;
  "Nah, you don't even fancy your chances with inanimate objects.";
];

[PutInCloakRoomSub;
  "You're not paying to use the cloakroom again.";
];

[PutWaterInSub;
  if (water notin player && beer notin player && location ~= punktoilets && location ~= eightiestoilets && location ~= gothtoilets && location ~= dodgytoilets && location ~= punkcubicle && location ~= eightiescubicle && location ~= gothcubicle && location ~= dodgycubicle) {"But you don't have any water.";}
  if (noun == boots) {"No. When you were a teenager, you spent a few months as a hypochondriac, but even then, you never suffered any great desires for trench foot.";}
  if (noun == dms) {"Yeah, fill his shoes with water! That'll teach him! Actually, it might just be more fun to steal them and not give them back. You could make a quid or two off these and all.";}
  if (water in player && noun == punktoilet or eightiestoilet or gothtoilet or dodgytoilet) {"Nah, there's enough water in there already, and there's enough empty glasses lying around as it is to open a shop selling them. What sort of people would want to buy them, though, is another matter.";}
  "That's not suitable for putting water in.";
];

[ReadSub;
  print "There's nothing on "; if (noun has pluralname) {print "them";} else {print "it";} " to read.";
];

[RememberSub;
  "After the last few days' drinking binge, you can't seem to remember anything.";
];

[RipSub;
  if (noun == requestlist || noun == whitelinefever || noun == cloakroomticket || noun == fanzine) {"Nah. You can see no benefit in ripping it up.";}
  if (noun == flyer) {"You've found shredding flyers a great way of livening up dull rock nights in the past, but maybe best not to destroy anything tonight. You're in a bit of a hurry and the most seemingly useless objects always turn out to be useful in games like this.";}
  if (noun == meshtop || noun == anarchyshirt || noun == pinstripetrousers) {"The material is too tough.";}
  "That's untearable.";
];

[SignOfCrossSub;
  "Iron Maiden already did that. I mean, all the clubgoers including yourself are revealed as fiends and vanish into thin air. . . no, not really. This isn't ~Lancelot~, you know.";
];

[StabSub;
  if (second ~= knife) {
    if (noun == player) {"Calm down, Dave, you're starting to lose it. Is that even remotely stabby? No, it isn't.";}
    print "No; ", (the) Noun; " would probably spend the next two hours laughing at you.";
  }
  if (noun == player) {"Now now. Just because you're in a goth club doesn't mean there's any need for that!";}
  if (noun ofclass person) {print "Now now. ", (The) noun; " might not be your favourite person in the world, but that's a bit harsh!";}
  if (noun == bar) {"You thrust the knife into the bar, in an attempt to show the bartender you mean business. Sadly, the bar is coated with some plasticky bumph that the knife completely fails to penetrate. You drop it, and scramble around under the bar, wishing there was a hole down there you could creep into forever.";}
  "Nah, you can't see any benefit in stabbing that.";
];

[SuckSub;
  "Nah, you don't know where it's been.";
];

[TalkSub;
  "You need to specify what you want to talk about. i.e. TALK TO PERSON ABOUT TOPIC.";
];

[TearHairOutSub;
  "You attempt to tear your hair out, in the hope that someone will take pity on you and give you a glowstick, but your hair seems to be firmly stuck to your head.";
];

[ThreatenSub;
  if (noun has animate) {"Nah. You're sadly incapable of sounding even remotely threatening.";}
  print "~Oi,~ you say to ", (the) noun, ". ~If you don't do as you're told, you're done for, you are.~^^", (The) noun, " doesn't seem particularly fazed by your threat, though"; 
  if (location ~= punkcubicle && location ~= eightiescubicle && location ~= gothcubicle && location ~= dodgycubicle && location ~= thedark) {", and a few people give you funny looks.";} ".";
];

[ThreatenWithSub;
  print "~You'd better watch out,~ you say. ~I've got ", (a) second, " and I'm not afraid to use it.~^^~If you say so,~ ", (the) noun; " says, sounding just a trifle sceptical. Huh. Some people.";
];

[ThrowAtWallSub;
  if (noun == player) {"Now now, it's not that bad.";}
  if (noun == knife) {"For that Beyond Zork chic? No, you're too likely to hit someone.";}
  if (noun == bastard) {"Hee hee hee . . . sadly, he's a bit heavy for that sort of thing.";}
  if (noun has animate) {"No, as you suspect that would be a perfect way of getting thrown out.";}
  "Now now, you grew out of throwing your possessions at the wall twenty three years ago. (Ok, you might have thrown a few things when you were seventeen and the girl you'd fancied for five years was showing no signs of wanting to go out with you and every sign of wanting to go out with one of your best friends, but you're totally over that now. Well, ok, not totally, 

no amount of angst could excuse that sort of thing now.)";
];

[ThrowOverSub;
  "Futile.";
];

[UndressSub;
   if ((meshtop has worn || jacket has worn) || anarchyshirt has worn) {
   if (meshtop has worn && jacket has worn) {
     give meshtop ~worn; give jacket ~worn;
     print "You take off the jacket and mesh top";
   }
   if (anarchyshirt has worn && jacket has worn) {
     give anarchyshirt ~worn; give jacket ~worn;
     print "You take off the jacket and anarchy shirt";   
   }
   if (meshtop has worn) {
     give meshtop ~worn;
     print "You take off the mesh top";
   }
   if (jacket has worn) {
     give jacket ~worn;
     print "You take off the jacket";
   }
   if (jacket has worn) {
     give meshtop ~worn;
     print "You take off the mesh top";
   }
   ", but even if you thought removing your trousers was a good idea - which you don't, as you don't seem to be wearing anything underneath - you'd have to take off your boots first, and you're not entirely sure how to.";
   }
   "Even if you thought removing your trousers was a good idea - which you don't, as you don't seem to be wearing anything underneath - you'd have to take off your boots first, and you're not entirely sure how to.";
];

[UndressOtherSub;
  if (noun == player) <<undress>>;
  if (noun == bastard) {"Hee hee hee. Only then you'd have to see him naked, and you'd really rather not.";}
  if (noun == woman) {"You'd really rather not.";}
  if (noun == dancer || (noun == girl && girl.dance < 3)) {"You'd like to, but you lack the courage. All things in good time, though.";}
  if (noun == girl) {"Nah, you'd better not.";}
  if (noun hasnt animate) {"That isn't wearing anything.";}
  if (noun == cloakroomattendant or faith) {"(with your eyes, as you don't dare do otherwise) You imagine she's wearing . . . and then you realise you have no idea about what sort of underwear women like her wear.";}
  if (noun == dj or eightiesdj or punk or securityguard) {"No way!";}
  if (noun == gluesniffer) {"No, he doesn't look keen on the idea of positioning his arms in such a way as to aid t-shirt removal.";}
  if (noun == bloke) {if (acid.taken == 0) {"Yeah, he's really going to let you do that!";} "You try to remove the feathers, but can't actually work out how they're stuck together. Oh well.";}
  if (noun == girlone) {if (acid.taken == 0) {"Yeah, she's really going to let you do that!";} if (girlone.turn == 0) {girlone.turn = 1; "You try to remove the latex, but can't work out where it starts and ends. Oh well.";} girlone.turn = 0; "You try to remove the fur, but you can't stand the feel of it and give up.";}
  if (noun == cyberbloke or goth) {"Nah, this really isn't the place for it.";}
  if (noun == youngguy) {"Nah, he looks young enough that you'd probably get arrested.";}
  if (noun == ozzy) {"No. You gather Ozzy's multidinous life experiences have taught him how to undress himself.";}
  if (noun == doommonkeyfan) {if (doommonkeyfan.autograph < 2) "Oh, you're sure he'd let you, but you're not so keen. Groupies are all very well and good, but could they be, like, female? And slightly less annoying?";} "You attempt to yank fanboy's baggy trousers down, but even though he's displaying 7~ of pants, his studded belt holds them up securely. Fortunately, he doesn't seem to notice this attempt.";
];

[UseSub;
  if (noun == punktoilet or eightiestoilet or gothtoilet or dodgytoilet) {
    "You don't have any need to right now.";
  }
  if (noun == player) {"Oh, come off it! You're completely useless!";}
  if (noun has animate) {print "This would require some willingness to be used on ", (the) noun; "'s part.";}
  "You'll have to specify exactly how you want to use that.";
];

[VomitSub;
  if (youngguy.satisfied == 1 && location == punkroom) {"You feel like you might be sick, but you've never been able to puke on command.";}
  "Nah, puking on command is a talent you've never mastered. Possibly just as well - potential girlfriends might be distraught to discover you'd spent time on doing so.";
];

[WombleSub;
  "You remember-member-member what a womble-womble-womble you are!";
];

[ XMenuSub;
   ShowMenu(main_menu);
];

[XyzzySub;
  "Same to you!";
];

[YesSub;
  "That was rather good, wasn't it?";
];

[AskKeySub;
  if (noun == girl) {
    if (girl.dance < 3) {"She seems more interested in dancing than talking.";}
    else {if (space in neverneverland) "~Do you know anyone who might have a key?~ you ask.^^~No, I do the handcuffing around here,~ she says."; else "~Isn't it lucky I found a key?~ you say.^^~Indeed,~ she says, although she sounds a bit disappointed.";}
  }
  if (noun == goth) {
    "~You don't happen to have a key for a pair of handcuffs, do you?~ you ask.^^~The key? Music is the key,~ he says, mysteriously.";
  }
  if (noun == bastard) {
    "He's kind of too out of it for that sort of thing.";
  }
  if (noun == cloakroomattendant) {
    "~Did anyone leave a key for a pair of handcuffs in their pocket?~ you ask.^^~Are you suggesting that I go through people's pockets?~ the attendant asks, sounding offended.^^~Er, no, but one might have fallen out,~ you say. The look on her face tells you the answer's no.";
  }
  "~You don't happen to have a key for a pair of handcuffs, do you?~ you ask.^^~Sorry, no.~";
];

[AskSub;
  if (headphones has worn) {"There's no point. With the headphones on, you won't be able to hear the answer.";}
  if (acid.taken == 1) {"~Hi,~ you begin. No sound comes from your throat, but a few smoke rings, in the shape of an H, an i, and a comma flow out of your mouth and begin to drift across the room. What in the world? ~Did you see that?~ you continue, and once again, the words are spelled out in smoke - different colours for the different letters, you notice. Flipping heck. Nobody else seems to pay your oral emissions any heed though.";}
  if (RunLife(noun,##Ask)~=0) rfalse;
  L__M(##Ask,1,noun);
];

[BitePersonSub;
  "You don't think they'd appreciate that very much.";
];

[BiteThingSub;
  "You don't think it would do your teeth any good.";
];

[BleachSub;
  if (noun == punktoilet) <<clean punktoilet>>;
  if (noun == eightiestoilet) <<clean eightiestoilet>>;
  if (noun == gothtoilet) <<clean gothtoilet>>;
  if (noun == dodgytoilet) <<clean dodgytoilet>>;
  "That's unbleachable.";
];

[Blow2Sub;
  "You blow and someone's cigarette goes out. You apologise profusely.";
];

[BlushSub;
  "Colour in your cheeks? But the goths would laugh at you!";
];

[ChainsawSub;
  "Yes, this game does get a bit alarming at times, doesn't it?";
];

[CloseLeftSub;
  if (testscope(leftdrawer) ~= 1) {"You can't see any such thing.";}
  <<close leftdrawer>>;
];

[CloseRightSub;
  if (testscope(rightdrawer) ~= 1) {"You can't see any such thing.";}
  <<close rightdrawer>>;
];

[CureSub;
  "Nah, you've never fancied yourself as Robert Smith.";
];

[CutHairSub;
  "No! Absolutely definitely not! Cutting your hair goes against your every principle! All two of them!";
];

[DodgySub;
  "That can wait until you get home.";
];

[DropAcidSub;
  if (TestScope(acid) ~= 1) {"You can't see any such thing.";} else {<<Take Acid>>;}
];

[EmptyBladderSub;
  "Your bladder is quite empty enough as it is.";
];

[ExecuteSub;
  "Public execution's been banned, don'tcha know?";
];

[FeedSub;
  if (second == bastard) {
    if (noun == bleach || noun == glue) {"Now now! That's a tad harsh!";}
    if (noun == gel) {"You squeeze some gel into the bastard's mouth. Hahahaha! That'll worry him!";}
    if (noun == glowstick) {print "~Open wide,~ you say to the bastard, pushing his lips apart and inserting the glowstick. ~Get your gums around this. Ooh, dear. When was the last time you brushed these? Think we're going to have to take them all out, I'm afraid.~ You smile evilly";
      if (location == punkcubicle || location == eightiescubicle || location == gothcubicle || location == dodgycubicle) {" and contemplate knocking them out, but that would be lowering yourself to his level.";}
      else {print ".^^You're wondering whether to knock them out, when you become aware of a woman staring at you curiously. ~Ah, the fun of playing dentist never does wear off,~ you explain.^^";
        if (location == dodgyroom || location == dodgytoilets) {"~Now there's a form of roleplay you don't see often,~ she comments, nodding approvingly, before disappearing into the masses.";
        } else {
          "~If you say so,~ she says, sounding worried and walking away.";
        }
      }
    }
    if (noun == cloakroomticket) {"Nah. You might need that later.";}
    if (noun == anarchyshirt) {if (anarchyshirt.retrieved > 1) "After all the lengths you've gone to to clean it, the last thing you want to do is to get bastard saliva on it.";} else {"You stuff the shirt into the bastard's mouth. He coughs it out, but it's in there for long enough that he'll wonder what on earth he had to drink the night before. Hahahaha!";}
    "That won't fit in his mouth.";
  }
  if (second == girl || second == dancer) {
    if (noun == glowstick) {"She licks and sucks your glowstick suggestively.";}
    "You suspect she's quite capable of feeding herself.";

  }
  if (second == player) {
    <<Eat Noun>>;
  }
  if (second ofclass person) {
    if (second has female) "You suspect she's quite capable of feeding herself.";
    "You suspect he's quite capable of feeding himself.";
  }
  "You suspect they're quite capable of feeding themselves.";
];

[FlickHairSub;
  print "Like a valley girl? Gag me with a pitchfork!";
  if (punktoiletcrowd.help == 1) {print " Besides, you don't think it would really work, the way your hair is at the moment.";} print "^"; rtrue;
];

[HaSub;
  "Very funny! Sadly, you don't have any rope.";
];

[HangSub;
  "You don't have anything to hang it on.";
];

[AutographSub;
     if (pen notin player) "You'll need something to write with."; 
     if (noun == flyer) {
       if (flyer.writtenon == 1) {"You've already autographed it.";}
       if (metalroom hasnt visited) {"You're not that famous that you need to keep an autograph or two up your sleeve.";}
       if (doommonkeyfan.named == 0) {
         if (player in metalroom) {
           doommonkeyfan.named = 1; flyer.writtenon = 1; "~What's your name?~ you ask your fan.^^~Keith,~ he replies. You write ~To Keith, METAAAAL!~ and then sign your name on the back of the flier.";
         }
         "Perhaps you'd better find out your fan's name first.";
       } else {
         flyer.writtenon = 1; "You write ~To Keith, METAAAAL!~ and then sign your name on the back of the flier.";
       }
     }
  if (noun == doommonkeyfan) {
    if (doommonkeyfan.autograph == 0) {
      "~Can I just sign your arm?~ you ask.^^~No, it'll wash off,~ he says.^^~If you were really hardcore, you'd get a tattoo made over it, though,~ you say.^^~Oh, I wish I could,~ the fan says. ~But, my Mum- er, my mate, who's a bigger fan than I am would kill me.~";
    }
    "No! You don't want to be any more associated to this loser than you already are!";
  }
  if (noun == player) {"What, in case you forget who you are? Or so you can get a better price when you sell yourself? But very well: you sign your name on your hand.";}
  if (noun has animate) {"You've noticed most people prefer not to be written on with a biro.";}
   if (noun == whitelinefever) {"No, you can't autograph the work of another rock legend - it's just not right!";}
   if (noun == cloakroomticket) {"Nah, you can't fit your signature on the ticket.";}
   "Nah. Graffiti woz ere two thousand years ago (if ~The Life Of Brian~ is to be believed) so it's hardly anarchic."; 
];

[BleachHairSub;
  if (testscope(bleach) ~= 1) {"You don't have anything to bleach it with.";}
  else {"Nah, you like it dark.";}
];

[Blow3Sub;
  print "Nah. You don't think ";
  if (noun has female) {print "she'd";}
  else {if (noun == player) {print "you'd";} else {print "he'd";}} 
  " make much of a wind instrument.";
];

[Blow4Sub;
  if (noun == beer || noun == water || noun == absinthe) "This tends to be more effective with hot drinks.";
  "Nah. You don't think it would make much of a wind instrument.";
];

[BowSub;
  "Throwing your shirt into the audience is more your style.";
];

[CalculatePunkness punkness;
  punkness = 0;
  if (jacket has worn) {punkness++;}
  if (safetypin has worn) {punkness++;}
  if (anarchyshirt has worn) {punkness++;}
  if (chain has worn) {punkness++;}
  if (punktoiletcrowd.help == 1) {punkness++;}
  return punkness;
];

[CleanSub;
  "No, you only clean anything if you absolutely have to. And sometimes not even then.";
];

[ClimbSub;
  if (noun == punkstairs) {PlayerTo(IndustrialRoom); rtrue;}
  if (noun == eightiesstairs) {PlayerTo(EBMRoom); rtrue;}
  if (noun == gothstairs) {PlayerTo(MetalRoom); rtrue;}
  if (noun == dodgystairs) {PlayerTo(TranceRoom); rtrue;}
  if (noun == punkdoorout or punkdoorin or eightiesdoorout or eightiesdoorin or gothdoorout or gothdoorin or dodgydoorout or dodgydoorin) {"No can do. The gap between the top of the door and the ceiling isn't big enough for you to get through.";}
  "That's not particularly climbable.";
];

[Consult2Sub;
  if (noun has legible) {<<Examine noun>>;}
  print (The) noun; " doesn't seem to have any words of wisdom to impart.";
];

[CrowdSurfSub;
  "Nah. Clubbers tend to be less supportive, as it were, of this activity than concert-goers.";
];

[CutSub; 
  if (noun == player) "Nah. You've never really gone in for self-injury.";
  if (second ~= knife && second ~= razorblade) {"You call that a cutting implement? I don't know, some people!";}
  if (noun == punk) {"Though you imagine he'd respect you a lot more if you threatened him with a blade, he's probably got a bigger one. So no.";}
  if (noun == doommonkeyfan) {
    if (doommonkeyfan.autograph == 0) {"~How about I just carve my name on your arm?~ you ask.^^He turns whiter than white. A career in washing powder adverts surely awaits him.~Er, ah, my girlfriend would kill me if I got something that special done, and she's not here tonight, and so might never get to meet you,~ he replies.^^Very well. It's not like you'd agree to such a suggestion either, rock'n'roll or otherwise. Well, not while sober anyway.";}
    if (doommonkeyfan.autograph == 1) {"~Let's see how hardcore you are,~ you say, getting out the blade.^^~Oh, I love hardcore! It's my favourite! Have I told you about . . .~ You put it away again. Never mind.";
    }
    "No, he won't pay you enough attention for you to do it consensually, and much as you'd love to stab him in the back, just like he did to you, doing so metaphorically is more your style. And you feel too apathetic - and glad to have escaped, more to the point - to even bother doing that.";
  }
  if (noun == bastard) {"Oh, you'd like to, only it might wake him up, so better not.";}
  if (noun ofclass person) {"Nah. Mutual consensual injury might be all the rage in the fetish scene at the moment, but it's not something you want to get involved with at this point in your life. (You're a wuss, and you'd like to have just one nice normal relationship, even a short one, before plunging headlong into rock'n'roll debauchery.)";} 
  "Nah, you prefer it uncut.";  
];

[DanceSub;
  "What, in here? Nah.";
];

[DrySub;
  "It's not wet.";
];

[EatGlueSub;
  if (TestScope(plasticbag) ~= 1) {"You can't see any such thing.";}
  "Er, best not. One day when you were about eight, this girl you were friends with (probably the closest approximation to a girlfriend you've ever had) wanted to tell you a secret, but wanted to be sure you wouldn't tell anyone. You promised not to, but to seal your pact as it were, she insisted on supergluing your lips together. Your parents were not best pleased about the trip to casualty that ensued. The secret was really boring as well, just that her older sister had a boyfriend. It wasn't even true.";
];

[FadeSub;
  if (player notin djbooth && player notin eightiesroom) {"Sadly, you lack the powers required to dematerialise.";}
  if (player in eightiesroom && mixer in neverneverland) {"Sadly, you lack the powers required to dematerialise.";}

  if (kingdom.playing == 1) {"No, no. It's quite all right as it is.";}

  if (leftfader.position == 1 && rightfader.position == 1) {"You can't do that while both faders are up.";}
  if (leftfader.position == 0 && rightfader.position == 1) {
    leftfader.position = 1; rightfader.position = 0;
    if (child(leftdrawer) == nothing || leftdrawer has open || leftdrawer.playing == 0) {
      rightfader.position = 1; "Although you can't hear anything, you sense the quiet. Everyone turns to stare. Uh oh. But, before you know it, a mullet man comes over, says something, and yanks the right fader back up again. He says something that looks like, ~There, that's fixed it~ and disappears among his fellow mullets.";
    }
    if (child(leftdrawer) == evilcd) {leftdrawer.playing = 1; "You slowly exchange the position of the faders. The crowd go mad and before long start making YMCA movements. Oh dear.";}
    if (child(leftdrawer) == eightiescd) {leftdrawer.playing = 1; print "You slowly exchange the position of the faders."; centerfold(); rtrue;}
    if (child(leftdrawer) == kingdom) {
      if (rightbutton.minutes == 10 && leftbutton.minutes == 9) { 
        score++; kingdom.playing = 1; move woman to punkroom; " The crowd look puzzledly at each other. The goths go mad, but most of the mulletfolk, including your friend, tramp up the stairs, although they'll only find the same up there, you imagine. You feel guilty for a moment, but then relief quickly wins out.";
      } else {
        leftfader.position = 0; rightfader.position = 1; " The crowd look annoyed at the mid-song switch. Before you know what's happening, a mullet man comes over, exchanges the position of the faders says something that looks like ~That's better~ and rejoins his fellow mullet folk.";
      }
    }
  }
  if (rightfader.position == 0 && leftfader.position == 1) {
    rightfader.position = 1; leftfader.position = 0;
    if (child(rightdrawer) == nothing || rightdrawer has open || rightdrawer.playing == 0) {
      leftfader.position = 1; "Although you can't hear anything, you sense the quiet. Everyone turns to stare. Uh oh. But, before you know it, a mullet man comes over, says something, and yanks the left fader back up again. He says something that looks like, ~There, that's fixed it~ and disappears among his fellow mullets.";
    }
    if (child(rightdrawer) == evilcd) {"You slowly exchange the position of the faders. The crowd go mad and before long start making YMCA movements. Oh dear.";}
    if (child(rightdrawer) == eightiescd) {rightdrawer.playing = 1; print "You slowly exchange the position of the faders."; centerfold(); rtrue;}
    if (child(rightdrawer) == kingdom) {
      if (leftbutton.minutes == 10 && rightbutton.minutes == 9) {
        score++; kingdom.playing = 1; rightdrawer.playing = 1; move woman to punkroom; " The crowd look puzzledly at each other. The goths go mad, but most of the mulletfolk, including your friend, tramp up the stairs, although they'll only find the same up there, you imagine. You feel guilty for a moment, but then relief quickly wins out.";
       } else {
         rightfader.position = 0; leftfader.position = 1; "The crowd look annoyed at the mid-song switch. Before you know what's happening, a mullet man comes over, exchanges the position of the faders says something that looks like ~That's better~ and rejoins his fellow mullet folk.";
       }
     }
   }
];

[FixSub;
  if (plasticbag notin player) {"Some means of fixing it would help.";}
  else {"Of all the sayings you can't stand, ~If it ain't broke, don't fix it~ is your least favourite. Because, well, duh! Still, this doesn't detract from its relevance.";}
];

[FlickSub;
  if (noun == player) {"You flick yourself, but you seem to be awake, sadly.";}
  if (noun == bastard) {"Nah, it might wake him up, while not hurting enough to be worthwhile.";}
  if (noun has animate) {"You've gathered most people don't appreciate being flicked.";}
  "It has no obvious effect.";
];

[FlushSub;
  "You can't flush that.";
];


[FollowSub;
  "The thing you typed there seems to go nowhere.";
];

[GetDrinkSub c;
  c = 5;
  if (location == dodgyroom) {
    print "~Can I buy a drink?~ you ask.^^~Um, if you really want to. Water's free, and for a pound you can get Guinness-flavoured water, lager-flavoured water and chocolate-flavoured water.~^^~Any chance of anything, more, like, you know, alcoholic?~ you ask.^^~It's after 2,~ the bartender points out.^^What's it to be then?^0. Never mind.^1. Guinness-flavoured water.^2. Lager-flavoured water.^3. Chocolate-flavoured water.^4. Just plain water.";
    while (c ~= '0' && c ~= '1' && c ~= '2' && c ~= '3' && c ~= '4') {
      print "^>> ";
      text_array->0 = 1;
      read text_array 0;
      c = text_array->2;
      if (c == '0') {"~I'll give it a miss,~ you say.^^~Very wise,~ the bartender says.";}
      if (pound in player && c == '1' or '2' or '3') {
        if (c == '1') {
          move beer to Player; beer.type = 1; move pound to NeverNeverLand; "The bartender gives you a glass of guinness-flavoured water in exchange for your pound. ~Enjoy,~ she says, warily.";
        }
        if (c == '2') {move beer to Player; beer.type = 2; move pound to NeverNeverLand; "The bartender gives you a glass of lager-flavoured water in exchange for your pound. ~Enjoy,~ she says, warily.";}
        if (c == '3') {move beer to Player; beer.type = 3; move pound to NeverNeverLand; "The bartender gives you a glass of chocolate-flavoured water in exchange for your pound. ~Enjoy,~ she says, warily.";}
      }
      if (c == '1' or '2' or '3') {
                   "~Er, can you charge it to my housemate?~ you ask.^^~You what?~ The bartender looks baffled.^^~Oh, never mind,~ you say. After all, things couldn't ever be EASY round here, could they?";
      }
      if (c == '4') {if (water in neverneverland) {
        move water to Player; "~Good choice.~ The bartender gives you a glass of water.";
      } else {
        c = 5; "Nah, you don't really need another glass of water in addition to the one you got earlier.";
      }
      }
      else {print "That's not an option.";}
    }
  }
  "Being able to see a bar would help you immeasurably in such a task.";
	
];

[GetLifeSub;
  "You've been trying to do that for years, but no joy so far.";
];

[GiveOneSub;
  print "~Oh, ok,~ ";
  if (noun has female) print "she"; else print "he"; 
  " agrees, and gives you one.";
];

[GoodbyeSub;
  "You know, chatting to the game really isn't going to help matters.";
];

[GreetSub;
"~Hi,~ you say, with a weak grin.";
];

[HandcuffSub;
  if (handcuffs notin player) {"This would be somewhat easier if you had a pair of handcuffs.";}
  if (noun == player) {"Much as you'd like to run away from yourself at times, you don't think you need restraining.";}
  if (noun ofclass crowd) {"Alas, for that is quite undoable. So many people, so few handcuffs.";}
  if (handcuffs.victim ~= 0 && handcuffs.victim ~= noun) {"You can only be handcuffed to one person at once.";}
  if (AfterRoutines()) return;
  print "~Ah, not my thing,~ ", (the) noun; " says."; 
];

[HandCuffToSub;
  if (handcuffs notin player) {"This would be easier if you had a pair of handcuffs.";}
  if (noun ~= handcuffs.victim) {print "This would be easier if "; 
    if (noun ofclass crowd) {print "they were";} 
    else if (noun has female) {
      print "she was";
    } else {print "he was";}
   " in the handcuffs.";
  }

  if (noun == second) {"Handcuff her to herself? What a surreal idea!";}

  if (second hasnt animate) {"That lacks a suitable component part for handcuffing people to.";}

  if (second ofclass crowd) {"Alas, for that is quite undoable. So many people, so few handcuffs.";}

  if (second == player) {"She's already handcuffed to you.";}

  if (noun == player) <<handcuff second>>;

  if (second == securityguard) {"What a brilliant idea! Sadly, his wrist turns out to be too wide to get a cuff round. ~What are you playing at, son?~ he snarls.^^~Nothing,~ you say, meekly.";}

  if (second == dj) {"Before you can, the DJ says, ~Nah, mate, I need both my hands to spin the tunes, know what I mean?~ You don't, but you'll take his word for it.";}

  if (second == faith) {"~Now now, how I am supposed to serve drinks with someone handcuffed to me?~ the bartender asks.";}

  if (second == cloakroomattendant) {"~Now now, how am I supposed to get people's coats with someone handcuffed to me?~ the attendant asks.";}

  if (second == youngguy) {
    if (noun == dancer) {"The guy's hands are somewhat busy.";}
    if (noun == woman) {"~Oh, he doesn't want to be seen in public with an old bag like me,~ the woman says.^^~And I don't suppose his new girlfriend'll be best pleased either.~";}
  }

  if (second == girl) {
    "The girl's hands are somewhat busy.";
  }

  if (second == cyberbloke) {
    if (noun == girl) {"You handcuff her to cyberbloke. They talk for a bit, and then cyberbloke asks if he can be released, as he wants to dance. You unlock him and retrieve the girl.";}
    if (noun == dancer) {"Cyberbloke is too busy chatting to 80s woman to be handcuffed.";}
    if (noun == woman) {score++; cyberbloke.satisfied = 1; give cyberbloke scenery; handcuffs.victim = 0; woman.initial = "The eighties woman stands beside cyberbloke, deep in conversation with him."; "You handcuff the woman to cyberbloke. ~Oh, hello,~ the woman says to cyberbloke. ~Is this one of your friends?~ she asks you. She starts nattering away to him, and he seems content enough. When you manage get a word in edgeways, you ask if there's any chance you can have your handcuffs back. ~Of course, love,~ the woman says, and you retrieve them.";}
  }

  if (second == punk) {
    if (noun == girl) {"~Oi,~ says the punk. ~Get your filthy handcuffs off of me.~";}
    if (noun == dancer) {"The punk is too busy reading to notice your proferred handcuff.";}
    if (noun == woman) {print "~Urgh,~ says the punk. ~I'm not being handcuffed to that.~";
if (woman.husband == 1) {" What a loving relationship they have!";} " What a charming fellow!";}
  }
  if (second == gluesniffer) {"~I'b busy,~ the glue sniffer says.";}
  if (second == woman) {
    if (noun == girl) {"~Oi,~ says the girl, before you can. ~I'm bi, but I'm not that bi!~";}
    if (noun == dancer) {"The woman is too busy talking to cyberbloke to be handcuffed.";}
  }
  if (second == ozzy) {"You suspect Ozzy is above silly handcuffing games.";}
  if (second == girl) {"The girl's hands are kind of busy.";}
  if (second == bastard) {"Much as it would annoy the bastard to come round and find someone irretrievably handcuffed to him, you don't wish to subject the victim to his wrath.";}
  if (second == doommonkeyfan) {
    if (noun == dancer) {"No, you wouldn't want to wish that on her.";}
    if (noun == girl) {"Annoying as presumptious underage girls can be, that's a fate she doesn't deserve.";}
    if (noun == woman) {"Hmm, an interesting combination. ~Hey,~ you say to fanboy. ~Can I-~^^~Not now, I'm busy,~ he cuts you off.";}
  }
  if (second == bloke) {"~Lord, no,~ the bloke says, cowering from the proferred handcuff. ~Handcuffs are so last year.~";}
  if (second == girlone) {print "~I'm not being handcuffed with something that cheap,~ the girl says in disgust.^^"; if (noun == girl) {"~I'm not cheap,~ the young nu-metal vixen says.^^~No, men don't even have to pay you,~ the other girl says.";}
    if (noun == woman) {"~Are you calling me cheap?~ the woman asks.^^~I was talking the handcuff, but that too,~ is the response.";}
    if (noun == dancer) {"~Seems to do the job all right,~ the woman says, demonstrating her inability to escape. The girl looks non-plussed.";}
  }
  if (second == dancer) {
    if (noun == girl) {
      "You handcuff the girl to the dancer, and you watch them dance together for a while. The girl is probably half the woman's age, but neither seems fazed by this. You're starting to get a bit turned on, when the dancer says ~You can have her back now,~ so you retrieve the girl.";
    }
    if (noun == woman) {
      "You handcuff the woman to the dancer. Watching them dance is somewhat embarrassing, given their entirely different styles, and you're rather relieved when the dancer says you can have the woman back.";
    }
  }
  if (second == goth) {
     print "~Ah, I'd rather you didn't,~ goth bloke says. ~I've only just met you, and what if you leave and forget to unlock us? It's happened before,~ he explains.";
     if (noun == woman) {"^^~Just leave the handcuffs with me and let me try,~ the woman tells you. ~He's well handsome, he is.~^^Come to think of it, you really don't want to inflict her on him. Luckily, he excuses himself to go to the toilet. ~Ohhhh,~ the woman pouts.";}
     if (noun == girl) {"^^~Actually, can I have my handcuffs back?~ the girl asks. ~He's fit!~^^~No,~ you say, doubting the wisdom of trying to connect them in the first place. Either he'd be as wary about her age as you were, or they would become yet another attractive couple you aren't part of.^^~Ohhhh,~ the girl pouts.";} 
     if (noun == dancer) {"^^~Care to come with us anyway?~ the woman asks.^^~Maybe in a bit,~ goth bloke says.";}
   }
];

[HelloSub;
  "The game returns your greeting tentatively, then worries about the fact that someone has decided it's a worthy partner in conversation.";
];

[HugSub;
  if (noun == self) {"Nah. The novelty of that trick of standing in the corner of the playground with your arms around yourself wore off about seventeen years ago.";}
  if (noun == woman) {"Nah, you suspect she'd crush the life out of you, even moreso than her mere presence is doing already.";}
  if (noun == securityguard) {"You somehow don't think the guard will forget his duty when embraced. Especially not since you're mostly naked.";}
  if (noun == mulletmen) {"No! What if mulletitis is infectious?";}
  if (noun == cyberbloke or goth) {"You give him a quick hug. He seems a bit puzzled, but pleased.";}
  if (noun == dj or eightiesdj) {"Nah, bad taste in music might be infectious.";}
  if (noun == doommonkeyfan) {"No, hugging other blokes is seriously not rock'n'roll.";}
  if (noun == bloke) {"Nah, he doesn't look like he'd be too keen on the idea, somehow.";}
  if (noun == girlone) {"Nah, she doesn't look like she'd be too keen on the idea, somehow.";} 
  if (noun == dancer) {"~Aw, you're sweet,~ she tells you, which causes you to recoil a bit. Being in a band with a complete psycho, a complete slut and a complete pillock somehow leads people to believe you're the sweet one, and you're not, and determined to prove as much.";}
 if (noun has female) {
    "You don't think she's the hugging type, somehow.";
  } 
  "You don't think he's the hugging type, somehow.";
];

[HugThingSub;
  "You suspect this would not be very rewarding,";  
];

[IndeedSub;
  "Indeed.";
];

[KillSub;
  if (noun == player) {"Now now, you're not that much of a goth.";}
  if (noun == bastard) {"No, just because you could kill him doesn't mean you should.";}
  if (noun has animate) {"No. That seems unnecessarily harsh, not to mention more trouble than it's worth.";}
  if (noun ofclass toilet) {"~Yaaaa, take that, evil toilet!~ you shout, kicking it. But the toilet doesn't seem remotely perturbed. Huh.";}
  if (noun == glowstick or glowsticktwo) {"Come to think of it, you don't know how to turn off a glowstick, if indeed it's possible.";}
  print "Impossible, as "; if (noun has pluralname) {print "they don't ";} else {print "it doesn't ";} "seem to be alive."; 
];

[KissThingSub;
  if (noun == lipstick) {"Um . . . you really don't think that shade of red would suit you. Or anyone.";}
  "You suspect this would not be very rewarding.";
];

[Lock2Sub;
  if (noun ~= handcuffs or punkdoorin or punkdoorout or eightiesdoorin or eightiesdoorout or gothdoorin or gothdoorout or dodgydoorin or dodgydoorout) {"It's not lockable.";}
  if (noun ~= handcuffs) {"The door doesn't have a lock on it.";}
  if (handcuffs has locked) {"They're already locked.";}
  if (key notin player) {"You have nothing to lock the handcuffs with.";}
  give handcuffs locked; "You lock the handcuffs.";
];

[LowerToneSub;
  "Oh, you do that by just existing.";
];

[LowerSub;
  if (noun hasnt static) {
  "You lower ", (the) noun, ". Seeing no obvious benefit in this, however, you straighten up again.";
  }
  "It's fixed in place.";
];

[MoshSub;
  if (location == metalroom or punkroom) {"Nah, this doesn't seem to be a particularly moshy place.";}
  "What, in here? Nah.";
];

[NirvanaSub;
  "Typing in Nirvana lyrics isn't going to get you anywhere.";
];

[PartSub;
"~See you later,~ you say.";
];

[PaySub;
  "That's not a verb I recognise.";
];

[PlaceCDSub;
  if (noun == evilcd) <<insert evilcd second>>;
  "I didn't understand that sentence.";
];

[PlaceCDLeftSub;
  if (TestScope(leftdrawer) ~= 1) {"You can't see any such thing.";}
  <<insert noun leftdrawer>>;
];

[PlaceOddCDLeftSub;
  if (TestScope(leftdrawer) ~= 1) {"You can't see any such thing.";}
   if (noun == evilcd) <<insert evilcd leftdrawer>>;
  "I didn't understand that sentence.";
];

[PlaceCDRightSub;
  if (TestScope(rightdrawer) ~= 1) {"You can't see any such thing.";}
  <<insert noun rightdrawer>>;
];

[PlaceOddCDRightSub;
  if (TestScope(rightdrawer) ~= 1) {"You can't see any such thing.";}
    if (noun == evilcd) <<insert evilcd rightdrawer>>;
  "I didn't understand that sentence.";
];

[PogoSub;
  "What, in here? Nah.";
];

[PullCreatureSub;
  if (noun == securityguard) {"Yes yes, trying to pull the security guard might be a good way out of your predicament if you were female, but frequently as your drummer Trevor insists otherwise, you're not.";}
  if (noun == doommonkeyfan) {if (doommonkeyfan.autograph == 0) {"No, shagging groupies is beyond lame! Well, shagging male groupies is anyway.";} "Definitely not!";}
  if (noun == eightiesdj or dj) {"No. Much as you want to banish his presence from the club, not that desperately!";}
  if (noun == gluesniffer) {"Nah, he's not your type. Anyway, he's probably got all sorts of nasty diseases - that cold, for one.";}
  if (noun == cloakroomattendant) {"~Grab a coat, you've pulled,~ you say.^^~Ha ha,~ she says.";}
  if (noun == punk or bastard) {"Nah, he's REALLY not your type.";} 
 if (noun == youngguy) {"Nah, he's not your type. He's male, for a start.";
}
  if (noun == player) {"That can wait until you get home.";}
  if (noun == girl) {if (girl.dance < 3) {"Oh, you would, if only you knew how to!";} "No, you're not going back on your word.";
}
  if (noun == ozzy) {"You marvel at the possibility of the very thought of it! But no, you'd never sully yourself by stooping to groupiedom. (Well, not for a middle-aged bloke, anyway. Now if it was Cristina from Lacuna Coil . . .)";}
  if (noun == woman) {"No! Perish the thought!";}
  "Nah, for you are wholly unwise in the art of pulling, and don't wish to look like any more of a muppet than you already do.";
];

[RaiseSub;
  if (noun == sistersposter or mirandaposter) {<<take noun>>;}
  if (noun hasnt static) {
    "You raise ", (the) noun, " high above your head. Seeing no obvious benefit in this, however, you lower it again.";
  }
  "It's fixed in place.";
];

[RaiseTrousersSub;
  <<raise pinstripetrousers>>;
];

[RapeSub;
  "Definitely not. Even in virtual reality, you maintain some morals.";
];

[ReadPersonSub;
  "Nah, you've never been very good at reading people.";
];

[RubSub;
  if (noun == player) {"That can wait until you get home.";}
  if (noun has animate) {"You don't think they'd particularly appreciate that.";}
  "You don't suppose that would have much effect.";
];

[RequestIronSub;
  if (location == tranceroom) {
  if (dj in neverneverland) {"There's no DJ here to hear your request.";}
  "~Do you take requests?~ you ask the DJ.^^~Not for today, mate,~ he says. ~It's a subtle art, you know, mixing. You can't just start sticking in tracks all over the place, know what I mean? I'm taking requests for next week, though.~^^~It's all right,~ you assure him.";}
  if (location == eightiesroom) {
    if (eightiesdj in neverneverland) {"There's no DJ here to hear your request.";}
    "~Got any Iron Maiden?~ you ask the DJ.^^~Never heard of them,~ he says. ~Are they like Def Leppard? I might have a track of theirs kicking about somewhere, if you're lucky.~^^~No, no, it's quite all right,~ you assure him.";
  }
  if (real_location == IndustrialRoom || real_location == PunkRoom || real_location == EBMRoom || real_location == MetalRoom || real_location == GothRoom || real_location == Dodgyroom || (location == thedark && real_location == TranceRoom or EightiesRoom)) {"Try as you might, you just can't spot the DJ booth is in the darkness.";} 
  "There's no DJ here to hear your request.";
];

[RequestDoomSub;
  if (location == tranceroom) {
  if (dj in neverneverland) {"There's no DJ here to hear your request.";}
  "~Do you take requests?~ you ask the DJ.^^~Not for today, mate,~ he says. ~It's a subtle art, you know, mixing. You can't just start sticking in tracks all over the place, know what I mean? I'm taking requests for next week, though.~^^~It's all right,~ you assure him.";}
  if (location == eightiesroom) {
    if (eightiesdj in neverneverland) {"There's no DJ here to hear your request.";}
    "Now now, no need to make him feel bad about not having that. Apart from the fact you've only ever sold a couple of CDs, although you were technically around in the 80s, not as Doom Monkey you weren't.";
  }
  if (real_location == IndustrialRoom || real_location == PunkRoom || real_location == EBMRoom || real_location == MetalRoom || real_location == GothRoom || real_location == Dodgyroom || (location == thedark && real_location == TranceRoom or EightiesRoom)) {"Try as you might, you just can't spot the DJ booth is in the darkness.";} 
  "There's no DJ here to hear your request.";
];

[RequestSub; 
  if (location == tranceroom) {
  if (dj in neverneverland) {"There's no DJ here to hear your request.";}
  "~Do you take requests?~ you ask the DJ.^^~Not for today, mate,~ he says. ~It's a subtle art, you know, mixing. You can't just start sticking in tracks all over the place, know what I mean? I'm taking requests for next week, though.~^^~It's all right,~ you assure him.";}
  if (location == eightiesroom) {
    if (eightiesdj in neverneverland) {"There's no DJ here to hear your request.";}
    if (eightiesroom.request == 0) {eightiesroom.request = 1; "~Got any Iron Maiden?~ you ask the DJ.^^~Never heard of them,~ he says. ~Are they like Def Leppard? I might have a track of theirs kicking about somewhere, if you're lucky.~^^~No, no, it's quite all right,~ you assure him.";}
    else {eightiesroom.request = 0; "~Got any Sepultura?~ you ask the DJ.^^~Never heard of 'em,~ he says. ~But tell you what, you're a bit of a rocker, in't ya? I've got just the tune for you coming right up. Hold on a sec.~ He fades out of ~Come On Eileen~, much to your relief, but the promised track turns out to be Europe's ~The Final Countdown~.^^~Thanks,~ you say weakly, hastily putting as much space between you and the speakers as possible, while the crowd cheer and spill onto the dancefloor. There was a time when you enjoyed this track, but that time ended when you were nine.";
    }
  }
  if (real_location == IndustrialRoom || real_location == PunkRoom || real_location == EBMRoom || real_location == MetalRoom || real_location == GothRoom || real_location == Dodgyroom || (location == thedark && real_location == TranceRoom or EightiesRoom)) {"Try as you might, you just can't spot the DJ booth is in the darkness.";} 
  "There's no DJ here to hear your request.";
];

[RudeSub;
  if (noun == glowstick) {"You're sure some people know how to suck a glowstick in a suggestive fashion, but you're not one of them.";}
  if (noun == player) {"You're not flexible enough.";}
  if (noun has female) {"Erm, without wanting to get technical here, it kind of helps if you attempt to do this to someone male.";}
  if (noun has animate) {"You're not prepared to extend your bi-curiosity that far until your straight-curiosity's sated.";}
  "Nah. You're not quite desperate enough to resort to having oral sex with inanimate objects. Nearly, but not quite.";
];

[FanSpielSub;
  move flyer to neverneverland; doommonkeyfan.autograph = 1; score++; give gettingpastfanboy ~concealed; move woman to eightiesroom;
  "^~Here we go,~ you say.^^~Wow,~ he says. He admires it for a few seconds, before putting it carefully into the back pocket of his baggy jeans. ~Oh man! I get to hang out with one of my heroes! This is like a dream come true!~^^You suddenly feel a bit wary. It's great to know you're someone's hero, of course - it certainly beats thinking you're a waste of space, as you do most of the time - but who said anything about hanging out? Then again, how bad can the company of a guy whose artistic vision and love of metal matches your own be?^^Very.^^Firstly, it turns out he'd star in Metal Hammer's 'superfan' feature if Doom Monkey were a bit more famous. He knows more about you than you do and somehow manages to make you feel bad, when you have to confess that you've forgotten what a song's about or why exactly it says on your website that your favourite band is Bon Jovi. You're sure it was either a joke or a consequence of one of those mysterious whims you get when you're drunk, but this guy seems to have written a thesis on the similarities between your music. (There aren't any . . . are there?)^^Worse, though, he really just wants to pump you for information about Death and Robot, your guitarist and vocalist. He seems to have something of a crush on Death, even after you tell him that Death sometimes colours his hair with the blood of virgins. ~That would be so wicked,~ he says. ~I'm so glad me and my girlfriend realised true love waits.~^^That really does add insult to injury, that this saddo has a girlfriend and you don't, even if she is a sanctimonious straightedger. ~She's a big Doom Monkey fan too,~ he adds. Well, that makes it slightly better - you just hope she's not here tonight.^^But it gets worse. He starts going on about his band, who you've apparently had a huge influence on . . . and they're an emo band!^^Nooooo! This is your worst nightmare come true! Your mission is to force emo to retreat to dark little corners of the universe, never to bother you again, not to inspire more of it! It's not that you've anything against it, you just don't like it and it's plagued you at rock nights for long enough. You almost break out into a sweat, before you remember that if the world within the interior of Robot's door isn't just a dark little corner of the universe, you don't know what is. But it's hard to be enthusiastic and supportive of someone whose every trait is contrary to your way of thinking. You hope he'll shut up soon, but he just keeps going on, and on, and on, and on . . .^";
];

[SafetyPinSpiel;
  move eightiescd to player; "~Nice top,~ you tell the woman. ~The safety pin doesn't quite work, though.~^^~Ah, I thought you was going to say, 'It'd look good on my bedroom floor', for a moment,~ she says. ~Does it not? You can have it if you want . . . well, you couldn't do me a favour, could you?~^^~Erm, depends what.~^^She looks mournful. ~I really want to hear 'Take On Me'. It's my favourite, see. But the CD with it on's snapped in two.~ She reaches into the cups of her bra and takes each part out. ~The DJ gave it to me as a souvenir. But you couldn't somehow get hold of another copy, or fix it, could you?~^^The last thing you want to do is make this room even cheesier, but she looks so hopeful you can't really refuse. You're such a soft touch. ~I'll see what I can do,~ you say.^^~Really?~ She gives you a wet kiss on the cheek. ~Thank you so much!~ She starts boogieing again.";  
];

[SitSub;
  if (location == punkcubicle || location == gothcubicle || location == eightiescubicle || location == dodgycubicle) {"You sit on the toilet, but there isn't a seat, and the porcelain quickly becomes uncomfortable, so you stand up again.";}
  "As usual in these places, there is nowhere to sit.";
];

[SitOnSub;
  if (noun == d_obj) {"Given how much the floor squelches beneath your feet, you'd really rather not.";}
  if (noun == u_obj or n_obj or ne_obj or e_obj or se_obj or s_obj or sw_obj or w_obj or nw_obj) {"Since you haven't drunk enough for the room to shift from the upright position, this isn't a possibility.";}
  if (noun == bastard) {"You're not supposed to let the bastards grind you down, but you recognise the novelty in grinding down the bastards, and use the bastard as a sofa for a minute, until the novelty wears off.";}
  "That isn't suitable for sitting on.";
];

[ShagNounSub;
  "Nah. You're quite so desperate that you'd resort to shagging inanimate objects. Nearly, but not quite.";
];

[ShagSelfSub;
  "Rawr. You'd have sex with yourself, any day. And do every day, for that matter.";
];

[ShagSub;
  if (noun == player) {"You do enough of that at home.";}
  if (noun == ozzy) {"Nah, you're sure he's had enough offers from groupies to last him several lifetimes.";}
  if (noun has female) {"~Would you . . . go to bed with me?~ you ask.^^~Not a chance,~ she replies.";}
  if (noun ofclass crowd) {"Hey, you don't seem to have the sex appeal to get anywhere with anyone, never mind be able to work your way through several people just like that!";}
  else {"Nah. He's a bit too, well, you know, male for your tastes.";}
];

[SpikeSub;
   if (noun == absinthe or beer or water && second == bleach) {"Now now, that would be too noxious.";}
   if (noun ~= beer && noun ~= water) {"That's unspikable";}
   if (second ~= absinthe) {"You can't spike something with that!";}

   if (noun == water) {"Nah. It would go kind of, you know, green, and not look much like water anymore.";}
  if (noun == beer) {
    beer.absinthed = 1; "You did this while playing 'Broken Sword 2' without any qualms, but you still think this requires a health warning:^^Spiking drinks with absinthe is a really stupid thing to do! Apart from the fact that it tastes terrible, some people are allergic to aniseed.^^Still, you're the only person here who actually exists, so you pour a small amount of absinthe into the flavoured water. The colour doesn't look any less appetising than the original and it can't taste much worse either.";
  }
];

[SpikeHairSub;
  if (punktoiletcrowd.help == 1) "It's spiked enough as it is.";
  "Nah, you wouldn't know how to. Maybe someone else would though.";
];

[StickSub;
  if (plasticbag notin player) {"You have no suitable means of doing so.";} 
  "Nah, that glue looks quite strong. Better keep 'em separated.";
];

[SwitchSub;
  "You can't switch that.";
];

[ThankSub;
  if (noun == cloakroomattendant or faith) {"~Thanks,~ you say.^^~You're welcome,~ she replies with a grin.";}
  if (noun == dj or eightiesdj) {"~Thanks,~ you say.^^~No problem mate,~ he replies.";}
  "Nah, you can't see any reason to say thanks.";
];

[ThanksSub;
  "~You're welcome,~ says the game, then wonders why the player has decided it's a worthy conversationalist.";
 ];

[TouchAuthorSub;
  "Aw, I'm touched.";
];

[Unlock2Sub;
  if (noun ~= handcuffs) {"It's not locked.";}
  if (handcuffs hasnt locked) {"They're not locked.";}
  if (key notin player) {"You have nothing to unlock the handcuffs with.";}
  give handcuffs ~locked; "You unlock the handcuffs.";
];

[WashSub;
  if (location == punktoilets) {"No; an attempt to get to a basin would result in certain self-impalation on someone's spikes.";}
  if (location == eightiestoilets) {"Alas, for a mass of mullet people block your way to the sinks.";}
  if (location == gothtoilets) {"You turn on a tap, but no water comes out, only a pitiful little voice saying, ~Oh, do go away. We're on strike - we're sick of being run hot and cold.~ You turn the tap off. ~And you keep turning us on and off too,~ the voice whinges.";}
  if (location == dodgytoilets) {"No, for all the sinks are rendered quite unusable, due to people licking the plugholes. Having your mouth washed out with soapy water is one thing, but seemingly people take sub-dom behaviour a lot further than you'd ever have imagined.";}
  if (location == punkcubicle || location == eightiescubicle || location == gothcubicle || location == dodgycubicle) {"Um, nah. You're just not into washing stuff unless you have to.";}
  "A means of washing would be good.";
];

[WaveSub;
  if (noun == nothing) {"You have no one to wave at.";}
  if (noun has worn) {"You know, it's kind of hard to wave something you're wearing.";}
  if (noun has animate) {"You've found people to be notoriously unwaveable.";}
  "You can't find the slightest reason to wave it.";
];

[WringHandsSub;
  "You wring your hands, but nobody asks you what's wrong.";
];

[WringSub;
  "Nah. You're not sure how to wring something that isn't wet clothing.";
];

[WriteSub;
  if (pen notin player && (location ~= eightiesroom || clipboard.examined == 0)) "You'll need something to write with to do that."; 
  if (pen in clipboard && clipboard.examined == 1 && player in eightiesroom && noun == flyer) {"You're about to reach for the pen, when a mulletman gets between you and the clipboard, and starts chatting to the DJ.";}
  if (noun == flyer) {
    if (flyer.writtenon == 1) {"You've already autographed it.";}
    if (metalroom hasnt visited) {"You're not feeling particularly inspired.";}
    if (doommonkeyfan.named == 0) {
       if (player in metalroom) {doommonkeyfan.named = 1; flyer.writtenon = 1; "~What's your name?~ you ask your fan.^^~Keith,~ he replies. You write ~To Keith, METAAAAL!~ and then sign your name on the back of the flier.";}
       if (metalroom has visited) {"Perhaps you'd better find out your fan's name first.";}
       "No, you're not quite famous enough yet to need to keep an autograph or two up your sleeve.";
    } else {
       flyer.writtenon = 1; "You write ~To Keith, METAAAAL!~ and then sign your name on the back of the flier.";
    }
  }
  if (noun == requestlist) {
    "You write ~Iron Maiden or Motorhead please!~ on the request list.";
  }
  if (noun == doommonkeyfan) {
    if (doommonkeyfan.autograph == 0) {
      "~Can I just sign your arm?~ you ask.^^~No, it'll wash off,~ he says.^^~If you were really hardcore, you'd get a tattoo made over it, though,~ you say.^^~Oh, I wish I could,~ the fan says. ~My Mum- er, my mate, who's a bigger fan than I am would kill me though.~";
    }
    "Nah. You really don't want to spend any more time with this loser than strictly necessary.";
  }
  if (noun == player) {"You make a little doodle on your hand.";}
  if (noun has animate) {"You've noticed most people prefer not to be written on with a biro.";}
  "You're not feeling particularly inspired.";
]; 

Object NeverNeverLand2;

Object -> club "club"
  with name "club",
  description [;
    <<look>>;
  ],
  before [;
    Take: "Riiiiiight. Yes. That's possible! Even if you were several hundred times stronger than you are, your basic knowledge of mechanics suggests that this might be rather easier if you weren't in the club to start with.";
    Eat: "No. While a strait-jacket would theoretically make for a good stage costume, it would kind of hinder playing the bass, don't you think?";
  ],
  has static scenery;

Object -> room "room"
  with name "room",
  description [;
    <<look>>;
  ],
  before [;
    Take: "Riiiiiight. Yes. That's possible! Even if you were several hundred times stronger than you are, your basic knowledge of mechanics suggests that this might be rather easier if you weren't in the room to start with.";
    Eat: "No. While a strait-jacket would theoretically make for a good stage costume, it would kind of hinder playing the bass, don't you think?";
  ],
  has static scenery;


Object -> dms "pair of DMs"
  with name "pair" "of" "dms" "doctor" "martens" "doc" "boots" "twenty-hole" "twenty" "hole" "shoes",
  description "Considering their owner's obvious inability to look after himself, they're in remarkably good condition.",
  before [;
    PutOn: if (second == bastard) {"No, let him go shoeless! See what he thinks of that when he wakes up!";}
    Take: if (self in bastard) {give self ~scenery; move dms to player; "You untie the DMs and ease them off their owner's feet. Ha! That'll serve him right for being a complete bastard!";}
    Wear: "You'd have to take your platform boots off first and you're not sure you know how to.";
    Smell: "They smell of polish. How predictable.";
  ], has scenery;

Object NeverNeverLand "Never Never Land";

Object -> blood "blood"
  with name "blood",
  description "Arrr, tis but a flesh wound.",
  before [;
    Take: "It's somewhat lacking in takeability.";
    Drink: "Not really possible, since it's gone all over the place.";
  ],
  has scenery static;

Person -> woman "the eighties woman"
  with name "the" "woman" "eighties" "lady" "ruby", son 0, husband 0, introduced 0, sighted 0, gin 0,
  initial "A woman in a red-and-black stripy top beckons you to dance.",
  description "She looks about forty and is wearing far too much lipstick. She's wearing a pair of stiletto heels, a pair of leggings that she can't quite get away with, and a red-and-black striped off-one-shoulder top. She grins, motioning for you to dance.",
  orders [;
    DoubleEntendre: "She gives you one.";
    LookAtMe: "No. Not only is saying ~Look at me~ cliched beyond all reasonable measure, but you don't want to inflict your ghastly countenance on anyone.";
    GrabYourCoat: "No way! You don't want to go home with that!";
    GetLife: "Nah, she seems to have one already, just a rather tragic one.";
    GiveMeDrink: if (self.gin == 0) {"She doesn't appear to have one.";} "No, you'd rather not touch the hipflask, thank you very much. You don't know where it's been! (Though you have an idea you'd rather not give too much thought to.)";
    LookAtThis: if (pinstripetrousers.position == 0) {"No. Much as you don't want to think about it, you suspect she's seen males in a state of undress before.";}
    "Nah, you don't have anything you want to show her that can't be achieved by SHOW (ITEM) TO WOMAN.";
    diehard: "Nah. Simultaneously pathetic and terrifying figure though she cuts, she reminds you too much of your Mum to summon that sort of level of venom for her.";
    Metal: "~Metaaaaaal!!!~ she agrees, with a grin.";
    Horns: "She @@92m/s back at you, laughing.";
    Dance: 
      if (location == punktoilets || location == eightiestoilets || location == gothtoilets || location == dodgytoilets || location == punkcubicle or eightiescubicle or gothcubicle or dodgycubicle or menstoilets) {
      "Nah. There isn't much of a dancefloor in here.";
    } else {
      "She's dancing already.";
    }
    Give: if (noun == safetypin) {
      if (eightiescd in neverneverland) {safetypinspiel(); rtrue;}
      if (eightiesdj notin neverneverland) {"~It's yours if you fix the CD,~ she says.";}
      "~I already gave it you. I haven't got another one,~ she protests.";
    }
    Hello: "~Hi,~ you say, with a weak grin.^^~Arright luv,~ she says.";
    Goodbye: if (handcuffs.victim == woman) {"You can't get rid of her that easily.";} else {"~See you later,~ you say. She pouts.";}
    Follow:
      if (noun == player) { 
        if (handcuffs.victim == woman) {"~Ok,~ she laughs.";} "No. Much as you'd like to get off with someone female, you have your limits.";
      }
    default: "She smiles indulgently, making it clear she hasn't got the foggiest idea what you're on about.";
  ],
  after [;
    Handcuff: 
      if (handcuffs notin player) {"This would be infinitely easier if you had a pair of handcuffs.";}
      if (cyberbloke.satisfied == 1) {"Nah. She and cyberbloke are getting on like a house on fire, you're not going to drag her away.";}
      if (woman in eightiesroom && woman.sighted == 0) {give handcuffingwoman ~concealed; "You offer a handcuff to the woman. She looks interested, then shakes her head. She lifts up one of your headphones and says, ~I'd rather dance. Come on, join in!~^^~Later,~ you yell into her ear.";}
      if (youngguy.satisfied == 0) {
      give handcuffingwoman ~concealed; print "When you show the handcuffs to the woman, she grins, but all of a sudden, the young guy is by you. ~No handcuffing my Mum!~ he says. ~Sorry,~ he says, ~but there's some things you just don't want to watch your parents doing.~ He runs off to pogo again.^"; 
      if (woman.son == 0) {
        print "^Well, there's something you don't see everyday, parents and offspring at the same nightclub.^"; self.son = 1;
      }
      rtrue;
    } else {
      if (punk.satisfied == 0) {
        give handcuffingwoman ~concealed; print "When you show the handcuffs to the woman, she grins, but suddenly you sense an ominous presence behind you. You turn and see the vicious looking punk. ~Oi,~ he says. ~Get your filthy hands off my wife.~^^~Sorry,~ you say, hastily.^"; if (self.husband == 0) {
          print "^Well, there's two people you wouldn't have taken to be a couple."; self.husband = 1; 
          if (self.son == 1) {
            " A proper day out for the family this is.";
          } else {"";}
        } 
        rtrue;
      } else {
         if (handcuffs.victim == woman) {"You're already handcuffed to her.";}
                  handcuffs.victim = woman; give handcuffs locked; give woman ~scenery;  give handcuffingwoman concealed; woman.initial = "The eighties woman stands beside you."; "You handcuff the woman.";
                }
              }
  ],
  life [i j n x;
    Give: 
      if (noun == water) {"~Water?~ she laughs. ~I'm not one of them, what do you young ones call them, flatliners.~";}
      if (noun == beer) {self.gin = 1; "~Is that that beer flavoured water?~ she asks. ~Disgusting, isn't it? I bet that's why you're trying to palm it off on an old bag like me. Nah, I've got me own supplies.~ She reaches into her leggings, withdraws a hipflask, takes a swig of the contents - your money's on gin - offers it to you (you shake your head), and returns it to her leggings. But how does it fit in? There's no obvious- No, you don't want to go down that line of thought. You fill your mind with thoughts of nice innocuous things, such as singing frogs and the overpriced stationary sold in museum shops.";}
      if (noun == absinthe) {"~Is that absinthe?~ she asks. ~Nah, last time I had that, I woke up the next morning on an airport floor in a country I'd never heard of. Some place called Portugal.~";}
    if (noun == eightiescd) {
      if (eightiescd.fixed == 0) {"~Ooh, have you fixed it yet?~ the woman asks. You tell her you're working on it";}
      else {
        move eightiesdj to neverneverland; move safetypin to player; give safetypin ~scenery; move eightiescd to leftdrawer; leftdrawer.playing = 1; score++; safetypin.provided = 1;
        print "~Ooh, thank you so much! You've made my night!~ She plants another slobbery kiss on your cheek. ~Back in a sec!~ She dashes over to the DJ, then returns to you. ~Here you go.~ She hands the safety pin over. ~Now, are you going to dance?~^^~Maybe later,~ you say. ";
        if (headphones in player) {give headphones worn; "Preparing yourself for the worst, you put on the headphones, and struggle to keep your balance as a tidal wave of overjoyed eighties rejects crash onto the dancefloor.";}
        give gettingheadphones ~concealed; 
        print "You've got to get out of here, fast. You grab everything and dash up the stairs to the sanctuary of the EBM room, only narrowly avoiding being swept away by the tidal wave of eighties rejects crashing onto the dancefloor.^"; Playerto(EBMRoom); 
          n = children(EightiesRoom);
          for (i=1: i<=n: i++) {
            x = child(EightiesRoom);
            for (j=1: j<=n-i: j++) {
              x = sibling(x);
            }
            if (x hasnt static && x hasnt scenery) move x to player;
          }
        } rtrue;
    }
    if (noun == flyer && flyer.writtenon == 1) {"~Here, this'll make you a mint in a few weeks' time,~ you say.^^~Nah, I'll just lose it.~ She grins disproportionately.";}
    "~Oh no, you keep it,~ the woman assures you.";
    Kiss: "No! Absolutely not!";
    Ask, Tell: switch(second) {
      'bastard': "~What should I do with a drunken bastard?~ you ask.^^~Ooh. Shave off his eyebrows!~ she suggests, unimaginately but gleefully.";
      'zip', 'zipper': "~Does that zip actually undo?~ you ask.^^~Yep!~ She undoes it, with some difficulty, revealing a flash of over-fake-tanned middle-aged flesh, then does it up again. ~Good, innit?~";
      'pin', 'safety', 'safetypin': if (eightiescd in neverneverland) {safetypinspiel(); rtrue;} else {"~That's one pretty hardcore pin,~ you say. She smiles indulgently.";}
      'glowstick','glow','stick','glowsticks': "~Have you seen my other glowstick?~ you ask.^^~Not yet I haven't!~ she says cheerfully. You shudder.";
      'song', 'music': "~What's this song?~ you ask.^^~This one's my favourite!~ she squeals.";
      'club', 'night': "~Having a good night?~ you ask.^^~Course I am,~ she says.";
      'drugs', 'pot', 'ecstasy', 'acid', 'lsd', 'coke', 'cocaine', 'heroin', 'speed', 'glue','absinthe': "She reminds you too much of your Mum for that. Besides, you don't suppose she'd know.";
      'herself','self': "Nah. You don't want to encourage her at all.";
      'son','children','child': if (self.son == 0) {"~Have you got any children?~ you ask.^^~Yeah, me son's here tonight,~ she says.";}
      if (youngguy.satisfied == 1) {"~Your son's doing all right for himself, isn't he?~ you say.^^~Yeah, I'm well proud of him. Think he could do better than her though, she looks like a right slapper. Not that I can talk.~ She laughs, and you fight the temptation to stick your fingers in your ears.";}
      "~Your son's a bit overprotective, isn't he?~ you say.^^~Yeah, sweet, innit?~";
      'husband': if (self.husband == 0) {"No, asking whether she's married might give the wrong impression.";}
      "~Do you get on well with your husband?~ you ask.^^~Can't stand him. No, he's all right really.~";
    }
    "~You what, luv?~ she says.";
  ],
  has static transparent animate female proper;

Object -> -> lipstick "lipstick"
  with name "lipstick" "lips",
  description "The lipstick is the gaudiest shade of red you've ever seen.",
  before [;
    Take: "That's utterly untakeable.";
  ],
  has static scenery;

Object -> -> top "red and black stripey top"
  with name "top" "jumper" "shirt" "t-shirt" "red" "and" "black" "stripey" "stripy" "striped",
  description "It's made of cheap fabric, reveals a lilac bra strap, has a tacky looking zip in the chest, and a large safety pin stuck tastelessly through it just right of the nipple.",
  before [;
    Take: "The woman may be into getting naked with you, but as she gives the impression she having a son three years younger than you, the feeling isn't mutual.";
    Cut: if (second == knife) {print "You really don't want to expose her middle-aged flesh.^"; rtrue;}
  ],
  has static scenery transparent; 

Object -> -> -> tackyzip "tacky looking zip"
  with name "zip" "zipper" "tacky" "looking",
  description "You've never seen yourself as a connoisseur of zips, but this one just isn't good. It looks like it's been glued onto the garment, like you couldn't undo it in one motion, like hair would get caught in its teeth. It might not even undo at all.";

Object -> -> brastrap "bra strap"
  with name "bra" "strap" "brastrap" "lilac",
  description "After years of doing battle against emoids for setlist time at your local rock night, you're not a fan of the underwear-on-display look. But the visible bra strap can be somewhat alluring . . . as long as it's black. Lilac is Just Wrong.",
  before [;
    Take: "You're not convinced bra straps are detachable and the situation doesn't inspire you to want to find out.";
    Cut: if (second == knife) {print "That would be cruel.^"; rtrue;}
  ];

Object -> -> leggings "leggings"
  with name "leggings" "leggins",
  description "You'd rather not, it's a bit embarrassing. Why is it that the only times women don't ask their friends, ~Does my bum look big in this?~ the only time you want them to?",
  before [;
    Take: "Even if you thought the woman would let you, it'd be a job.";
    Cut: if (second == knife) {print "This might be the only way of getting the leggings off, but it's not an effect you're looking to achieve.^"; rtrue;}
  ],
  has static scenery;

Object -> -> stilettoheels "stiletto heels"
  with name "stiletto" "heels" "stilettos",
  description "The dance floor will doubtless be filled with holes when the night is out.",
  before [;
    Take: "They're not really your style.";
  ],
  has static scenery;

Object -> -> safetypin "safety pin"
  with name "pin" "safety" "safetypin", provided 0,
  description "Were it not attached to a garment so tacky, it might look quite cool.",
  before [;
    Take: if (eightiescd in neverneverland) {safetypinspiel(); rtrue;}
    Wear: if (safetypin in woman) {"That seems to belong to the woman.";}
          if (jacket hasnt worn) {"Nah . . . you really need a leather jacket to stick it through.";}
          if (jacket has worn) {give self worn; "You stick the pin through the jacket.";}
  ],
  has scenery clothing;

Person -> SecurityGuard "security guard"
  with name "security" "guard",
  description "He's a lot bigger than you and doesn't look best pleased by your antics.",
  orders [;
    LookAtMe: "No. Not only is saying ~Look at me~ cliched beyond all reasonable measure, but you don't want to inflict your ghastly countenance on anyone.";
    GrabYourCoat: "Yes yes, trying to pull the security guard might be a good way out of your predicament if you were female, but frequently as your drummer Trevor insists otherwise, you're not.";
    GiveMeDrink: "Nah, he doesn't seem to have one, and even if he did, do you really think he'd agree?";
    LookAtThis:
    "You run through the scenario in your head.^^You: Hey, look at this.^Security Guard (turning): What?^You (delivering a blow to his jaw nearly powerful enough to knock him off his feet): This.^^You grin. But you're hardly going to enact it. Though most of the security guards you've known have been braindead maniacs, and the ex-army accent of this one doesn't bode well, you appreciate that he's only doing his job. You wouldn't like it if some guy started wandering around with his trousers down either. Besides, you fight like a cow.";
    DieHard, GetLife: "No. You've had a lot of bad ideas in your time, but telling someone of this stature where to go has to give ~walking home forty miles after a gig in torrential rain~ and ~lacing all the food in the house with chili powder, and constantly forgetting about it due to ordering pizza 99% of the time~ a run for their money in terms of stupidity.";
    Metal: "~Metaaaaaal!!!~ you say, hopefully. But while you hadn't actually believed a baffled glare was within the realms of possibility, this is your only response.";
    Horns: "No - he doesn't look the sort to be particularly au fait with subcultural hand gestures and you're worried he might take it for the other two-fingered salute.";
    Goodbye: "You somehow don't think you're getting away that easily.";
    default: "~What are you muttering about, son?~ he sneers.";
  ],
  before [;
    Kiss: "Yes yes, trying to pull the security guard might be a good way out of your predicament if you were female, but frequently as your drummer Trevor insists otherwise, you're not.";
  ],
  after [;
    Handcuff: if (handcuffs notin player) {"This would be infinitely easier if you had a pair of handcuffs.";} "What a brilliant idea! Sadly, his wrist turns out to be too wide to get a cuff round. ~What are you playing at, son?~ he snarls.^^~Nothing,~ you say, meekly.";
  ],
  life [;
    Ask, Tell:
      if (second == 'bastard') {"~What should I do with a drunken bastard?~ you ask.^^~Yes, that's what I'm wondering,~ he says, clearly not seeing that you are, for once in your life, stone cold sober, and that your parents were very much married at the time of your birth (albeit not when you were conceived.)";}
      "He doesn't seem to be in the mood to chat.";
    Give:
      if (noun == flyer && flyer.writtenon == 1) {"~Hey, I'm a rock star, I can go round with my trousers down if I want,~ you say, a lot less authoritatively than you would have done in an ideal world. ~Do you want my autograph?~^^The security guard doesn't seem to think that's even worth responding to.";}
      "~I don't want your possessions,~ the guard says.";
    Show:
      if (noun == flyer && flyer.writtenon == 1) {"~Hey, I'm a rock star, I can go round with my trousers down if I want,~ you say, a lot less authoritatively than you would have done in an ideal world. ~Do you want my autograph?~^^The security guard doesn't seem to think that's even worth responding to.";}
      if (noun == knife) {"No, you really don't want to get into a fight with this guy. You might be armed, but nonetheless, his combat skills are doubtless far superior to yours, meaning he'd still have the upper hand.";}
      "~I don't want your possessions,~ the guard says.";

  ],
  has animate;

Object -> CDplayer "CD player"
  with name "cd" "player",
  description "It has two drawers, one of the left and one on the right in time-honoured fashion.",
  before [;
    Open: "Please specify which drawer, the left or the right.";
    Receive: "You can only put things in the drawers.";
  ],
  has scenery static container transparent open;

Object -> -> leftdrawer "left drawer"
  with name "left" "drawer", playing 0,
  capacity 1,
  before [;
    Receive: if (noun ofclass CD) {rfalse;} else "The drawer can only hold CDs.";
    Open:
      if (kingdom.playing == 1) {"No, no, everything's just fine as it is.";} 
      if (leftdrawer.playing == 1) {
        leftdrawer.playing = 0; stopdaemon(leftbutton);
      }
      if (rightdrawer.playing == 0 || rightfader.position == 0) {
        leftdrawer.playing = 1; startdaemon(leftbutton); leftbutton.minutes = 8; "Though you can't hear anything, you sense a sudden halt in the music. Before you know it, a mullet man comes over, shoves the drawer closed and thumps the mixer. He says something that looks like, ~There, that's fixed it~ and rejoins his fellow mullets."; 
      }
  ],
  has openable container scenery static;

Object -> -> rightdrawer "right drawer"
  with name "right" "drawer", playing 0,
  capacity 1,
  before [;
    Receive: if (noun ofclass CD) {rfalse;} else "The drawer can only hold CDs.";
    if (kingdom.playing == 1) {"No, no, everything's just fine as it is.";}
    Open:
      if (kingdom.playing == 1) {"No, no, everything's just fine as it is.";}  
      if (rightdrawer.playing == 1) {
        rightdrawer.playing = 0; stopdaemon(rightbutton);
      }
      if (leftdrawer.playing == 0 || leftfader.position == 0) {
        rightdrawer.playing = 1; startdaemon(rightbutton); rightbutton.minutes = 8;
        "Though you can't hear anything, you sense a sudden halt in the music. Before you know it, a mullet man comes over, shoves the drawer closed and thumps the mixer. He says something that looks like, ~There, that's fixed it~ and rejoins his fellow mullets.";
      }
  ],

  has openable container scenery static;

CD -> -> -> evilcd "Now That's What I Call The Best Party Hits In The World Ever Volume 28"
  with name "now" "that^s" "what" "I" "call" "the" "best" "party" "hits" "in" "world" "ever" "volume" "28" "cd" "compact" "disc" "jaunty" "block" "letters",
  article "a copy of",
  description "This foul creation bears jaunty block letters spelling out ~Now That What I Call The Best Party Hits In The World Ever Volume 28~.",
  before [;
    Break: "You do your best to snap it in half, but you just end up with scratched hands. Darn it!";
    Take: move self to player; "Taken.";
  ];

Object -> mixer "mixer"
  with name "mixer",
  description "You DJed a couple of times at your university's rock night, so you can identify the essential features: there's a play button, fader and LED for each drawer.",
  before [;
    Drink: "It's not that sort of mixer.";
  ],
  has container transparent scenery static; 

Object -> -> leftfader "left fader"
  with name "fader" "left" "white" "line" "groove", position 1,
  article "the",
  description [;
    print "The fader is black, save for a white horizontal line, and has a groove a suitable size for an adult finger. It is currently "; if (self.position == 1) {"up.";} else {"down.";}
  ],
  before [;
    Lower:
      if (self.position == 0) {"It's already as low as it can go.";}
      <<push self>>;
    Raise:
      if (self.position == 1) {"It's already as high as it can go.";}
      <<push self>>;
    Push:
      if (kingdom.playing == 1) {"No, no, everything's just fine as it is.";}
      if (self.position == 0) {
        if (leftdrawer.playing == 1 && rightfader.position == 1 && rightdrawer.playing == 1 && rightbutton.minutes ~= 1) {
          "Back in the industrial room, you heard a song that seemed to go, ~Two sounds are better than one,~ but the mulletpeople appear to disagree. A mullet man comes over, shunts the left fader back to where it was, and returns to the cheers of his fellow mullets.";
        }
        self.position = 1; "You raise the left fader.";
      }
      if (self.position == 1) {
        if (rightdrawer.playing == 0 || rightfader.position == 0) {"You can't hear a thing, but the crowd appears momentarily shocked, then shout out the missing lyrics, which look altogether too much like ~I am the one and only!~ You hastily raise the fader again. That's not something you want to encourage!";}
        else {self.position = 0; print "You lower the left fader.";
          
          if (rightbutton.minutes < 8) {
            if (child(rightdrawer) ~= kingdom) {
              " The crowd look annoyed by your poor mixing skills, but cheer up again on recognising the track.";
            } else {
              rightfader.position = 0; leftfader.position = 1; "The crowd look annoyed at the mid-song switch. Before you know what's happening, a mullet man comes over, exchanges the position of the faders says something that looks like ~That's better~ and rejoins his fellow mullet folk.";
            }
          } else {
            if (child(rightdrawer) == kingdom) {
        score++; kingdom.playing = 1; move woman to punkroom; " The crowd look puzzledly at each other. The goths go mad, but most of the mulletfolk, including your friend, tramp up the stairs, although they'll only find the same up there, you imagine. You feel guilty for a moment, but then relief quickly wins out.";

            } else {
              if (child(rightdrawer) == eightiescd) {centerfold(); rtrue;}
              " The crowd go mad and before long start making YMCA movements. Oh dear.";
            }
          }
        }
      }
  ],
  has scenery static;

Object -> -> rightfader "right fader"
  with name "fader" "right" "white" "line" "groove", position 0,
  article "the",
  description [;
    print "The fader is black, save for a white horizontal line, and has a groove a suitable size for an adult finger. It is currently "; if (self.position == 1) {"up.";} else {"down.";}  ],
  before [;
    Lower:
      if (self.position == 0) {"It's already as low as it can go.";}
      <<push self>>;
    Raise:
      if (self.position == 1) {"It's already as high as it can go.";}
      <<push self>>;
    Push:
      if (kingdom.playing == 1) {"No, no, everything's just fine as it is.";}
      if (self.position == 0) {
        if (rightdrawer.playing == 1 && leftfader.position == 1 && leftdrawer.playing == 1 && leftbutton.minutes ~= 1) {
          "Back in the industrial room, you heard a song that seemed to go, ~Two sounds are better than one,~ but the mulletpeople appear to disagree. A mullet man comes over, shunts the right fader back to where it was, and returns to the cheers of his fellow mullets.";
        }
        self.position = 1; "You raise the right fader.";
      }
      if (self.position == 1) {
        if (leftdrawer.playing == 0 || leftfader.position == 0) {"You can't hear a thing, but the crowd appears momentarily shocked, then shout out the missing lyrics, which look altogether too much like ~I am the one and only!~ You hastily raise the fader again. That's not something you want to encourage!";}
        else {self.position = 0; print "You lower the right fader.";
          if (leftbutton.minutes < 8) {
            if (child(leftdrawer) ~= kingdom) {
              " The crowd look annoyed by your poor mixing skills, but cheer up again on recognising the track.";
            } else {
              leftfader.position = 0; rightfader.position = 1; "The crowd look annoyed at the mid-song switch. Before you know what's happening, a mullet man comes over, exchanges the position of the faders says something that looks like ~That's better~ and rejoins his fellow mullet folk.";
            }
          } else {
            if (child(leftdrawer) == kingdom) {
        score++; kingdom.playing = 1; move woman to punkroom; " The crowd look puzzledly at each other. The goths go mad, but most of the mulletfolk, including your friend, tramp up the stairs, although they'll only find the same up there, you imagine. You feel guilty for a moment, but then relief quickly wins out.";

            } else {
              if (child(leftdrawer) == eightiescd) {centerfold(); rtrue;}
              "  The crowd go mad and before long start making YMCA movements. Oh dear.";
            }
          }
        }
      }
  ],
  has scenery static;

Object -> -> leftled "left LED"
  with name "left" "led" "timer",
  description [;
    print "The LED ";
    if (leftdrawer.playing == 0) {"is currently blank.";}
    if (kingdom.playing == 1 && kingdom in leftdrawer) {"reveals that there are still 74 minutes of this particular remix of Kingdom left.";}
    print "reveals that there "; 
      switch (leftbutton.minutes) {
        1: print "are ten seconds ";
        2: print "are twenty seconds ";
        3: print "are thirty seconds ";
        4: print "is a minute ";
        5: print "is a minute and thirty seconds ";
        6: print "are two minutes ";
        7: print "are two minutes and thirty seconds ";
        8: print "are three minutes ";
        9: print "are three minutes and thirty seconds ";
        10: print "are four minutes ";
      }
    "of the current crime against music remaining."; 
  ],
  has static scenery;

Object -> -> rightled "right LED"
  with name "right" "led" "timer",
  description [;
    print "The LED ";
    if (rightdrawer.playing == 0) {"is currently blank.";}
    if (kingdom.playing == 1 && kingdom in rightdrawer) {"reveals that there are still 74 minutes of this particular remix of Kingdom left.";}
    print "reveals that there "; 
      switch (rightbutton.minutes) {
        1: print "are ten seconds ";
        2: print "are twenty seconds ";
        3: print "are only thirty seconds ";
        4: print "is a minute ";
        5: print "is a minute and thirty seconds ";
        6: print "are two minutes ";
        7: print "are two minutes and thirty seconds ";
        8: print "are three minutes ";
        9: print "are three minutes and thirty seconds ";
        10: print "are four minutes ";
      }
    "of the current crime against music remaining."; 
  ],
  has static scenery;

Object -> -> leftbutton "left play button"
  with name "play" "button" "left" "grey" "triangle",
  description "The play button is small and black, with a picture of a grey triangle on it.",
  before [;
    Push:
      if (kingdom.playing == 1) {"No, no, everything's just fine as it is.";}
      if (leftdrawer has open) {"The left LED briefly flashes with the message 'drawer open'.";}
      if (child(leftdrawer) == nothing) {"The left LED briefly flashes with the message 'no disc'.";}
      if (leftdrawer.playing == 1) {"Nothing happens, which is perhaps unsurprising, given that the CD's already playing.";}
      if (leftfader.position == 1) {
        "Though you can't hear what you've done, the crowd look distressed. Oh dear. Before you know what's happening, a mullet man comes over, says something, and thumps the mixer. He says something that looks like, 'There, that's fixed it,' and rejoins his fellow mulletfolk.";
      }
      leftdrawer.playing = 1; startdaemon(self); self.minutes = 10; "You press the left play button.";
  ],
  minutes 10,
  daemon [;
    if (self.minutes > 1) {self.minutes--;}
    else {self.minutes = 10;}
    if (self.minutes == 9 && leftfader.position == 1 && rightfader.position == 1 && rightdrawer.playing == 1) {rightfader.position = 0; "Back in the industrial room, you heard a song that seemed to go, ~Two sounds are better than one,~ but the mulletpeople appear to disagree. A mullet man comes over, shunts the right fader back to where it was, and returns to the cheers of his fellow mullets.";}
  ],
  has scenery static;

Object -> -> rightbutton "right play button"
  with name "play" "button" "right" "grey" "triangle" "pink",
  description "The play button is small and black, and once had a picture of a grey triangle on it, but someone has since coloured it in pink.",
  before [;
    Push:
      if (kingdom.playing == 1) {"No, no, everything's just fine as it is.";}
      if (rightdrawer has open) {"The right LED briefly flashes with the message 'drawer open'.";}
      if (child(rightdrawer) == nothing) {"The right LED briefly flashes with the message 'no disc'.";}
      if (rightdrawer.playing == 1) {"Nothing happens, which is perhaps unsurprising, given that the CD's already playing.";}
      if (rightfader.position == 1) {
        "Though you can't hear what you've done, the crowd look distressed. Oh dear. Before you know what's happening, a mullet man comes over, says something, and thumps the mixer. He says something that looks like, 'There, that's fixed it,' and rejoins his fellow mulletfolk.";
      }
      rightdrawer.playing = 1; startdaemon(self); self.minutes = 10; "You press the right play button.";
  ],
  minutes 10,
  daemon [;
    if (self.minutes > 1) {self.minutes--;}
    else {self.minutes = 10;}
    if (self.minutes == 9 && leftfader.position == 1 && rightfader.position == 1 && leftdrawer.playing == 1) {leftfader.position = 0; "Back in the industrial room, you heard a song that seemed to go, ~Two sounds are better than one,~ but the mulletpeople appear to disagree. A mullet man comes over, shunts the left fader back to where it was, and returns to the cheers of his fellow mullets.";}
  ],
  has scenery static;

Glower -> glowsticktwo "pink glowstick"
  with name "glowstick" "pink" "glow" "stick", taken 0,
  description "Not as technologically advanced as your other glowstick, it will serve your purposes nonetheless.",
  before [;
    Take: if (self.taken == 0) {self.taken = 1; move glowsticktwo to player; give self ~scenery; "~Can I have a go with your glowstick?~ you ask the trio.^^~Sure,~ one of the girls says, handing it to you. Freaky.";}
  ],
  has scenery;

Object -> space "space"
  with name "space",
  description "It seems to be about a foot high, a foot wide and six inches deep.",
  before [;
    Take: "Take an absence of anything? What a surreal notion!";
  ],
  has container open;

CD -> -> kingdom "CD marked ~Kingdom - VNV Nation~"
  with name "kingdom" "cd" "compact" "disc" "vnv" "nation" "marked", playing 0,
  description "A plain silver CD, with words written on it in black marker.",
  before [;
    Take: move self to player; "Taken.";
    Break: "Hasn't anyone ever told you not to go around destroying random objects you find in computer games? What do they teach people these days!";
  ];

Object -> -> key "key"
  with name "key",
  description "The key looks suitable for unlocking a pair of handcuffs.",
  before [;
    Drop: "No, you really, really don't want to lose it.";
  ];

Object -> drawingpins "drawing pins"
  with name "drawing" "pins",
  description "Their heads are black (surprise surprise) and their pins slightly rusty.",
  before [;
    Take: if (knife notin player && razorblade notin player) {"You have no way of getting them out of the wall.";}
    if (razorblade notin player) {"Try as you might, the blade of the knife is too thick to get behind the drawing pins.";}
      if (space in neverneverland) {move space to gothroom; "Using the razorblade to lever the drawing pins out, you take down the poster, revealing a space in the wall containing a CD marked ~Kingdom - VNV Nation~ and a key that looks suitable for unlocking a pair of handcuffs.^^A security guard appears. ~Oi, no nicking the decor,~ he says. You hastily pin the poster back to the wall, slightly to the side of the hollow, and the guard leaves again.";}
   "Nah, the poster looks fine where it is.";
  ],
  has scenery;

Object -> razorblade "razor blade"
  with name "razor" "blade" "razorblade" "bookmark" "powder" "white",
  description "A few grains of some sort of white powder stick to the blade.";

Object -> Hollow "hollow"
  with name "hollow",
  description "It seems to be about a foot high, a foot wide and six inches deep.",
  before [;
    Take: "Take an absence of anything? What a surreal notion!";
  ],
  has container open static;

Object -> -> whitelinefever "copy of ~White Line Fever~"
  with name "white" "line" "fever" "lemmy" "book" "lemmy^s" "autobiography" "biography" "motorhead" "out" "of" "copy",
  description [;
    print "You've read it before, but you flick through the pages, tales of depravity whizzing past you.^";
    if (razorblade in neverneverland) {print "As you do, something small, presumably being used as a bookmark, falls to the floor.^"; move razorblade to location;}
    rtrue;
  ],
  before [w1 w2 glyph;
    Read, Open: <<examine self>>;
    Consult: 
      wn = consult_from;
      w1 = NextWord(); 
      w2 = NextWord(); 
      glyph = w1;
       switch (glyph) {
         default: "Nah. Much respect as you have for the man, you can't really regard Lemmy's autobiography as a source of answers to your problems.";
             }
  ];

Object -> MirandaPoster "Killing Miranda poster"
  with name "killing" "miranda" "poster",
  description "It looks like it's just a fan photo been blown up.",
  before [;
    Take: if (player in bastard && boots.height == 11) {
      if (hollow in neverneverland) {
        move hollow to gothroom; "You take down the Killing Miranda poster, revealing a hollow in the wall, containing a copy of Lemmy's autobiography, ~White Line Fever~.^^A security guard appears. ~Oi, no nicking the decor,~ he says. You hastily pin the poster back to the wall, slightly to the side of the hollow, and the guard leaves again.";
      } "Nah, it looks good where it is.";
    }
    if (player in bastard) {"Even with you standing on the bastard, it's too high for you to reach.";}
    if (boots.height == 11) {"Even with your boots turned up to 11, it's too high for you to reach.";}
    "It's too high for you to reach.";
  ],
has static scenery;

Object -> SistersPoster "Sisters of Mercy poster"
  with name "sisters" "of" "mercy" "poster",
  description "It advertises ~Floodland~.",
  before [;
    Take: if (knife notin player && razorblade notin player) {if (drawingpins in neverneverland) {move drawingpins to gothroom;} "The poster is fastened to the wall with drawing pins, and try as you might, you can't get them out. You're going to need some method of leverage.";}
    if (knife in player && razorblade notin player) {"The poster is fastened to the wall with drawing pins, and try as you might, you can't get them out. The blade of the knife you're carrying is too thick.";}
    if (razorblade in player) {
      if (space in neverneverland) {move space to gothroom; "Using the razorblade to lever the drawing pins out, you take down the poster, revealing a space in the wall containing a CD marked ~Kingdom - VNV Nation~ and a key.^^A security guard appears. ~Oi, no nicking the decor,~ he says. You hastily pin the poster back to the wall, slightly to the side of the hollow, and the guard leaves again.";} 
      "Nah, it looks fine where it is.";
    }
  ],
has static scenery;

Object -> handcuffs "pair of handcuffs"
  with name "handcuffs" "handcuff" "pair" "of", 
  victim 0, transported 0, with_key key,
  description "Despite being cheap, their powers over you are great.",
  before [;
    Wear:
      if (self has worn) {"You're already wearing them.";} 
      if (self has locked) {give self ~locked; print "(first unlocking the handcuffs)^"; rfalse;}
    Disrobe:
      if (self hasnt worn) {"You're not wearing them.";} 
      if (key notin player && self has locked) {"If only you could!";}
      if (self has locked) {print "(first unlocking the handcuffs)^"; <unlock handcuffs>; rfalse;}
    Unlock2, Unlock: if (girl.dance == 3) {score++; give handcuffs ~locked; girl.dance = 4; give stuckinhandcuffs concealed; handcuffs.victim = 0; "You unlock the handcuffs. ~Wow,~ the girl says, ~That was lucky. Maybe I'd better stop handcuffing random people. You keep them. Well, I'm going off to dance again, but let me know if you change your mind.~";}
      if (handcuffs.victim ~= 0) {handcuffs.victim = 0; give handcuffs ~locked; "You unlock the handcuffs, setting your victim free.";}
  ],
  has lockable locked clothing;

Person -> girl "young nu-metal vixen"
  with name "girl" "metal" "vixen" "young" "sheila", order 0, met 0, introduced 0,
  dance 0,
  description "She looks about your age, maybe a few years younger. She's wearing a System Of A Down hoodie, a short PVC skirt, red-and-black stripy tights and a fairly modest pair of platform boots - by the standards of this place, anyway.",
  orders [;
    DoubleEntendre: "~Can I have a double entendre?~ you ask.^^~What's one of them?~ she inquires.^^~Never mind. You'll find out one day.~";
    LookAtMe: print "No. Not only is saying ~Look at me~ cliched beyond all reasonable measure, but you don't want to "; if (girl.dance < 3) {"completely ruin your chances.";} "inflict your ghastly countenance on anyone.";
    GrabYourCoat: if (girl.dance < 3) {"No; you suspect that line only works on townie slappers, and, at this point in your sexual development, you don't feel that risking it on a higher calibre specimen would be particularly prudent.";} "No, you're not going back on your word.";
    GiveMeDrink: "Nah, she doesn't seem to have one.";
    LookAtThis: if (girl.dance < 3) {"You've always wondered if the^^Bloke: Look at this.^Girl: What?^Bloke: *smooch*^^routine worked in reality, but you're too much of a chicken to find out for yourself.";}
	"No. You don't have anything to show her that can't be achieved by SHOW (ITEM) TO GIRL.";
    diehard: if (girl.dance < 3) {"No. System Of A Down might have said angels deserve to die, but you have bad enough luck with women without telling them that. And even if she agreed, necrophilia's more Death's thing.";} else {"No. You sometimes wish death to mini-moshers, but this one seems all right, and you've always maintained that you prefer kids listening to Linkin Park than So Solid Crew. They're less likely to beat you up that way, anyway.";}
    GetLife: "Nah, she seems to have rather more of one than you do.";
    Horns: "She @@92m/s back at you, grinning.";
    Metal: "~Metaaaaaaaal!!!~ you say, making devil horns.^^~Metaaaaaaaaaaaal!!!!!~ she agrees, returning the salute."; 
    Jump: "You say, ~Jump.~^^She says, ~How high?~^^~Ah, a couple of inches will do,~ you say, so she bounces on the spot.";
    Follow:
      if (noun == player) {
        if (girl.dance < 3) {"No. Best not to rush things.";} 
        if (handcuffs.victim == girl) {"~Follow me,~ you say.^^~Like I have much choice in the matter,~ she mutters.";}
      }
    Bow: "Sheila bows down before the one she serves.";
    Hello: "~Hi,~ you say, with a weak grin.";
    Goodbye: if (handcuffs.victim == girl) {"You can't get rid of her that easily.";} else {"~See you later,~ you say.";}
    Dance: if (girl.dance < 3) {"She's doing that already.";} "Seemingly social customs have altered to make that form of courtship somewhat outdated.";
    Yes, No: "She appreciably looks a bit confused about what you're agreeing to.";
    default: if (self.order == 0) {self.order++; "~In the approximate words of Rage Against The Machine, forget it, I won't do what you tell me,~ she says.";} else {self.order = 0; "~As Marilyn Manson once said, I'm not a slave to a god that doesn't exist,~ she says.^^~But I'm the bass player for Doom Monkey and we're supporting Iron Maiden tonight,~ you protest. ~After that I'll be a god.~^^~Yeah right,~ she says.^^This is the point at which you'd like to ask Ozzy for advice on appearing more godlike, but you wouldn't lower yourself to fanboy's level.";}
  ],
  life [;
    Ask:
      switch(second) {
        'bastard': "~What should I do with a drunken bastard?~ you ask.^^She gazes at you, uncomprehending. Blimey, does she not know what you're alluding to? What do they teach kids at school these days?";
        'herself','self','name':
          if (self.introduced == 0) {self.introduced = 1; "~What's your name?~ you ask.^^~Sheila,~ she replies.^^~I'm Dave,~ you tell her.";}
        'music','metal','song':
           "~Enjoying the music?~ you ask.^^~It's all right,~ she replies, sounding deeply non-plussed.";
        'night':
          if (self.dance < 3) {"~Are you having a good night?~ you ask.^^~Ohhhh yeah,~ she says. Sounds promising.";}
          "~Are you having a good night?~ you ask.^^~Are you trying to chat me up?~ she says, ~Make up your mind!~";
      }
      if (girl.dance < 3) {"The girl seems more interested in dancing than talking.";}
            else {"~Are you trying to chat me up?~ she asks. ~Make up your mind!~";}
    Tell:
      switch(second) {
        'doom','monkey': "After the troubles you had earlier, you're not in any hurry to promote your band to young people.";
      }
  ],
  before [;
    Hug: if (girl.dance < 3) {"You give her a tentative hug. She seems pleased. Good good.";} "This isn't a particularly huggy situation.";
    Kiss: if (self.dance < 3) {"You don't have the confidence to . . . yet.";} else {"It's tempting . . . actually, no it's not. She probably has glandular fever.";}
    Shag: if (self.dance < 3) {"You don't have the confidence to . . .yet.";} "You'd like to, but . . . actually, no she wouldn't. She probably has all sorts of diseases.";
    GiveOne: "~What's one of those?~ she asks.^^~Never mind,~ you say, ~you'll find out one day.~";
    HandcuffTo:
      if (handcuffs in player && key in player && second == youngguy) {
        youngguy.satisfied = 1; punkroom.count = 2; handcuffs.victim = 0; give handcuffs ~locked; give girl scenery; give youngguy ~scenery; youngguy.initial = "The young nu-metal vixen and the young punk guy stand in a corner, locked in an embrace."; "Being male, you have no idea whether the young guy is fit or not, but since he's closer to the girl's age than you are, you handcuff her to him. They start talking to each other, hesitantly at first, but then they get chatting about bands, and before long they're kissing.^^Ahhh, young love!^^Hating to interrupt, you tap them both on the shoulders and ask, ~Any chance I could have the handcuffs back?~^^~Oh - sure,~ says the girl, absently. You unlock the handcuffs and put them on again.";
      }
      if (girl.dance == 3) {"Easier said than done.";}
  ],
  after [;
    Handcuff:
      if (handcuffs notin player) {"This would be infinitely easier if you had a pair of handcuffs.";} 
      if (youngguy.satisfied == 1) {"The girls hands are sort of busy.";}
      if (handcuffs in player && girl.dance == 3 or 4) {
                 if (handcuffs.victim == girl) {"You're already handcuffed to her.";}
        handcuffs.victim = girl; give handcuffs locked; "~You don't mind being handcuffed again, do you?~ you ask.^^~As long as you're taking me to a fit bloke,~ she says. ~And you haven't lost the key.~";}
  ],
  has animate transparent female;

Object -> -> girlsclothes "girl's clothes"
  with name "girl^s" "clothes" "hoodie" "system" "of" "a" "down" "short" "pvc" "skirt" "red" "and" "black" "stripy" "stripey" "tights" "platform" "boots",
  description "It's not the most imaginative of get ups, but then neither is yours.",
  before [;
    Take: if (girl.dance < 3) {"You haven't the courage to start taking her clothes off - yet.";} "Now you've knocked her back, you doubt she'd be into you taking her clothes off in public.";
  ],
  has static scenery;

CD -> eightiescd "80s Party Anthems"
  with name "cd" "compact" "disc" "c.d." "eighties" "80s" "party" "anthems" "pictures" "of" "rubix" "rubik^s" "rubiks" "cubes",
  fixed 0,
  description [;
    if (self.fixed == 0) {print "It's like a broken record, only a more modern technology. ";}
    print "It's called 80s Party Anthems and is adorned with pictures of Rubik's cubes.^"; rtrue;
  ],
  before [;
    Take: move self to player; "Taken.";
    Fix: if (self.fixed == 0) {
	if (plasticbag notin player) {"You have no suitable means of fixing it.";}
      else {self.fixed = 1; "You glue to two sections of CD back together. You're usually rather cackhanded, but it looks as good as new. It might even play. There are some benefits to virtual reality . . . although perhaps this isn't one of them.";}    
    }
    Break: if (self.fixed == 0) {"It's already broken.";} 
    if (eightiesdj notin neverneverland) {"That would kind of defeat the purpose of fixing it, don't you think?";} 
    "Regretting that you ever fixed it, you do your best to snap it in half, but the superglue really was good, and you just end up with scratched hands. Darn it!";
  ],
  has proper;

Person -> Ozzy "Ozzy Osbourne"
  with name "ozzy" "osbourne" "replica",
  description "You refuse to lower yourself to fanboy's level by staring at a cheap imitation of your hero.",
  orders [;
DoubleEntendre: "He gives you one.";
LookAtMe: "No, for that would be fannish.";
    GrabYourCoat: "No. Much as he'd probably appreciate the escape from fanboy's clutches, you don't suppose a night with you is a prospect any more enticing.";
    GetLife: "No, if anyone's already got one, it's Ozzy.";
    GiveMeDrink: "Nah, he doesn't seem to have one.";
    LookAtThis: if (pinstripetrousers.position == 0) {"Nah, you suspect it would take slightly more than a random act of exhibitionism to impress him.";} "Nah, as you don't have anything to show, probably best not to trouble him.";
    diehard: "No. You don't actually think he's capable of it, or he surely would have kicked the bucket years ago, several times over.";
    Horns: "No - you suspect he's just a touch sick of the gesture. In fact, you read somewhere that he used to do the peace sign, back int day.";
    Metal: "~Metaaaaaaaal!!!~ you say, making devil horns.^^The ~Metaaaaaaaaaal!!!!!~ you get in response goes on for several minutes."; 
    default: "~You what?~ Ozzy asks. You gesture never mind.";
  ],
  life [;
    Kiss: "You're sure he's had enough offers from groupies to last him several lifetimes.";
    Give: if (noun == whitelinefever) {"You're sure Ozzy already knows plenty about Lemmy.";} "You don't really think he'd be interested in your paltry possessions.";
    Tell, Ask: switch (second) {
      'ozzfest','doom','monkey': "No no no. Absolutely not. That's beyond wrong. Besides, you're supporting Iron Maiden tonight, Ozzy will be begging you to play Ozzfest afterwards. If you ever get out of here, that is.";
      'glowstick','glow','stick','glowsticks','sticks': "Well, it's worth a try. ~Er, yo, Ozzy, man, have you seen my other glowstick anywhere?~^^~Take some acid,~ he advises, ~Then the world will be made out of glowsticks.~^^~Er, ok, thanks!~ you say. Wow.";
    }
    "You don't want to bother him; you're sure he just wants to have a good time dancing to . . . ok, maybe not dancing to Spineshank, but you're sure he has better things to do, nonetheless.";
  ],
  before [;
    Handcuff: if (handcuffs notin player) {"This would be infinitely easier if you had a pair of handcuffs.";} "No. You suspect Ozzy is above silly handcuffing games.";
  ],
  has animate proper scenery static;

Object -> Water "glass of water"
  with name 'water' 'glass' 'of' 'drink',
  description "It looks like every other glass of water you've ever seen.",
  before [;
    Receive: if (noun == glowstick or glowsticktwo or pen or knife) {"You dip it into the water, and admire the apparent bend. Then you scowl at it. It's things like this that persuaded you to do A Level Physics, instead of an easy subject you might have passed.";}
    if (noun == safetypin or key or razorblade or pound or plasticbag or chain or gel) {"Nah, you can't see any reason for doing that.";}
    if (noun == bastard or whitelinefever or handcuffs or jacket or anarchyshirt or meshtop or fanzine or bogbrush or clipboard or dms or headphones || noun ofclass cd) {"Nah. It wouldn't fit.";}
    if (noun == beer) {"Nah, the flavoured water is diluted enough as it is.";}
    if (noun == cloakroomticket or requestlist or flyer) {"Nah, it'd get all soggy.";}
    if (noun == bleach) {"Nah; you'd probably forget you'd done it and take a sip by accident.";}
    Drink: "You're not very thirsty.";
    Taste: "You take a sip. It tastes just like every other glass of water you've ever consumed: you've never been able to tell the difference between northern and southern water.";
    Smell: "It smells just like every other glass of water you've ever caught the fragrance of: deeply nothingy.";
    EmptyT: if (second == bastard) {"Much as you'd like to, he might wake up, and you're not sure you want to be around him then.";} if (second == dms) {"Yeah, fill the bastard's shoes with water! That'll annoy him! On the other hand, it'd be better if you just didn't let him have them back at all. You could probably make a quid or two off them.";} 
      if (second == doommonkeyfan) {if (doommonkeyfan.autograph == 0) {"That would be needlessly cruel.";} "You'd love to, but your career would be over before it had started.";}
      if (second == player) {"Nah, you're not hot. Not in the slightest.";}
      if (second has animate) {"That would be needlessly cruel.";}
      if (second ofclass toilet) {"Nah, there's quite enough water in the toilet as it is, and there's enough empty glasses lying around as it is to open a shop selling them. What sort of people would want to buy them, though, is another matter.";}
    "No, you really hate it when people spill their drinks everywhere.";
    Empty: "No, you really hate it when people spill their drinks everywhere.";
    Receive: if (noun == absinthe) {"Nah, it would go, kind of, you know, green, not look much like water anymore, and taste terrible.";}
  ]
  ;

Object -> Beer "bottle of flavoured water"
  with parse_name [ n flavour; 
    if (self.type == 1) {flavour = 'beer';} else {if (self.type == 2) {flavour = 'lager';} else {flavour = 'chocolate';}}
 while (NextWord() == 'bottle' or 'of' or flavour or 'flavoured' or 'water' or 'drink') n++; return n; ], 
  absinthed 0,
  type,
  description "It looks utterly revolting.",
  before [;
    Drink, Taste: if (self.absinthed == 0) {"You have a sip and nearly spit it back out again. Yuck.";} "Nah, you're allergic to aniseed.";
    Smell: "You don't find the smell of water wholly pleasant, and the same goes for beer. And this drink seems to have combined the worst parts of both aromas.";
    Take: if (self in doommonkeyfan) {print "You take the bottle. The fan doesn't seem particularly bothered."; move beer to player; rtrue;}
    Fill: "It's already full.";
    Empty: 
      "No, you paid a good pound for that. It must have some use - there must be some crazy people out there who like it or at least are willing to pretend to. Maybe the ones that like Kylie Minogue and milk chocolate digestives.";
    EmptyT: if (second == bastard) {"Much as you'd like to, it doesn't seem like worth spending a pound on, bearing in mind it might wake him up.";} if (second == dms) {"Yeah, fill the bastard's shoes with water! That'll annoy him! On the other hand, it'd be better if you just didn't let him have them back at all.";} 
    if (second == doommonkeyfan) {if (doommonkeyfan.autograph == 0) {"That would be needlessly cruel.";} "You'd love to, but your career would be over before it had started.";}
    if (second == player) {"No, that would be nasty.";}
    if (second has animate) {"That would be needlessly cruel.";}
    "No, you paid a good pound for that. It must have some use - there must be some crazy people out there who like it or at least are willing to pretend to. Maybe the ones that like Kylie Minogue and milk chocolate digestives.";
    Receive: 
    if (noun == razorblade) {"No, knowing your luck, you'll probably forget you'd put it in there and accidentally drink it.";}
    if (noun == pen or safetypin or gel) {"Nah, you can't see any reason for doing that.";}
    if (noun == water) {"Nah, the flavoured water is diluted enough as it is.";}
    if (noun == cloakroomticket or requestlist or flyer) {"Nah, it'd get all soggy.";}
    if (noun == bleach) {if (self.absinthed == 0) {"Nah; you'd probably forget you'd done it and take a sip by accident.";} "No, the cocktail is quite dangerous enough as it is.";} 
    "Nah. It wouldn't fit.";
  ];

Object -> Absinthe "hipflask of absinthe"
  with name "absinthe" "hip" "flask" "of" "hipflask",
  description "The flask is made of stainless steel and in the shape of a Jerry can. You've spent a significant part of your existence eyeing the same product on iwantoneofthose.com, but you don't drink spirits often enough to justify a purchase.",
  before [;
    Fill: "It's already full.";
    Taste, Drink: "Sadly you're allergic to aniseed.";
    Smell: "No, the smell alone makes you sick.";
    Empty, EmptyT: "No, it must have cost a fortune.";
    Insert: if (second == beer) {  
      if (beer.absinthed == 1) {"There's a dangerous enough amount in there as it is.";}
      else {
        if (beer in doommonkeyfan) {"You'll need to get the flavoured water back first.";} 
        beer.absinthed = 1; "You did this while playing 'Broken Sword 2' without any qualms, but you still think this requires a health warning:^^Spiking drinks with absinthe is a bloody stupid thing to do! Apart from the fact that it tastes terrible and proper absinthe has hallucinogenic effects, some people are allergic to aniseed.^^Still, you're the only person here who actually exists, so you pour a small amount of absinthe into the flavoured water. The colour doesn't look any less appetising than the original and it can't taste much worse either.";}
    }
    Receive:
    if (noun == safetypin or razorblade or gel or pen) {"Nah, you can't see any reason for doing that.";}
    if (noun == beer) {"It seems more sensible to do that the other way round.";}
    if (noun == cloakroomticket or requestlist or flyer) {"Nah, it'd get all soggy.";}
    if (noun == bleach) {"Nah; the absinthe is quite toxic enough as it is.";}
    "Nah. It wouldn't fit.";
  ];

Object -> Jacket "your leather jacket"
  with name 'leather' 'jacket' 'coat' 'your',
  description "Fringed and zippy, you hope you get to take it back to reality with you.", cuttable 1,
  before [;
    Receive: if (noun == safetypin) {give safetypin worn; "You stick the pin through the jacket.";}
    Cut: if (second == knife) {"Nah, you like it the way it is.";}
  ],
  has clothing proper;

Object -> Pound "pound coin"
  with name 'pound' 'quid' 'coin',
  description [;
    "You haven't seen a great deal of cash in your life, but you've seen enough to find small amounts like this wholly uninteresting viewing material."; 
  ],
  before [;
    Taste: "Ew! You don't know where it's been!";
  ];

Person -> YoungGuy "young guy"
  with name 'young' 'guy' 'boy' 'punk' 'peter' 'bloke',
  satisfied 0,
  introduced 0,
  initial [;
    if (punkroom.count == 2 or 3) {"A young guy stands in a corner, getting his breath back.";}
  ],
  description [;
    if (punkroom.count == 2 || punkroom.count == 3) {
      if (self.satisfied == 0) {"Ahhh . . . how he reminds you of what you were like when you were his age! So filled of delight and vigour by the sense of belonging afforded by the discovery of a good rock night! How tragic it is that within a year, he'll as cynical as you are!^^Or perhaps not, since he doesn't actually exist.";} 
      else {"You'd rather not; it's quite embarrassing really.";}
    } else {"The majestic lesser-crested punk has retreated to the moshpit.";}
],
  orders [;
LookAtMe: "No. Not only is saying ~Look at me~ cliched beyond all reasonable measure, but you don't want to inflict your ghastly countenance on anyone.";
    GrabYourCoat: "Nah, he's not your type. He's male, for a start.";
    GetLife: "He seems to have enough of one already.";
    GiveMeDrink: "Nah, he doesn't seem to have one.";
    Thanks: if (punkroom.count == 2 || punkroom.count == 3) {"Nah, you can't see any reason to say thanks.";} "The majestic lesser-crested punk has retreated to the moshpit.";
    Hello: if (punkroom.count == 2 || punkroom.count == 3) {"~Hi,~ you say, with a weak grin.";} "The majestic lesser-crested punk has retreated to the moshpit.";
    Goodbye: if (punkroom.count == 2 || punkroom.count == 3) {"~See you around,~ you say.";} "The majestic lesser-crested punk has retreated to the moshpit.";
    Give: if (punkroom.count == 2 || punkroom.count == 3) {
      give gettingtheshirt ~concealed; "He tries to say something, but decides he hasn't got enough breath and shakes his head."; 
    } else {"The majestic lesser-crested punk has retreated to the moshpit.";}
    Dance: if (punkroom.count == 2 || punkroom.count == 3) {
      "Give the boy a break!"; } else {"The majestic lesser-crested punk has retreated to the moshpit.";}
    LookAtThis: if (pinstripetrousers.position == 0) {"No. You can't imagine why he'd want to see your private parts, and given the magnetic effect they're having on the eyes nearly everyone here, you suspect he has already anyway.";} "No, you don't have anything to show him that can't be achieved by SHOW (ITEM) TO YOUNG GUY.";
    diehard: "Nah, you've nothing against the guy.";
    Metal, Horns: "Nah, you don't suppose he'll appreciate it.";
    default: if (punkroom.count == 2 || punkroom.count == 3) {"He listens, but is too busy getting his breath back to respond.";}
"The majestic lesser-crested punk has retreated to the moshpit.";
  ],
  life [;
    Tell, Ask: 
      if (self.satisfied == 1) {"No, he seems rather . . . busy.";}
      if (punkroom.count == 2 || punkroom.count == 3) { give gettingtheshirt ~concealed; "He listens, but is too busy getting his breath back to respond.";} else {"The majestic lesser-crested punk has retreated to the moshpit.";}
    Give:
     if (punkroom.count == 2 or 3) { 
       if (noun == meshtop) {if (meshtop.cut == 0) {"The guy examines your shirt with interest, but then gives it back. Maybe it's in too good a condition for his tastes.";}
         else {move meshtop to youngguy; give wearingtheshirt ~concealed; anarchyshirt.retrieved = 1; give gettingtheshirt concealed; "The guy takes your shirt, checks it out, and puts it on.";}
       }
       if (noun == flyer && flyer.writtenon == 1) "~Here,~ you say, ~this'll make you a mint in a few weeks' time.~^^He tries to say something, realises he hasn't got the breath for it, and shakes his head. Honestly, some people really don't appreciate how lucky they are.";
       "He tries to say something, but decides he hasn't got enough breath for that and shows you his palms, indicating you can keep it.";
     }
     "The majestic lesser-crested punk has retreated to the moshpit.";
  ],
  before [;
    Handcuff: if (handcuffs notin player) {"This would be infinitely easier if you had a pair of handcuffs.";}
    if (punkroom.count ~= 2 && punkroom.count ~= 3) {
      "The majestic lesser-crested punk has retreated to the moshpit.";
    }
    if (self.satisfied == 1) {"His hands are somewhat busy.";}
    "~Er, I'd rather you didn't,~ he says, as you place the handcuff around his wrist. ~People might get the wrong idea.~^^You don't know, young people! So self-conscious! But you let him go - at least he's got the courage to dance, unlike some people we could mention.";
  ],
  has animate static transparent;

Object -> anarchyshirt "Anarchy t-shirt"
  with name 'anarchy' 'tshirt' 'shirt' 't-shirt',
  retrieved 0, dried 0,
  initial [;
    "A soaking anarchy t-shirt lies on the floor before him.";
  ],
  description [;
    if (punkroom.count == 2 || punkroom.count == 3 || self.retrieved == 1) {"A rather minging black t-shirt with a big red anarchy A on it.";} if (self.retrieved == 2) {"A rather wet black t-shirt with a big red anarchy A on it.";} if (self.retrieved == 3) {"A rather crumpled black t-shirt with a big red anarchy A on it.";} else {"The shirt is lost amongst a blur of bandnames.";}
  ],
  before [;
    Raise: "No, that would make you a shirt-lifter.";
    Take: if ((punkroom.count < 2 || punkroom.count > 3) && self.retrieved == 0) {"The shirt is lost amongst a blur of bandnames.";}
          if ((punkroom.count == 2 || punkroom.count == 3) && self.retrieved == 0 && ((meshtop notin punkroom && meshtop notin youngguy) || meshtop.cut == 0)) {
            give gettingtheshirt ~concealed; 
            "You lift up the shirt gingerly, but the young guy grabs it back from you.";
          }
    Cut: "Nah. The young punk might want it back later.";
    Wash: if (location == punkcubicle || location == eightiescubicle || location == gothcubicle || location == dodgycubicle) 
          {
          if (punktoilet.cleaned == 0) {"Ew! Definitely not!";}
            else {
              if (self.retrieved == 1) {self.retrieved = 2; give wearingtheshirt concealed; give dryingtheshirt ~concealed; "You wash the shirt in the toilet.";}
              else {"Nah, it's clean enough as it is.";}
            }
          }
    Wring: if (self.retrieved == 2) {
      "You wring the t-shirt, but it's still too wet to wear.";
    }
    Dry: if (self.retrieved == 2) {
      if (location == punktoilets) {"You turn on the hand dryer, but it starts emitting smoke, so you turn it off again. Stupid punks, breaking everything.";} 
      if (location == eightiestoilets) {self.retrieved = 3; give dryingtheshirt concealed; 
        if (self.dried == 0) {
          score++; self.dried = 1;
        }
        "You switch on the hand dryer, and dry the t-shirt.";}
      if (location == gothtoilets) {"You switch on the hand dryer, but it moans, ~I'm too depressed to work.~ It wails feebly and you put it out of its misery by switching it off again.";}
      if (location == dodgytoilets) {"You can't, as a girl is busy licking the handdrier in a suggestive fashion.";}
      "A drying mechanism would be a fine thing.";
    }
    Wear: if ((punkroom.count < 2 || punkroom.count > 3) && self.retrieved == 0) {"The shirt is lost amongst a blur of bandnames.";}
          if ((punkroom.count == 2 || punkroom.count == 3) && self.retrieved == 0 && meshtop notin punkroom && meshtop notin youngguy) {
            give gettingtheshirt ~concealed; "You lift up the shirt gingerly, but the young guy grabs it back from you.";
          }
          if (self.retrieved == 0 || self.retrieved == 1) {"No . . . your level of hygiene is terrible, but this shirt is too disgusting even for you in its current state.";}
          if (self.retrieved == 2) {"Nah. You have a curious aversion to wet clothing.";}
    Bleach: "Nah, white isn't really your colour.";
    Smell: if (self.retrieved < 2) {"You'd really rather not.";}
  ],
  has clothing;

Object -> MeshTop "mesh top"
  with name 'mesh' 'top' 't-shirt' 'shirt', cut 0,
  description [;
    if (meshtop in youngguy && (punkroom.count < 2 || punkroom.count > 3)) {"The mesh top is lost in a blur of bandnames.";}  else "It's long-sleeved, and, of course, black.";
  ], cuttable 1,
  before [;
    Raise: "No, that would make you a shirt-lifter.";
    Take: if (self in youngguy) {"The young guy seems rather attached of it.";}
    Cut: if (second == knife or razorblade) {if (self.cut == 0) {print "You cut the mesh top up in what you believe to be an artful fashion.^"; self.cut = 1; rtrue;} else {"The mesh top looks suitably torn as it is.";}}
    Bleach: "Nah, you don't really go in for white clothing.";
    Disrobe: if (self has worn) {give self ~worn; "You take off the top, revealing your firm torso and pierced nipples, neither of which you actually have. You decide you need to spend more time in virtual reality.";}
    Drop: if (self has worn) {give self ~worn; print "You take off the top"; 
      if (location ~= thedark) {
        print ", revealing your firm torso and pierced nipples, neither of which you actually have. You decide you need to spend more time in virtual reality";
      }
      print ". Then you let it fall to the ground.^";} else {print "Dropped.^";} move self to real_location; rtrue;
  ],
  has clothing;

Object -> PinStripeTrousers "pinstripe trousers"
  with name 'pinstripe' 'trousers' 'pinstriped',
  add_to_scope zips,
  examined 0,
  position 1,
  warning,
  description [;
    print "A pair of pinstripe trousers, with many delightful superfluous zips.^";
    if (self.examined == 0) {print "You find a cloakroom ticket in the pocket.^"; move cloakroomticket to player; self.examined = 1;}
  ],
  before [;
    Empty, EmptyT: "Nah, that would require you to take the trousers off, which would require you to remove the boots, and you're not entirely sure how to.";
    Open: "Oddly, for a garment with so many zips, there isn't actually one in the normal place. Nonetheless, the trousers have an elasticated waist, so you could lower them, should you want to.";
    Drop: <<lower pinstripetrousers>>;
    Bleach: "Nah, white isn't really your colour.";
    Cut: if (second == knife or razorblade) {"Nah, you like them as they are.";}
    Disrobe: "To take them off entirely would involve removing the boots, and, to be honest, you can't see how to.";
    Lower: 
      if (self.position == 0) {"They're already around your knees.";}
      if (acid.taken == 1) {"No! You might never be able to get them back up again!";}
      if (location == menstoilets) {"Normally you have no qualms about lowering your trousers in the men's, but in here? Oh no. No way.";}
      if (location == thedark) {"Oh no. Since you're not wearing anything underneath, no way are you shuffling around in the dark with your trousers around your knees.";}
      if (location == metalroom && (girl.dance == 1 || girl.dance == 2)) {"No way! You're in with a chance here, and you'd like to keep it that way, thank you very much! Even if she didn't think you were a complete freep (a cross between a freak and a creep), you suspect her enthusiasm might wane if she knew what she was letting herself in for.";}
      if (location == punkcubicle || location == eightiescubicle || location == gothcubicle || location == dodgycubicle) {
        startdaemon(self); self.warning = 3; self.position = 0; print "You lower your trousers. "; if (location == punkcubicle) {"The guy doesn't seem unduly bothered.";} else {"^";}
      }
      self.position = 0; startdaemon(self); self.warning = 3; "Well . . . if you insist. You lower your trousers and everyone stares at you in amazement."; 
     Raise: if (self.position == 1) {"They're already up.";}
       self.position = 1; stopdaemon(self); pinstripetrousers.warning = 3; print "You raise your trousers.^";
       if (securityguard in location) {
         if (headphones hasnt worn) {print "^~Good lad,~ says the security guard and walks away.^";}
         else {print "The security guard lifts one your earpieces. ~Good lad,~ he says and walks away.^";}
      }
       move securityguard to neverneverland; rtrue;
     Wear: if (self.position == 1) {"You're already wearing them!";} <<raise pinstripetrousers>>;
  ],
  daemon [;
    if (location ~= punkcubicle && location ~= eightiescubicle && location ~= gothcubicle && location ~= dodgycubicle && location ~= dodgyroom && location ~= dodgytoilets) {self.warning--;}
    if (self.warning == 1) {move securityguard to location; print "^A security guard comes up to you"; if (headphones has worn) {print " and lifts one of your ear pieces";} ". ~Oi, son! Get those trousers up, before I kick you into another dimension!~ he shouts.";}
    if (self.warning == 0) {print "^~I meant it,~ the guard continues, a savage smile distorting his face. He kicks you so hard, you going flying into the wall. You've a millisecond to brace yourself for the impact, but you pass straight through the wall, and stumble to a halt in the . . .^"; if (handcuffs.victim ~= 0) {move handcuffs.victim to dodgyroom;} PlayerTo(DodgyRoom); self.warning = 2; move securityguard to neverneverland; "^Well. That was lucky. You behind is rather suffering the after effects of the kick, though."; }
  ],
  has clothing transparent pluralname;

Object -> -> pocket "pocket"
  with name "pocket",
  description [;
    if (pinstripetrousers.examined == 0) {move cloakroomticket to player; "You find a cloakroom ticket.";}
    "There's nothing else in the pocket.";
  ],
  before [;
    Receive: if (noun == gel) {"Sadly it won't quite fit in.";}
      if (noun == pen) {"There's no need, the DJ doesn't seem to have noticed its absence.";}
	if (noun == bastard) {"Erm, he won't quite fit!";}
      print "You have no reason to wish to conceal ", (the) noun; ".";
  ],
  has static scenery;

Object -> -> Zips "zips"
  with name 'zips',
  description "You undo them, they make cool sounds, and they reveal nothing! Excellent!",
  before [;
    Open: "You undo the zips, but sadly the club is too noisy for you to hear them.";
  ],
  has static scenery;

Object -> -> Zip "your zip"
  with name 'zip' 'your',
  description "You undo it, it makes a cool sound, and it reveals nothing! Excellent!",
  before [;
    Open: "You undo the zip, but sadly the club is too noisy for you to hear them.";
  ],
  has static scenery;

Object -> Boots "platform boots"
  with article "a pair of",
  height 8,
  name "boots" "platform" "platforms" "shoes" "your" "boot",
  add_to_scope club room,
  description [;
    print "A pair of spectacular knee-high platform boots, laden with straps, buckles and pointless metal bits. They also have a switch, that changes the platforms from very high to ridiculously high. Their current size is "; if (self.height == 8) {print "a mere eight inches.^";} else {print "eleven inches.^";}
  ],
  before [;
    Empty, EmptyT: "Nah, that would require you to remove the boots and you're not entirely sure how to.";
    Raise: "You lift each boot in turn, admiring the details, then lower them again.";
    Disrobe: "You know, you're not quite sure how to.";
  ],
  has clothing transparent pluralname;

Object -> -> Straps "straps"
  with name "straps" "buckles" "pointless" "metal" "bits" "bit" "strap" "buckle",
  description "Yes, these are indeed a fine pair of boots.",
  has static scenery;

Object -> -> Switch "switch"
  with name "switch" "lever",
  description "A switch, that allows you to change the platforms from very high to ridiculously high.",
  Before [;
    Switch, Push, Pull, Flick: print "You flick the switch and the platforms "; if (boots.height == 8) {print "zoom up to eleven inches.^"; boots.height = 11; rtrue;} else {print "shrink to eight inches.^"; boots.height = 8; rtrue;}
  ];  

Object -> CloakroomTicket "cloakroom ticket"
  with name 'cloakroom' 'ticket',
  description "It has the number 666 on. You're so pleased by this, you're tempted to never bother to collect your coat.",
  cuttable 1,
  before [;
    Cut: if (second == knife) {"Nah, ticket 6-squiggle, curve-6, 000 or curve curve curve wouldn't be anywhere near as good.^";}
    Read: <<examine self>>;
  ],
  has legible;

Glower -> Glowstick "magic glowstick"
  with parse_name [x y z;
    x = NextWord(); y = NextWord(); z = NextWord(); 
    if (x ~= 'glowstick' or 'stick' or 'glow' or 'magic' or 'your') {return 0;}
    if (y ~= 'glowstick' or 'stick' or 'glow') {return 1;}
    if (z ~= 'stick') {return 2;}
    return 3;
  ],
  colour 0,
  description [;
    print "It is glowing ";
    if (self.colour == 0) {print "pink";}
    if (self.colour == 1) {print "yellow";}
    if (self.colour == 2) {print "green";}
    if (self.colour == 3) {print "blue";}
    if (self.colour == 4) {print "with black and white polka dots - trippy -";}
    print " and at the base of it, there is a small button.^";
  ],
  before [;
    Drop: if (acid.taken == 1) {"No! The floor might eat it!";}
    if (location == menstoilets) {"No, the prospect of having to go crawling between all the women's legs to retrieve it is an utterly terrifying one.";}
  ],
  has transparent;

Object -> -> Button "button"
  with name "small" "button" "buton" "butotn",
  Before [;
    Push: 
      if (pinstripetrousers.warning == 1) {"~Don't you be trying to get away now, son,~ the guard warns you in a low voice. ~I'm fed up with you.~";}

      if (glowstick notin player) {print "(first picking up the glowstick)^"; move glowstick to player;}
      if (location == metalroom && doommonkeyfan.autograph < 2) {print "~Back in a sec,~ you tell your fan. ";}
      if (location == menstoilets || location == punkcubicle || location == eightiescubicle || location == gothcubicle || location == dodgycubicle) {"The button refuses to be depressed. How very ungothic of it!";}
      if (location == EBMRoom && cyberbloke.chained == 1) {print "You whizz off to the metal room. Sure enough, the other end of the chain is left in the EBM room. It vanishes into the air, mid-link. You tug at the chain and walk back and forth, feeling cyberbloke's resistance as he grips the other end tightly. When you're sure you've convinced him, you return to the EBM room.^^~All right,~ he says, returning his end of the chain to you. ~I don't know what you did, or how you did it, but it was pretty convincing. I'll give it a go, just to humour you, but only if you shut up about these other rooms afterwards, all right?~^^He takes a glowstick out of his pocket. For a moment, you're worried that only your glowstick has this property, but he presses the button, and vanishes. Excellent!^"; give movecyberbloke concealed; cyberbloke.chained = 0; move cyberbloke to tranceroom; cyberbloke.belief = 2; give cyberbloke scenery; rtrue;}
      else {
        give fourrooms concealed;
        print "You press the button and the room warps around you . . .^";
        switch(location) {
          EBMRoom: if (handcuffs.victim ~= 0) {move handcuffs.victim to metalroom;} PlayerTo(MetalRoom); glowstick.colour = 2;
          EightiesRoom: if (handcuffs.victim ~= 0) {move handcuffs.victim to gothroom;} PlayerTo(GothRoom); glowstick.colour = 2;
if (headphones has worn) {give headphones ~worn; print "^Free from the tyranny of the cheese, you remove the headphones.^";}
          Eightiestoilets: if (handcuffs.victim ~= 0) {move handcuffs.victim to gothtoilets;} PlayerTo(GothToilets); glowstick.colour = 2;
          Industrialroom: if (handcuffs.victim ~= 0) {move handcuffs.victim to EBMroom;} PlayerTo(EBMroom); glowstick.colour = 1;
          Punkroom: 
          glowstick.colour = 1;
          if (kingdom.playing == 0 && safetypin hasnt scenery) {
            print "^You arrive in the eighties room, but so cheesy is the music, ";
            if (headphones in player) {
              give headphones worn; print "you have to put on the headphones.^"; 
              if (handcuffs.victim ~= 0) {move handcuffs.victim to Eightiesroom;} 
              PlayerTo(EightiesRoom);
            } else {
  		  print "you can't bear to stay there for a moment longer than you have to. You "; 		  if (handcuffs.victim ~= 0) {move handcuffs.victim to EBMroom; print " yank your victim towards the cover of the^";} else {print " run for the cover of the EBM room.^";} 
              PlayerTo(EBMRoom);            }
          } else {
            if (handcuffs.victim ~= 0) {move handcuffs.victim to EightiesRoom;} PlayerTo(Eightiesroom);
          }
          Punktoilets: if (handcuffs.victim ~= 0) {move handcuffs.victim to eightiestoilets;} PlayerTo(EightiesToilets); glowstick.colour = 1;

          TranceRoom: if (handcuffs.victim ~= 0) {move handcuffs.victim to Industrialroom;} PlayerTo(IndustrialRoom); glowstick.colour = 0;
          DodgyRoom: if (handcuffs.victim ~= 0) {move handcuffs.victim to punkroom;} PlayerTo(PunkRoom); glowstick.colour = 0;
          Dodgytoilets: if (handcuffs.victim ~= 0) {move handcuffs.victim to PunkToilets;} PlayerTo(PunkToilets); glowstick.colour = 0;
          MetalRoom: if (handcuffs.victim ~= 0) {move handcuffs.victim to tranceroom;} PlayerTo(TranceRoom); glowstick.colour = 3;
          GothRoom: if (handcuffs.victim ~= 0) {move handcuffs.victim to dodgyroom;} PlayerTo(DodgyRoom); glowstick.colour = 3;
          Gothtoilets: if (handcuffs.victim ~= 0) {move handcuffs.victim to dodgytoilets;} PlayerTo(DodgyToilets); glowstick.colour = 3;
        }
        if (handcuffs.victim ~= 0 && handcuffs.transported == 0) {handcuffs.transported = 1; "^You weren't sure your handcuffee would be dragged through the fabric of the universe with you, but no, here she is. ~Wow, what happened there?~ she asks.^^~It is a bit weird, isn't it,~ you agree.";}
        rtrue;
      }
  ];

Place IndustrialRoom "Industrial Room"
  with name "industrial" "room", 
    description [;
      if (acid.taken == 0) {print "The lights are flashing, the beats are pounding, and incredible-looking people are stomping as if they've been doing it all their lives. You desperately want to join them, but something's holding you back.";}
      else {print "The lights are pounding, the beats are flashing, and purple gorillas are bouncing as if they've been doing it all their lives. Which they probably have, as they're only a figment of Robot's twisted imagination. You feel the urge to join them.";}
      "^^There's a cloakroom in one corner and stairs lead down to another dancefloor.";
  ],
  before [;
    Dance: if (glowstick notin player && glowsticktwo notin player) "You want to, but you feel too self-conscious without any glowsticks.";
    if ((glowstick notin player && glowsticktwo in player) || (glowstick in player && glowsticktwo notin player)) {
      if (acid.taken == 0) {"You want to, but you feel too self-conscious with only one glowstick.";}
      if (acid.taken == 1 && headphones has worn) {"But there's no music! People will laugh at you!";}
      if (acid.taken == 1 && headphones hasnt worn) {"You start to dance, but this song comes on that goes, ~Dave! Was dancing in a disco! Like a loser!~ and that's enough to drive you back to the side. Flipping heck! You're never touching acid again, that's for certain.";}
    }
    if (glowstick in player && glowsticktwo in player) {deadflag = 2; "You join the gorillas on the dancefloor and a wave of euphoria washes over you . . . but after a couple of seconds, you find yourself in your housemate's bedroom.^^Robot's bedroom is satisfyingly bizarre. The ceiling, floor and walls are made of stainless steel, and seemingly the only thing in it is a panel of buttons. But pressing them in different combinations causes subtle changes to the lighting, revealing various collections of otherwise invisible objects.^^Eventually, you discover your scruffy trainers. But you've actually suddenly become quite fond of the boots you're wearing and they feel perfectly comfortable. ^^You spend a long time trying to make everything appear at once, and then an equally long time trying to make everything disappear, before returning to the living room to give Robot his glowtick back. (The other one has mysteriously vanished.)^^Before you do, you have a couple of questions.^^~How long did it take you to make that place?~ you ask.^^~Well, I started it when I was fifteen, and finished it for my final year project, so six years or thereabouts,~ he says, ~but I've added a few bits since.~^^~But you only got a 2:2!~ you exclaim.^^~Yeah,~ he says, his voice ragged with emotion, or something. ~They thought I'd cheated and employed a small army of computer scientists to build it for me.~^^~How terrible,~ you sympathise. ~Anyway, do you have to go to all that trouble whenever you want to get into your bedroom?~ you ask him.^^~No,~ Robot croaks. ~I just go in with two glowsticks. Only takes a few seconds that way.~ He takes another glowstick out of his pocket and waves it around.^^~So why did you make me go to all that trouble?~^^~Can't be letting any old so and so into my bedroom.~ His voice grows increasingly hoarse.^^~But we've been friends for five years!~ you cry. ~And you can go into my bedroom whenever you want.~^^Robot tries to respond, but he can't form any words. ^^~Have you lost your voice?~^^He nods, looking stricken.^^~Noooooo! Are you going to be able to sing tonight?~^^He writes you a note saying, ~Doesn't look like it.~^^You'll find some way round this. You'll have to. But it's going to be a looooong day . . .^^^Look out for the rest of ~TONIGHT I'M GOING TO ROCK YOU, TONIGHT~ - coming soon to an Internet near you. Well, soon in terms of the age of the universe, anyway."; 
}
    Pogo, Mosh: "Nah, you don't think it would go down too well in here.";
    Go: if (pinstripetrousers.warning == 1) {"~Don't you be trying to get away now, son,~ the guard warns you in a low voice. ~I've had it with you.~";} 
      if (noun == d_obj && handcuffs.victim ~= 0) {move handcuffs.victim to punkroom;}
  ],
  d_to PunkRoom;

Music -> IndustrialRoomMusic "music"
with before [;
  ListenTo: "You don't recognise the track, but it's great!";
];

Person -> CloakRoomAttendant "cloakroom attendant"
  with name "cloak" "room" "cloakroom" "attendant" "cleaner" "counter" "girl" "woman", 
  cupboard 0, named 0, introduced 0,
  initial "A cloakroom attendant stands before a sea of black coats and jackets.",
  description "The cloakroom attendant stands behind a counter and before a sea of black coats and jackets. She manages to look bored and amused at the same time.",
  Before [;    
    Hug: "The counter prevents you from doing so.";
    Handcuff: if (handcuffs notin player) {"This would be infinitely easier if you had a pair of handcuffs.";} "~Now now, how am I supposed to get people's coats with someone handcuffed to me?~ the attendant says.";
    Climb: "Nah, you don't think she would particularly appreciate you doing that.";
  ],
  Orders [;
    GiveMeDrink: "Nah, you suspect a bar would be a better place to make this request.";
     DoubleEntendre: "She gives you one.";
LookAtMe: "No. Not only is saying ~Look at me~ cliched beyond all reasonable measure, but you don't want to inflict your ghastly countenance on anyone.";
    GetLife: "Nah, she seems to have enough of one already. More of one than you do, anyway, though that isn't saying much.";
     GrabYourCoat: "~Grab your coat, you've pulled,~ you say, without meaning it.^^~Can't, I've lost my ticket,~ she grins.";
     Hello: "~Hi,~ you say, with a weak grin.";
     Goodbye: "~See you later,~ you say.";
     Thanks: "~Thanks,~ you say.^^~You're welcome,~ she says, with a grin.";
     Go, Follow: "~I've got to stay here,~ she says.";
     Give:
       if (noun == jackets) {"~Have you got your ticket?~ she asks.";}
     Dance: "~I'm kind of busy,~ she points out.";
     DieHard: "You compose an anti cloakroom attendant tirade: ~God, I hate you cloakroom attendants. You make me even more sick than telemarketers. You don't have a proper job! It's a symptom of a sick sad society, in which clubs won't help their customers by investing in air-conditioning, no, they'll try and eke yet more money out of you, by charging you to put your coat somewhere where it won't be stolen by all the deceitful so-and-sos about. But why trust you? Give me one good reason, one good reason! You're probably as crooked as the rest of them! You'll give us our coats back, sure, but not before you've gone through the pockets, taking our credit cards, not that mine will work for love nor money - in fact, it was loving it that stopped it working, and it would be pretty pointless paying for money, wouldn't it? Anyway, get lost and die! That's valuable extra-speaker space you're taking up, you know!~^^As this one hasn't done anything to offend you, though, and you don't have a proper job - or any job at all, for that matter - either, you decide to keep this speech to yourself.";
    LookAtThis: if (pinstripetrousers.position == 0) {"She's staring at you as it is.";} "~Look at this!~ you say. ~All these people having the time of their lives, but little old me can't join in, because I've only got one glowstick. Are you sure no one's left any in their pockets?~^^~Positive,~ she says, looking a touch irritated.";
    Metal: "~Metaaaaaal!!!~ you say. The attendant grins weakly.";
    Horns: "You make the sign of the horns. The assistant looks a bit offended, then sees you smiling and adjusts her expression to thinly veiled confusion.";
     default: "~Sorry, what was that?~ she asks.";
     ],
  Life [;
    Give:
     if (noun == pound) {"You're not paying to use the cloakroom again.";} 
     if (noun == flyer && flyer.writtenon == 1) {print "~Here, this'll make you a mint in a couple of weeks' time,~ you say.^^~Nah, I'll just lose it,~ she replies.";}
      if (noun == jacket) {"You're not going to pay to put it back in the cloakroom.";}
      if (noun == plasticbag) {"You're happy enough carrying it around with you.";}
      if (noun == cloakroomticket) {print "You reluctantly hand over your ticket and the attendant returns your leather jacket.^"; move jacket to player; move cloakroomticket to NeverNeverLand; score++; rtrue;}
      "~If it's not a coat, bag, ticket or a hug, I don't want it,~ the attendant tells you.";
    Ask: switch(second) {
      'bastard': "~What should I do with a drunken bastard?~ you ask.^^~Find my bloke, the security guard,~ she advises. ~He'll sort him out.~";
      'flyer','burning','kingdoms': "~Do you know where this Burning Kingdoms place is?~ you ask the attendant.^^~Sorry, no idea,~ she replies.";
      'ticket': "~I've lost my ticket,~ you say.^^~Then you'll have to wait until the end of the night to see what's left over,~ the attendant tells you.";
      'coat', 'jacket', 'cloak': "~Can I have my coat?~ you ask.^^~You got your ticket?~ she says.";
      'coats', 'jackets', 'cloaks': "~Do you ever wonder about how much all these coats must have cost?~ you ask.^^~Yeah,~ she says. ~My job gets very old, very fast. Good thing I'm honest, that's all I can say. A lot of people leave their phones and wallets in their pockets, and everything.~";
      'night': print "~You having a good night?~ you ask.^^She shrugs. ~Beats the day job.~^^~Which is?~^^~Cleaning.~^^~Ah,~ you say, ~you have my sympathies.~^^~Well, if you want to do it for me, the cleaning supplies are in the cupboard under the stairs.~^^~I think I'll pass,~ you say. The mere thought of housework makes you break out in a cold sweat.^"; self.cupboard = 1; rtrue;
      'money', 'wallet': print "~Did I leave a wallet in there?~ you ask.^^"; if (jacket in neverneverland) "~You got your ticket?~ she asks."; else "~Fraid not, no,~ she says.";
      'club', 'job', 'work', 'cleaning': 
        print "~How did you end up working here?~ you ask.^^~I was looking for a job, and then I found a job,~ she quotes. ~Why, you want to be co-workers? The cleaning supplies are in the cupboard under the stairs.~ You assure her no offence but no. The mere thought of housework makes you come out in a rash.^"; self.cupboard = 1; rtrue;
      'herself','self': if (self.named == 0) {
        self.named = 1; "Fighting the urge to ask, ~What's a nice girl like you doing working in a place like this?~, you opt for, ~What's your name and where do you come from?~ Her name is Deborah and she comes from Rochester.";
      } else {
        "You can't think of anything else to ask her about. You've never been very good at talking to girls.";
      }
      'goth', 'industrial', 'metal', 'ebm', 'techno', 'trance', 'punk', '80s', 'eighties', 'iron', 'maiden', 'music', 'song', 'doom', 'monkey': "~What sort of music are you into?~ you ask.^^~I've had enough music to last me a lifetime,~ she replies.";
      'dj', 'deejay', 'djs', 'deejays': "~Do you know the DJs?~ you ask. She shakes her head.";
      'drugs', 'pot', 'ecstasy', 'acid', 'lsd', 'coke', 'cocaine', 'heroin', 'speed', 'glue': "Of all the bad ideas you've had, asking a club employee about drugs doesn't register particularly highly on the stupid scale, but you can't say it's one of your better ones either.";
      'glowstick','glow','stick','glowsticks': "~Did anyone leave a glowstick in their coat pocket?~ you ask.^^~Not that I noticed,~ she says.";
      'boyfriend','boy','friend': "~Is your boyfriend here tonight?~ you ask.^^~Yeah, he's the security guard here,~ she says.";
    }
    "~Sorry, couldn't hear you over the music,~ she says.";
    Tell: switch(second) {
      'coat', 'jacket', 'cloak': "~Grab a coat, you've pulled,~ you say.^^~Very funny,~ she says, rolling her eyes.";
    }
    "~Sorry, couldn't hear you over the music,~ she says.";
  ],
  has animate female;
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                     
Object -> Flyer "flyer"
  with parse_name [;
    if (self.writtenon == 1) {
      if (NextWord() == 'flyer' or 'flier' or 'paper' or 'sheet' or 'autograph') {return 1;}
    } else {
      if (NextWord() == 'flyer' or 'flier' or 'paper' or 'sheet') {return 1;}
    }
    return 0;
],
  writtenon 0,
  initial "A flyer lies discarded on the floor.",
  description "It advertises a club night called Burning Kingdoms, at which a band called Projekt Coil are playing.", cuttable 1,
  before [;
    Cut: if (second == knife or razorblade) {print "Nah, you like it the way it is.^"; rtrue;}
    Read: <<examine self>>;
  ],
  has legible;

Object -> jackets "jackets"
  with name 'jackets' 'coats' 'cloaks' 'capes' 'jacket' 'coat' 'sea' 'of',
  description "Though every possible style and fabric is represented in the array, every last one of them is black.",
  before [;
    Take: "The jackets aren't yours for the taking.";
  ],
  has pluralname scenery static;

Crowd -> IndustrialCrowd "crowd"
  with name 'crowd' 'people' 'dancers' 'fantastic' 'looking' 'dancefloor' 'gorillas',
  description "UV-reactive panels, fluffy boot covers and plastic hair galore. Seemingly, no one here spent less than two hours getting ready for tonight and no one spent less than £200 on their footwear. But it's paid off; they look great.",
  Before [;
    Hug: "You hug a few people. They look puzzled but pleased.";
  ],
  Life [;
    Show: if (noun == flyer) {"~Have you ever been to this night?~ you ask a few people. The general consensus is that it's ok but not great.";}
    Kiss: "You'd need to be dancing before you could initiate that sort of thing. And to be about a thousand times more confident than you are.";
    Attack: "You reckon the only form of ultraviolence these people would appreciate is the sort that covered ~Paranoid~ by Black Sabbath.";
    Ask: "As you lack Jesus's oratory skills, your question goes unheard.";
    Tell: "As you lack Jesus's oratory skills, your statement goes unheard.";
  ],
  has scenery static animate;

Object -> Lights "lights"
  with name 'lights' 'light' 'lighting',
  description "Multi-coloured tubes of light are stroking the dancefloor. You hope the lighting for your show tonight is this good.",
  has scenery static;

Object -> IndustrialStairs "stairs"
  with name 'stairs' 'stair' 'steps' 'staircase' 'case',
  description "They're metal with hazard tape marking the edges.",
  before [;
    Enter: <<go d_obj>>;
  ],
  has scenery static;

Object -> BootCovers "boot covers"
  with name 'boot' 'covers' 'plastic' 'hair' 'fluffy' 'uv' 'reactive' 'panels' 'bootcovers' 'u-v',
  description "Fascinating gear, if not really your style.",
  Before [;
    Take: "You don't think the dancers would appreciate you trying to take their accessories.";
  ],
  has static scenery;

Place PunkRoom "Punk Room"
  with description "People in band shirts and ripped jeans are spazzing out to all the classic tunes. Stairs lead up to another dancefloor, the men's is to the north, and the ladies' to the south.",
  count 0, song 1, womanhere 0,
  each_turn [;
    if (woman in punkroom && woman.sighted == 0) {
      woman.sighted = 1; "^You start upon realising the woman is your friend from the eighties room. ~How did you get here?~ you have to ask.^^~Oh, I asked one of the ravers upstairs if I could have a go with one of them glowsticks,~ she says. ~Great, innit!~^^~Have you still got the glowstick?~ you ask hopefully.^^~Nah, gave it to some bloke upstairs,~ she says.^^Typical!";
    }
    if (woman in punkroom && woman.son == 1) {
      if (self.womanhere == 19) {self.womanhere == 0;}
      else {self.womanhere++;}
	if (self.womanhere == 3) {"~Heeeeey!~ the woman says to her son. ~You were conceived to this one!~";}
    }
    if (CalculatePunkness() == 5 && fanzine in punk) {give gettingthezine concealed; move fanzine to player; "The vicious looking punk says, ~Here, have one of these.~ He pulls a fanzine out from inside his jacket and hands it to you.";}
    if (youngguy.satisfied == 0) { 
      if (self.count < 7) {self.count++;} else {self.count = 0;}
        if (self.count == 2) {
          if (anarchyshirt.retrieved == 0) {print "^A young guy emerges from the throng, takes off his sweat-drenched shirt, and throws it on the floor.^"; if (youngguy in NeverNeverLand) {move anarchyshirt to PunkRoom; move youngguy to PunkRoom;} give anarchyshirt ~scenery; give youngguy ~scenery;} else {give youngguy ~scenery; "A young guy emerges from the throng, and stands in a corner, getting his breath back.";}}
            if (self.count == 3 && meshtop in self) {
              if (meshtop.cut == 0) {"^The guy picks up your mesh top, gives it a once over, and then drops it back on the floor again. Perhaps it's not grungy enough for his tastes?";}
              if (meshtop.cut == 1) {move meshtop to youngguy; give gettingtheshirt concealed; anarchyshirt.retrieved = 1; give wearingtheshirt ~concealed; "^The guy picks up your mesh top, checks it out, and puts it on.";}
            }
            if (self.count == 4) {
              if (anarchyshirt.retrieved == 0) {print "^The young guy puts the shirt back on, and starts pogoing again.^"; give anarchyshirt scenery;}
              else {print "^The guy starts pogoing again.^";}
             give youngguy scenery;}
    }
  ],
  before [;
    Go: if (securityguard in location) {"~Don't you be trying to get away now, son,~ the guard warns you in a low voice. ~I've had it with you.~";}  
      if (noun == n_obj) {
        if (handcuffs.victim == woman) {"~Hey hey hey,~ the woman says. ~I'm not going in there. Last time I did that, by the time I'd left, I'd been persuaded to take part in a weird fertility ritual involving scorpions.~";}
        if (girl.dance == 3 || handcuffs.victim == girl) {"~Hey!~ the girl protests. ~I'm not going in the men's toilets!~^^~But it's full of women,~ you tell her.^^~Exactly,~ she says. ~They get all arsey because I'm younger and prettier than them and they don't like my music.~";}
        if (handcuffs.victim == dancer) {move dancer to menstoilets; PlayerTo(menstoilets); rtrue;}
      "You walk into the men's, but it's full of girls, who start laughing at you. You try to explain that you're just looking for your missing glowstick, but your protests only makes them laugh harder. You leave again. You hate goths sometimes.";}
    if (noun == u_obj && handcuffs.victim ~= 0) {move handcuffs.victim to IndustrialRoom;}
    if (noun == s_obj && boots.height == 11 && punktoiletcrowd.help == 1) {"You're too tall to fit through the door!";}
    if (noun == s_obj && handcuffs.victim ~= 0) {move handcuffs.victim to PunkToilets;}
    
    Dance: "Nah. You've yet to work out how to dance to punk without looking like a complete prat.";
    Pogo: "Nah. You feel too self conscious.";
  ],
  n_to MensToilets,
  u_to IndustrialRoom,
  s_to PunkToilets;

Music -> PunkRoomMusic "music"
with before [;
  ListenTo: <<listen>>;
];

Crowd -> PunkCrowd "crowd"
  with name 'crowd' 'people' 'dancers' 'in' 'dancefloor',
  description "Mohawks and tartan and DMs galore. Seemingly, no one here has spent more than £20 on their outfit and it's paid off; they look great.",
  Before [;
    Hug: "Nah, you don't think punks do hugging and you know you don't.";
  ],
  Life [;
    Show: if (noun == flyer) {"You don't really think they'd be interested in a night called Burning Kingdoms.";}
    Kiss: "You'd need to be dancing before you could initiate that sort of thing. And to be about a thousand times more confident than you are.";
    Attack: "That would be nasty. For you.";
    Ask: "As you lack Jesus's oratory skills, your question goes unheard.";
    Tell: "As you lack Jesus's oratory skills, your statement goes unheard.";
   ],
  has scenery static animate;

Object -> PunkClothing "punk clothing"
  with name "tartan" "dms" "mohawks" "mohicans",
  description "Not really your style, but you approve.",
  has scenery static;

Object -> bandshirts "band shirts"
  with name "band" "shirts",
  description "The band shirts don't display any names you've heard of, which is no surprise as you're not really into punk.",
  has pluralname scenery static;

Object -> PunkStairs "stairs"
  with name 'stairs' 'stair' 'staircase',
  description [;
    print "The stairs are pretty vacant.^";
    if (cloakroomattendant.cupboard == 1) {give punkcupboard ~scenery; cloakroomattendant.cupboard = 2; "After a brief fumble, you locate the door to the fabled supply cupboard.";}
  ], 
  before [;
    Enter: <<go u_obj>>;
  ],
  has scenery static; 

Object -> PunkCupboard "cupboard"
  with name 'cupboard' 'closet' 'door',
  description [;
    if (cloakroomattendant.cupboard == 1) {give self ~scenery; "If it has any interesting features, you can't make them out in the darkness.";}
    "You can't see any such thing.";
  ],
  before [;
    Open: if (cloakroomattendant.cupboard == 0) {"You can't see any such thing.";}
    Eat: if (cloakroomattendant.cupboard == 0) {"You can't see any such thing.";}
  ],
    has static scenery container openable; 

Object -> -> Bleach "bleach"
  with article "a bottle of", name "bleach" "bottle" "of" "cleaning" "fluid",
  description [;
    "It looks like powerful stuff. You'll have to be careful not to get any on your clothes.";
  ],
  Before [;
    Smell: "You haven't had much to do with cleaning products in the past, but suspect that might be dangerous.";
    Taste: "You're sure enough that it tastes perfectly foul without it being worth testing this theory.";
    Drink: "For some strange reason, you don't want to poison yourself. How ungothic of you.";
  ],
  has openable open;

Object -> -> BogBrush "brush"
  with name "brush" "toiletbrush" "bog" "brush" "bogbrush",
  description [;
    "It looks suitable for cleaning toilets.";
  ],
  Before [;
    Smell: "You'd really rather not.";
    Taste: "Ew!";
  ];

Person -> Punk "vicious looking punk"
  with name "punk" "rocker" "man" "vicious" "looking" "bloke" "guy",
  satisfied 0,
  introduced 0,
  initial [;
    if (CalculatePunkness() == 0) {"You accidentally lock gazes with a particularly vicious looking punk guy sitting on his own and wish you hadn't.";}
    if (CalculatePunkness() == 1) {"A particularly vicious looking punk guy gives you a once over, then scowls.";}
    if (CalculatePunkness() == 2) {"A particularly vicious looking punk guy gazes at you for a few seconds, then turns back to his pint.";}
    if (CalculatePunkness() == 3) {"A particularly vicious looking punk guy stares at you approvingly for a moment, but a puzzled look soon replaces this expression.";}
    if (CalculatePunkness() == 4) {"A particularly vicious looking punk guy looks like he's about to say something to you, but he hesitates.";}
    if (CalculatePunkness() == 5) {"A particularly vicious looking punk guy checks you out and grins.";}
  ],
  description "He's wearing blue jeans with holes in the knee, a ratty white shirt bearing fuzzy letters spelling out ~The Screwdrivers~, Public Order boots, and a leather jacket covered in badges. He looks rather non-plussed. Minussed, perhaps.",
  before [;
    GiveOne: "~You don't come here often, do you?~ the punk snarls.";
    Handcuff: if (handcuffs notin player) {"This would be infinitely easier if you had a pair of handcuffs.";} "~Get your filthy handcuffs off of me,~ the punk snarls.";
    Thank: "~Er, thanks,~ you say. He sneers at you.";
    Shag: "No. While you suppose it's within the realms of possibility that he might enjoy it, you probably won't, and the odds of him breaking your nose strike you as too high for it to be worth trying.";
  ],
  orders [;
DoubleEntendre: "~Yeah, I'll give you one,~ he sneers.";
LookAtMe: "No. Not only is saying ~Look at me~ cliched beyond all reasonable measure, but you don't want to inflict your ghastly countenance on anyone.";
    GrabYourCoat: "No. He's really not your type.";
    GiveMeDrink: "No, on the grounds that you can't imagine any circumstances under which he'd agree.";
    diehard: "~You hate the world, and we all hate you, so do us all a favour and sod off and die already,~ you say. In your head; you wouldn't dare say that out loud. His hair alone is probably spiky enough to cause you grievous bodily harm.";
    GetLife: "Oh, you'd like to, just from quite some distance away - like, by skywriting, that'd be fun. But the club doesn't really allow for that sort of thing.";
    LookAtThis: if (pinstripetrousers.position == 0) {"Nah; he doesn't look like the type to be particularly impressed by male exhibitionism. Or anything, for that matter.";} 
    "You run through the scenario in your head.^^You: Hey, look at this.^Punk: What?^You (delivering a blow to his jaw nearly powerful enough to knock him off his feet): This.^^You grin, and then quickly conceal it, as you don't suppose this guy's got much tolerance for being looked at the wrong way. You're hardly going to enact it though. One is allowed to be bad-tempered and elitist, after all. And you fight like a cow.";
    Metal, Horns: "No. You have a feeling that guys like him are very particular over which musical genres they appreciate and to suggest they liked another would be unwise.";
    Hello: "~Er, hi,~ you say, nervously. You're met with a sneer.";
    Goodbye: "~Er, see you later,~ you say.";
    Thanks: "~Er, thanks,~ you say. He sneers at you.";
    Give: if (noun == fanzine) {give gettingthezine ~concealed; "~No, I don't have copies for just anyone,~ he says.";}
    default: "Nah, he makes you feel too nervous to say much.";
  ],
  Life [;
    Kiss: "No. While you suppose it's within the realms of possibility that he might enjoy it, you probably won't, and the odds of him breaking your nose strike you as too high for it to be worth trying.";
    Give: if (noun == whitelinefever) {move whitelinefever to punk; self.satisfied = 1; print "~Oh, cheers mate,~ he says, ~I've been meaning to read this.~ He starts reading the book.^"; if (razorblade in neverneverland) {move razorblade to punkroom; "As he turns the pages, something presumably being used as a bookmark falls to the floor";} rtrue;}
    if (noun == glowstick or glowsticktwo) {"No. You can just picture the exchange now.^^You: Do you want a glowstick?^^Punk (shoving the glowstick up your left nostril): I'll give you glowsticks!^^And, fun though it is to discover what the human body is capable of, you rather prefer it when it's someone else's body.";}
    else {"He sneers at your offering. Nice guy.";}
    Ask, Tell: switch(second) {
      'something', 'better', 'change', 'fanzine', 'magazine', 'zine', 'fan': 
      if (fanzine in punk) {
        give gettingthezine ~concealed; "~Er, do you know anything about a fanzine?~ you ask.^^~I make it,~ he says. ~It's free, but I don't make copies for just anyone.~";
      } else {"~When's the next issue coming out?~ you ask.^^~Soon,~ the punk says.";}
      'glowstick', 'glow', 'stick', 'sticks', 'glowsticks': "No. You can just picture the exchange now.^^You: You don't happen to have a glowstick perchance, do you?^^Punk (shoving your glowstick up your left nostril): I'll give you glowsticks!^^And, fun though it is to discover what the human body is capable of, you rather prefer it when it's someone else's body.";
    }
    "Before you can say anything, another guy comes over and says, ~As the Sex Pistols once said, there's no point in asking, you'll get no reply~, before he worms his way back into the heart of the crowd.";
    Show: "You never realised it was possible to look that unimpressed.";
  ],
  has animate static transparent;

Object -> -> fanzine "fanzine"
  with name "something" "better" "change" "fanzine" "zine" "fan" "magazine" "ransom" "note" "letters",
  description [;
    if (self in punk) {"You can't see any such thing.";}
    "The fanzine is called ~Something Better Change~. Ransom note letters on the cover promise that news, opinions, album reviews, gig reviews and book reviews lie within.";
  ],
  before [w1 w2 glyph;
    if (self in punk) {"You can't see any such thing.";}
    Read: if (self in goth) {"You look at the zine over the goth's shoulder, but as you don't know much about punk, it's all a bit meaningless.";} "You flick through, but you don't know much about punk, so it's all a bit meaningless.";
        Consult: 
      wn = consult_from;
      w1 = NextWord(); 
      w2 = NextWord(); 
      glyph = w1;
                   switch (glyph) {
                 default: "Nah. You'd like to learn more about punk, but you don't really have time at the moment.";
             }
  ];

Object -> -> pint "pint"
  with name "pint",
  description "No. You don't want to be caught staring at this guy's pint.",
  before [;
    Drink: "Nah, you somehow don't think its owner would allow that.";
  ],
  has scenery static;

Object -> -> jeans "jeans"
  with name "jeans" "ripped" "blue",
  description "Even if the jeans had eyes, you don't think they'd have seen the inside of a washing machine.", cuttable 1,
  before [;
    Take: "You don't think this guy would be into you undressing him.";
    Cut: if (second == knife) {"You don't think this guy would be too impressed if you started cutting up his clothes.";}
  ];  

Object -> -> hole "hole"
  with name "hole" "holes",
  description "Through it, you can see the guy's scabbed knee.",
  cuttable 1,
  before [;
    Take: "How would you take a hole? Honestly, some people.";
    Cut: "A hole in what? The air, leading to another dimension? Now now, you're in another dimension already, don't be greedy!";
  ];

Object -> -> knee "knee"
  with name "knee",
  description "You don't think this guy is into playing doctors and nurses.",
  cuttable 1,
  before [;
    Take: "Um, the knee seems to be quite firmly attached to the guy.";
    Cut: if (second == knife) {"That would be painful. For you, when he retaliated.";}
  ];

Object -> -> tshirt "ratty white t-shirt"
  with name "tshirt" "shirt" "t-shirt" "ratty" "white" "fuzzy" "letters" "screwdrivers",
  description "It looks like it's been worn every day since 1977.",
  cuttable 1,
  before [;
    Raise: "No, that would make you a shirt-lifter.";
    Read: "On it, fuzzy letters spell out ~The Screwdrivers~.";
    Take: "You don't think this guy would be into you undressing him.";
    Cut: if (second == knife) {"No, you don't think this guy would be too impressed if you started cutting up his clothes.";}
  ];  

Object -> -> publicorderboots "public order boots"
  with name "boots" "public" "order",
  description "Good boots, but you like your own better.",
  before [;
    Take: "You don't think this guy would be into you undressing him.";
  ];  

Object -> -> loveandrocketsjacket "leather jacket covered with badges"
  with name "jacket" "leather" "coat" "covered" "with" "badge" "badges",
  description "The badges look good. You really must get round to customising your own jacket.",
  cuttable 1,
  before [;
    Read: "To read most of the badges would require you to peer more closely than you dare, but a large one bears the legend ~Punk Snot Dead! Punk Saliva's Alive And Well!~";
    Take: "You don't think this guy would be into you undressing him.";
    Cut: if (second == knife) {"You don't think this guy would be too impressed if you started cutting up his clothes.";}
  ];

Place PunkToilets "Ladies' Toilets"
  with description "This place is full of blokes, although some of them have girls chained to them. They're all busily re-spiking their hair and complaining about things. A dancefloor lies to the north and a pretty vacant cubicle lies to the west.",
  before [;
    Go:
      if (securityguard in location) {"~Don't you be trying to get away now, son,~ the guard warns you in a low voice. ~I've had it with you.~";} 
      if ((noun == n_obj || noun == out_obj) && boots.height == 11 && punktoiletcrowd.help == 1) {"You're too tall to fit through the door!";}
    if ((noun == n_obj || noun == out_obj) && handcuffs.victim ~= 0) move handcuffs.victim to punkroom;
    if ((noun == w_obj || noun == in_obj) && handcuffs.victim ~= 0) move handcuffs.victim to punkcubicle;
  ],
  n_to PunkRoom,
  w_to PunkDoorOut, in_to PunkDoorOut, out_to PunkRoom;

Object -> punksinks "sinks"
  with name "sink" "sinks" "vomit" "green" "hairdye",
  description "One of the sinks is filled with vomit, the other with green hairdye.",
  has static scenery;

Object -> punkhanddrier "hand drier"
  with name "hand" "dryer" "drier" "handdrier" "handdryer",
  description "You didn't think metal and plastic could look charred, but this proves how much you know.",
  has static scenery;

Object -> PunkDoorOut "cubicle door"
  with name 'door' 'to' 'cubicle' 'red' 'anarchy',
  description "It is black with a red anarchy A painted on it.",
  before [;
    Rude: "You're only supposed to blow the bloody doors off, not the ones with mere red paint on them.";
    Take: "No, that would require far more DIY skill than you possess.";
  ],
  door_to PunkCubicle,
  door_dir w_to,
  has static scenery door open openable;

Crowd -> PunkToiletCrowd "crowd"
  with name "people" "crowd" "blokes" "girls" "bloke" "girl" "men" "women" "guys" "punks" "punk" "goths",
  help 0,
  with description "In spite of your platforms, you feel quite short among these guys.",
  orders [;
    Hello, Goodbye: "Nah, you can't get a word in edgeways.";
    Thanks: "~Er, thanks,~ you say.";
    Spikehair: if (self.help == 0) {print "~Is there any chance you can help me put my hair in spikes?~ you ask. It's not going to be much good for headbanging, but it's only virtual reality.^^They all turn on you. ~Have you got any gel?~ a girl asks.^^"; 
          if (gel in player) {print "~Yeah, here you go,~ you say, handing it over. The punks set to work and a few minutes later, they are all cooing over their handiwork. Or hairiwork. There isn't a mirror in here, but it certainly feels . . . different, anyway.^^[Your hair has just gone up by twelve inches.]"; 
            self.help = 1; move gel to neverneverland; score++; rtrue;
          } else {print "~Er, no, I'll just go and find some,~ you say.^"; rtrue;}}
        else {"You don't think your hair could be any more spiky.";}

  ],
  Before [;
    Hug: "Nah, you don't think punks do hugging. Neither do you, come to think of it.";
    Thank: "~Er, thanks,~ you say.";
  ],
  life [;
    Show, Give: switch(noun) {
      flyer: "You don't really think they'd be interested in a night called Burning Kingdoms.";
      gel: print "~Is there any chance you can help me put my hair in spikes?~ you ask. ~You can keep the rest of the gel, if you want.~^^They gather round delightedly, and a few minutes later, they're cooing over their handiwork. Or hairiwork. There isn't a mirror in here, but it certainly feels . . . different, anyway.^^"; self.help = 1; move gel to neverneverland; score++; print "[Your hair has just gone up by twelve inches.]"; rtrue;
      glue: "~Is there any chance you can help me put my hair in spikes?~ you ask. ~You can keep the rest of the glue, if you want.~^^~Nah, glue's no good,~ a girl says, ~you need gel for this sort of thing.~";
    }
    Kiss: "No, they don't look like they're in the mood for romance.";
    Attack: "That would be nasty. For you.";
    Ask, Tell: switch(second) {
      'hair', 'spikes', 'gel', 'mohawk', 'mohican', 'mohawks', 'mohicans', 'hairstyle', 'hairstyle': 
        if (self.help == 0) {print "~Why are you so bothered about your hair?~ you say, ~look at mine.~ You tug fondly at your greasy waist-length locks.^^They all turn on you. ~Do you want good hair?~ a girl asks.^^~Yeah, all right,~ you say. It's not going to be much good for headbanging, but it's only virtual reality.^^~Have you got any gel?~ she asks.^^"; 
          if (gel in player) {print "~Yeah, here you go,~ you say, handing it over. The punks set to work and a few minutes later, they are all cooing over their handiwork. Or hairiwork. There isn't a mirror in here, but it certainly feels . . . different, anyway.^^[Your hair has just gone up by twelve inches.]"; 
            self.help = 1; move gel to neverneverland; score++; rtrue;
          } else {print "~Er, no, I'll just go and find some,~ you say.^"; rtrue;}}
        else {"~Is my hair ok?~ you ask.^^~It's fine,~ a girl snarls.";}
        'drugs', 'pot', 'ecstasy', 'acid', 'lsd', 'coke', 'cocaine', 'heroin', 'speed', 'glue': "~Do you know where I can get some drugs?~ you ask.^^~There's usually someone in the toilet doing glue,~ a girl tells you.";
        'glowstick','glow','stick','glowsticks','sticks': "Confess your raver tendencies? To these guys? Nah.";
    }
    "Some punks glance at you, look annoyed, then return to attending to their hair and complaining about stuff.";  ],
has static scenery animate pluralname;

Object -> punkcubicles "cubicles"
  with name "cubicles" "cubicle",
  description "All the cubicles but one are occupied and judging from the panting and moaning you can hear from within them, you suspect they may be for some time.",
  before [;
    Enter: 
    if (securityguard in location) {"~Don't you be trying to get away now, son,~ the guard warns you in a low voice. ~I've had it with you.~";} 
    if (acid.taken == 1) {"No! There might be some invisible people in there!";}
    if (handcuffs.victim ~= 0) move handcuffs.victim to punkcubicle; PlayerTo(punkcubicle); rtrue;
  ],
has static scenery;

Place PunkCubicle "Cubicle"
  with description "The walls of the cubicle are completely covered with magazine clippings. Sadly, the floor is not in quite such a pleasing state. The exit is to the east.",
  before [;
    Go: if (noun == e_obj || noun == out_obj) {if (handcuffs.victim ~= 0) move handcuffs.victim to punktoilets;}
  ],
  e_to PunkDoorIn, out_to PunkDoorIn;

Person -> GlueSniffer "guy sniffing glue"
  with parse_name [x y z;
    x = NextWord();
    y = NextWord();
    z = NextWord();
    if (x ~= 'glue' or 'glue-sniffing' or 'glue-sniffer' or 'punk' or 'guy' or 'gluesniffer' or 'gluesniffing' or 'bloke' or 'lucifer') {return 0;}
    if (y ~= 'sniffing' or 'sniffer' or 'bloke' or 'guy' or 'punk') {
      if (x == 'glue') {
        return 0;
      } return 1;
    }
    if (z ~= 'glue' or 'bloke' or 'guy' or 'punk') {return 2;}
    return 3;
  ],
  initial "A guy is here, sniffing what you presume is glue from a plastic bag, and coughing and spluttering a lot.",
  introduced 0,
  description "You'd rather not. For some reason, the mere thought of snorting and inhaling things makes your hands turn clammy.",
  orders [;
DoubleEntendre: "He gives you one.";
LookAtMe: "No. Not only is saying ~Look at me~ cliched beyond all reasonable measure, but you don't want to inflict your ghastly countenance on anyone.";
    GetLife: "Nah, it's a valid enough remark, just not coming from you. You might not have a solvent problem, but it would still be a severe case of the old pot-and-kettle scenario.";
    GrabYourCoat: "Nah, he's not your type.";
    GiveMeDrink: "Nah, he doesn't seem to have one.";
    diehard: "No. It wouldn't do to start wishing death on people only guilty of making you feel a bit uncomfortable. Your Dad might stop the Christmas presents.";
    LookAtThis: if (pinstripetrousers.position == 0) {"Nah. You don't think he - or anyone for that matter - would be particularly impressed.";} "No, you don't have anything to show him that can't be achieved by SHOW (ITEM) TO GLUESNIFFER.";
    Metal: "~Metaaaaaal!!!~ you say.^^~Yeah, hebby fuggid medad, mad,~ he moans.";
    Horns: "You make the sign of the horns, but he just inhales and has another coughing fit.";
    Hello: "~Hi,~ you say, with a weak grin.^^~Nod yed,~ he says, and inhales and splutters again.";
    Goodbye: "~See you later,~ you say.";
    Thanks: "~Thanks,~ you say.";
    Give: if (noun == glue || noun == plasticbag) {
      "~Whad's id id for me?~ he wants to know.";
    }
    Fix: print "He puts down the bag for a moment. ~Do I look like Jimmy bloody Saville?~ he sneers. Then he adds, thoughtfully, ~I always wanted to go on that when I was a kid, so I could give him a bloody hard punch in the nose and go, ''ere, fix this!' I wrote in loads of times, but they probably thought it was a hoax when they saw my name. Nameist bastards.~"; if (self.introduced == 1) {print "^^~Are you actually called Lucifer then?~ you ask.^^~Damn right,~ he says. ~Lovely woman, my mother. She means so much to me, I even got a tattoo of her, see?~ He tugs at the shoulder of his sleeveless t-shirt, to a reveal a Medusa. ~I thought about a heart with a 'Mum' in it, but thought she deseved better than that.~^^~I seeeee,~ you say, and he returns to the task at hand.";} "";
    default: "~You whad?~ he asks. You shrug nevermind. Clearly he's got glue ears as well as nostrils.";
  ],
  life [;
    Kiss: "No! What if your noses got stuck together?";
    Ask: switch(second) {
      'bastard': "~What should I do with a drunken bastard?~ you ask.^^~I'd dode doe,~ he says.";
      'glue', 'plastic', 'bag': "~Can I have some glue?~ you ask.^^~Whad's id id for me?~ he wants to know.";
      'nose': "~Has the futility of glue-sniffing ever occurred to you?~ you ask. ~After all, you probably wouldn't have a blogged doze - sorry, a blocked nose - if you didn't sniff glue, but since you do, you're never going to get high.~^^~Fug off,~ he whinges, reasonably.";
      'drugs', 'pot', 'ecstasy', 'acid', 'lsd', 'coke', 'cocaine', 'heroin', 'speed': "~Do you know where I can get anything harder?~ you ask.^^~You'd need do ask the ravers upstaird,~ he says."; 
      'glowstick','glow','stick','glowsticks','sticks': "~You haven't seen a glowstick lying around anywhere, have you?~ you ask. He shakes his head, the carrier bag rustling.";
      'name': if (self.introduced == 0) {self.introduced = 1; "~What's your name?~ you ask.^^~People cord me Lucifer,~ he replies.^^~As in Lucifer the Gluesniffer?~ you ask. ~Sweet!~";}
              "~Are you actually called Lucifer then?~ you ask.^^~Damn right,~ he says, putting . ~Lovely woman, my mother. She means so buch to me, I even got a tattoo of her, see?~ He tugs at the shoulder of his sleeveless t-shirt, to a reveal a Medusa. ~I thought about a heart with a 'Mum' in it, but thought she deseved better than that.~^^~I seeeee,~ you say, and he returns to the task at hand.";
      default: "~You whad?~ he asks. You shrug nevermind. Clearly he's got glue ears as well as nostrils.";
  }
  Give, Show: 
    if (noun == dms) {
      self.initial = "A guy is here, sniffing a pair of DMs."; 
      move dms to gluesniffer; move plasticbag to player; "~Oi,~ you say, proferring the DMs. ~Swop you for the glue.~^^~Er, yeah, all right,~ he says, taking the DMs and handing you the glue.^^He starts sniffing the DMs.";
    }
    if (noun == flyer && flyer.writtenon == 1) {"~Here, this'd bake you a bynd,~ you say. ~Make you a mint, sorry. In a few weeks' time, anyway.~^^Ignoring what you've just said, he replies, ~Dad's doe good! I dode need flyers! I'b dod a speed freak you doe!~";}
    if (noun == eightiescd) {
      print "~Er, hi, can you fix this?~ you ask.^^He puts down the bag for a moment. ~Do I look like Jimmy bloody Saville?~ he sneers. Then he adds, thoughtfully, ~I always wanted to go on that when I was a kid, so I could give him a bloody hard punch in the nose and go, ''ere, fix this!' I wrote in loads of times, but they probably thought it was a hoax when they saw my name. Nameist bastards.~"; 
      if (self.introduced == 1) {print "^^~Are you actually called Lucifer then?~ you ask.^^~Damn right,~ he says. ~Lovely woman, my mother. She means so much to me, I even got a tattoo of her, see?~ He tugs at the shoulder of his sleeveless t-shirt, to a reveal a Medusa. ~I thought about a heart with a 'Mum' in it, but thought she deseved better than that.~^^~I seeeee,~ you say, and he returns to the task at hand.";} 
      "";
    }
    if (noun == absinthe) {
      "~Want some?~ you ask.^^~Nah, I'm allergic to aniseed,~ he snuffles.^^~Even moreso than you are to glue?~ you ask.^^~Fug off,~ he wheezes.";
    }
    print "He shakes his head at the offering"; if (plasticbag in gluesniffer) {print ", the plastic bag rustling";} ".";
],
before [;
  Thank: "~Thanks,~ you say.";
  Handcuff: if (handcuffs notin player) {"This would be infinitely easier if you had a pair of handcuffs.";} "~No, Ibe busy,~ he tells you.";
],
has animate transparent;

Object -> -> sleevelesstshirt "sleeveless t-shirt"
  with name "sleeveless" "shirt" "t-shirt" "t" "misfits",
  description "It's the generic Misfits t-shirt, with the sleeves chopped off.",
  cuttable 1,
  before [;
    Raise: "No, that would make you a shirt-lifter.";
    Take, Cut: "You don't suppose the guy would let you.";
  ],
  has scenery static;

Object -> -> plasticbag "plastic bag"
  with parse_name [;
    if (NextWord() ~= 'bag' or 'plastic' or 'carrier') return 0;
    if (NextWord() ~= 'bag' or 'of') return 1;
    if (NextWord() ~= 'of' or 'glue') return 2;
    if (NextWord() ~= 'glue') return 3;
    return 4;
  ],
  description
    "It looks just like every other plain white plastic bag you've ever seen.",
  before [;
    Wear: "No, your Mummy told you never to put your head in plastic bags.";
    Receive: "Nah, you'd never be able to get it back out.";
    Empty, EmptyT: "The glue stays firmly in place.";
  ],
  has container open;

Object -> -> -> glue "glue",
  with article "some",
  parse_name [;
    if (NextWord() ~= 'glue' or 'uhu') return 0;
    if (NextWord() == 'in' or 'from' && NextWord() == 'bag') return 3;
    return 1;
  ],
  description [;
    if (plasticbag in gluesniffer) {
      "You're unable to see the glue itself.";
    } "It looks like Uhu.";
  ],
  before [;
    Smell: "No! The mere thought of snorting and inhaling things makes your hands turn clammy.";
    Take: "You've no way of getting it out of the bag.";
  ];

Toilet -> PunkToilet "toilet"
with name "toilet" "loo" "bog" "lavatory" "latrine",
cleaned 0, flushed 0,
description [;
  if (self.cleaned == 0) {"You'd really really rather not look at it too carefully.";} else {"You look lovingly at your handiwork. Apart from on adverts, you don't think you've seen a cleaner toilet.";}
],
before [x;
  Flush: if (child(PunkToilet) == nothing) {"You flush the toilet.";} 
         else {if (self.flushed == 0) {print "Well, it worked in ~Day of the Tentacle~. ";} 
               print "You flush the toilet and its contents disappear.^"; while (child(PunkToilet)) { x = child(PunkToilet); while (sibling(x)) x = sibling(x); move x to EightiesToilet; } rtrue;}
],
has static container open;

Object -> clippings "magazine clippings"
  with name "magazine" "clippings",
  description "The door and walls are covered with them. Not one of them seems to date from after 1980.",
  before [;
    Take: "No, they look good where they are.";
  ],
  has pluralname static scenery;

Object -> PunkDoorIn "cubicle door"
  with name 'door' 'to' 'toilets' 'cubicle',
  description "Like the walls, the door is covered with magazine clippings.",
  before [;
    Rude: "You're only supposed to blow the bloody doors off, not the ones with mere blu-tac on them.";
    Take: "No, that would require far more DIY skill than you possess.";
  ],
  door_to PunkToilets,
  door_dir e_to,
  has static scenery door open openable;

Place EBMRoom "EBM Room"
  with description "Cyber types are dancing types to bleepy music, glowsticks in hands, t-shirt patterns glowing under the UV light. Stairs lead down to another dancefloor.",
  before [;
    Dance: "Nah. You're a metalhead by trade and this isn't quite heavy enough for your tastes.";
    Mosh, Pogo: "Nah, you don't think it would go down too well around here.";
    Go:
      if (securityguard in location) {"~Don't you be trying to get away now, son,~ the guard warns you in a low voice. ~I've had it with you.~";} 
      if (noun == d_obj && cyberbloke.chained == 1) {print "~Er, no offence or anything, but I'd rather not be dragged down, if that's all right with you,~ the bloke says, letting go of his end of the chain.^"; cyberbloke.chained = 0; rfalse;}
       if (noun == d_obj && safetypin hasnt scenery && kingdom.playing == 0) {
         print "On the first step down, you find the aroma of eighties cheese so pungent you're forced to ";
       if (headphones in player) {print "put on the headphones.^"; give headphones worn; if (handcuffs.victim ~= 0) {move handcuffs.victim to EightiesRoom;} rfalse;}
        "retreat.";}
       if (noun == d_obj && handcuffs.victim ~= 0) {move handcuffs.victim to EightiesRoom;}
  ],
  d_to Eightiesroom,
  has light;

Music -> EBMRoomMusic "music"
with before [;
  ListenTo: <<listen>>;
];

Crowd -> EBMCrowd "crowd"
  with name 'crowd' 'people' 'dancers' 'dancefloor' 'cyber' 'types',
  description "Gah! Everyone here has two glowsticks except you!",
  Before [;
    Hug: "You hug a few people. They look puzzled but pleased.";
  ],
  Orders [;
    Give: if (noun == glowsticks) {"You approach a few people and ask if they've got any spare glowsticks, but the answer is always no.";}
  ],
  Life [;
    Show: if (noun == flyer) {"~Do you know this night, Burning Kingdoms?~ you ask a few people. The general consensus seems to be that it's fantastic.";}
    Kiss: "You'd need to be dancing before you could initiate that sort of thing. And to possess about a thousand times more confidence than you do.";
    Ask: "As you lack Jesus's oratory skills, your question goes unheard.";
    Tell: "As you lack Jesus's oratory skills, your statement goes unheard.";
  ],
  has scenery static animate transparent;

Object -> -> Glowsticks "dancers' glowsticks"
  with parse_name [x y z;
    x = NextWord();
    y = NextWord();
    z = NextWord();
    if (x ~= 'glow' or 'sticks' or 'glowsticks' or 'hands' or 'dancers^') {return 0;}
    if (y ~= 'sticks' or 'glow' or 'glowsticks') {return 1;}
    if (z ~= 'sticks') {return 2;}
    return 3;
  ],
  description "The glowsticks in the dancers' hands are pink and green and purple and orange and yellow and flashing and blue, and everyone has two, much to your jealousy.",
  before [;
    Take: "No! That's just taboo.";
  ],
  has static;

Object -> UVlight "uv light"
  with name 't-shirt' 'tshirt' 'patterns' 'uv' 'light' 't-shirts' 'tshirts',
  description "You can't exactly tell where the UV light is coming from, but you approve. You'd like some for your bedroom.",
  has static scenery;

Object -> EBMStairs "stairs"
  with name "stairs" "stair" "staircase" "steps",
  description "The edges of the steps have UV tubes in them. Sweet. If only you could see how to remove them, never mind glowsticks, you could have lightsabres!",
  before [;
    Enter: <<go d_obj>>;
  ]
has static scenery;

Person -> CyberBloke "cyber bloke"
  with name "cyber" "guy" "dude" "man" "bloke" "steve" "lorry" "driver" "cyberbloke", 
  asked 0, belief 0, chained 0, song 0, satisfied 0, kissed 0, introduced 0,
  initial "A cyber bloke sitting on his own smiles at you.",
  description [;
    print "He looks like he's in his early thirties, and he's wearing a black Cyberdog t-shirt, black plasticky flared trousers which are glowing ";
    if (cyberbloke in ebmroom) {print "green";}
    else {print "pink";}
" at the pockets, much to your jealousy, and Swears. He looks friendly enough, despite his alarming number of facial piercings.";
  ],
  orders [;
DoubleEntendre: "~I was once on a train, and I was having such a good conversation with the girl next to me that when we got to her stop, I got off with her,~ he tells you.";
LookAtMe: "No. Not only is saying ~Look at me~ cliched beyond all reasonable measure, but you don't want to inflict your ghastly countenance on anyone.";
    GetLife: "~Get a life,~ you say, in your head. ~You're in your thirties, far too old for this neon yellow nonsense.~^^But you don't really mean that, and so refrain from saying it. It's good to know there are people older than you in no danger of giving up their hedonistic lifestyles, and - though he's probably further from your age than mini-moshers - you feel a lot more affinity with him.";
    GrabYourCoat: "Nah. You're worried he might take you up on it.";
    GiveMeDrink: "Nah, he doesn't seem to have one.";
    diehard: "No, you get the impression that only trad goths are into dying.";
    LookAtThis: if (pinstripetrousers.position == 0) {"No. You can't imagine why he'd want to see your private parts, and given the magnetic effect they're having on the eyes nearly everyone here, you suspect he has already anyway.";} "~Look at this,~ you tell him. He looks on intently.";
    Hello: "~Hi,~ you say, with a weak grin.";
    Goodbye: "~See you later,~ you say.^^~See ya,~ he says.";
    Dance: if (self in ebmroom) {"~Do you want to dance?~ you ask.^^~Nah, not this song,~ he says.";} "He's dancing already.";
    Give: if (noun == cyberblokesglowstick && second == player) {"~Have you got a glowstick you can lend me?~ you ask.^^~Oh no, I'm not having another man touching my glowstick,~ he says.";}
    Metal: "~Metaaaaaal,~ he agrees.";
    Horns: "Your greeting is returned with a delighted ~Metaaaaal!!!~";
    default: "~You what, mate?~ he asks. You shrug never mind.";
  ],
  before [;
      GiveOne: "~I was once on a train, and I was having such a good conversation with the girl next to me that when we got to her stop, I got off with her,~ he tells you.";
      Handcuff: if (handcuffs notin player) {"This would be infinitely easier if you had a pair of handcuffs.";} "~Nah, I'm dancing, mate,~ he says.";
    Shag: "No. You suppose you're not averse to a bit of gayness at some point, though only for the debauchery than the actual act. But you'd like to have done it with a few girls first, just so no one gets the wrong idea. Since you have currently done it with exactly zero, no.";
    ],
  Life [;
    Give: switch(noun) {
      beer: "~Is that that flavoured water?~ he asks.^^~No thanks mate, it's not my cup of tea. Or a cup of tea at all, for that matter.~";
      water: "~Nah, I like something a bit more potent than that, mate,~ cyberbloke says.";
      glowstick: "~Nah, I'm not touching another man's glowstick,~ he says.";
      chain: if (self.belief ~= 1) {"~Nah, you can keep it,~ he says.";}
             if (self.belief == 1 && self.chained == 0) {print "~Right,~ you say. ~Hold onto this and watch.~ He looks a bit worried, but takes hold of one end of the chain.^"; 
                   self.chained = 1; 
			 rtrue;}
             else {"He already has it.";}
      flyer: if (flyer.writtenon == 1) {"~Here, this'll make you a mint in a few weeks' time,~ you tell him.^^~I've got one already, mate,~ he says, taking a flyer out of his pocket to show you, clearly not seeing the autograph - or not seeing the point in having it anyway. Some people don't know what they're missing.";}
      "~I've got one already, mate,~ he says, taking one out of his pocket to show you, and then returning it.";
    }
    "~Nah, you can keep it,~ he says.";
    Show: switch (noun) {
      glowstick: "You suspect he's seen glowsticks before.";
      flyer: "~Yeah, it's a good night that,~ he says.";
    }
    "~Yeah,~ he nods, looking a bit confused.";
    Kiss: if (self.kissed == 0) {self.kissed = 1; "You're normally keen to promote your heterosexuality, but whatever, this is virtual reality. You snog for a couple of seconds. It's a remarkably dull experience. He looks a bit surprised for a moment, then shrugs.^^A image perhaps six feet tall, of your housemate Robot's face, appears on the wall. ~I knew it!~ it booms in a deep voice, audible over the music. It grins evilly before crumbling away ~Knightmare~-style.^^Nobody else seems to notice, but you can't help feel a touch freaked out. Maybe virtual reality's a bit close to home for your liking.";} "No. Not after what happened the last time.";
      Ask:
      switch(second) {
      'bastard': "~What should I do with a drunken bastard?~ you ask.^^~Stick him on a train to the arse end of nowhere,~ cyberbloke advises. ~That'll annoy him.~";
      'flyer','burning','kingdoms','projekt','coil': print "~Do you know where this Burning Kingdoms place is?~ you ask.^^~Yeah, it says on the flyer.~"; if (testscope(flyer) == 1) {print " You look at the flyer again. So it does: 666 Fascination Street off Detonation Boulevard.";} "";
      'money','pound','cash': "~Could you lend me a quid?~ you ask.^^~Sorry, mate,~ he says, ~I've only got enough on me for a couple of drinks, and I'm going to need them.~";
      'song','mix','tune','dj','deejay','artist','band': if (location == ebmroom) {"~What's this song?~ you ask.^^~This?~ he laughs. ~Everyone knows this one! This is Dead Stars!~ Well, it's news to you.";} if (location == tranceroom && self.song == 0) {print "~What's this track?~ you ask.^^~Ah, yes,~ he says, ~this is Schwarzwalder Kirschtorte.~^^Ah, some German act . . . hang on. You haven't studied German since you were thirteen, but memories from your lessons come flooding back. ~Doesn't that mean Black Forest Cherry Gateau?~ you ask. ~What sort of band name is that?~^^~Does it?~ the guy asks. ~Well, whatever it means, they're amazing. This is their End Of Time remix, that incorporates every song ever written.~^^~Every song they've ever written?~ you ask.^^~No, every song anyone's ever written. It's a long way from finished yet, but so far, it would take eleven years to listen to the whole thing. I've been downloading it off the Internet for the last three months.~^^~Okaaaay,~ you say. ~Well, thanks.~^"; self.song = 1; rtrue;}
  if (location == tranceroom && self.song == 1) {"~What did you say this was again?~ you ask.^^~The End Of Time remix of everything, by Schwarzwalder Kirschtorte,~ he tells you.";}
  if (location == dodgyroom) {"~Do you know what this song is?~ you ask.^^~It's a remix of Sex Dwarf, but I don't know who by,~ he says.";}
      'trance', 'techno': if (location == EBMroom) {
        print "~Are you into trancey stuff much?~ you ask.^^~Yeah, it'd be nice if they played some of that here,~ he says.^"; 
        if (tranceroom has visited) {
          if (self.belief == 0) {
            give movecyberbloke ~concealed; print "^~They play it in the other room,~ you say.^^He looks at you curiously. ~You mean downstairs?~ he asks. ~Nah.~^^~No, I mean in the room I get to when I press the button on my glowstick twice.~^^~Oh, hahaha, very funny, what colour does it go when you press it twice? Blue?~^^~Well, yeah, but I mean really! Try it!~ You offer your glowstick to him.^^~I'm not touching another man's glowstick,~ he says.^^~All right then, I'll show you,~ you say. ~Watch.~ You press the button on your glowstick four times and cycle through the rooms. ~See?~^^~Oh, there you are, lost you for a moment,~ the cyber bloke said.^^~That's because I was in the other rooms,~ you say. ~One click gets you to a metal room, and three gets you to an industrial one.~^^~Yeah, dream on,~ he says.^^This is infuriating. He probably thinks you're insane now. How can you prove the existence of other rooms to him?^"; self.belief=1; rtrue;
          }
          if (self.belief == 1) {
            "^~Well, they play it in the other room,~ you say.^^~You and your other room!~ he marvels.";
          }
        } rtrue;
      }
      if (location == tranceroom) {"~Enjoying the tunes?~ you ask.^^~Ohhhh, yes,~ he says.";}
      'partner', 'girlfriend', 'fiona': "~Do you and your girlfriend have, er, an open relationship then?~ you ask.^^~Not really,~ she says. ~We don't sleep with other people, we just do some other stuff.~";
      'goth', 'Eighties', 'punk', 'metal', 'rock', 'industrial', 'downstairs': "~Are you into the other stuff they play here at all?~ you ask. ^^~Yeah, I used to listen that back in the day. It's got a bit old, though, you know what I mean? This is more what I'm into now.~";
      'glowstick','glow','stick','glowsticks': "~Have you seen an odd glowstick lying around?~ you ask.^^~Sorry, mate, I haven't.~"; 
      'doom', 'monkey': "~Have you heard of a band called Doom Monkey?~ you ask. ~Nah, what are they like?~ ~You'll find out,~ you say, mysteriously.";
      'drink': "~Can I buy you a drink?~ you ask.^^~Nah, I'm all right,~ he says.";
      'drugs', 'pot', 'ecstasy', 'acid', 'lsd', 'coke', 'cocaine', 'heroin', 'speed','glue': "~Do you know anyone I can get drugs off?~ you ask.^^~Nah, I'm not into that scene,~ the bloke says.^^~Me neither,~ you say, much to his confusion.";
      'EBM','cyber','music','club','night': if (location == EBMRoom) {
          if (self.belief == 0) {give movecyberbloke ~concealed; print "~Having a good time?~ you ask.^^~Yeah, great, yourself?~^^~Yeah; this stuff isn't quite my cup of tea, though.~^^~Know what you mean, mate. I mean, I love it, but eight hours of it is a bit much. Wish they played something a bit different downstairs.~^^~Well, there's ";
      if (gothroom hasnt visited && metalroom hasnt visited && tranceroom hasnt visited && dodgyroom hasnt visited) {print "at least two ";} else {print "what, six? ";} 
      print "other rooms, isn't there?~ you point out.^^He regards you curiously. ~Where?~ he asks.^^~When I press the button on my glowstick, it takes me to different rooms,~ you say.^^~Oh, hahaha, very funny,~ he says.^^~Really!~ you insist. ~Try it!~ You offer your glowstick to him.^^~I'm not touching another man's glowstick,~ he says.^^~All right then, I'll show you,~ you say. ~Watch.~ You press the button on your glowstick four times and cycle through the rooms. ~See?~^^~Oh, there you are, lost you for a moment,~ the cyber bloke said.^^~That's because I was in the other rooms,~ you say. ~One click gets you to a metal room, two gets you to a trance room, three gets you to an industrial one, and four gets you back here.~^^~Yeah, dream on,~ he says.^^This is infuriating. He probably thinks you're insane now. How can you prove the existence of other rooms to him?^"; self.belief=1; rtrue;} if (self.belief == 1) {print "~Found the other rooms yet?~ you ask.^^~You and your other rooms!~ he marvels.^"; rtrue;}
          }
          if (location == tranceroom) {"~Bit of a change in here, isn't it?~ you ask.^^~Ohhhh, yes. Really grateful you introduced me to it. I wonder how long this room's been here . . . wherever 'here' is.~";}
      'other','room','rooms': if (self.belief == 0) {give movecyberbloke ~concealed; print "~What do you reckon of the other rooms?~ you ask.^^~What, you mean downstairs?~ he says. ~Not really my thing, mate.~^^~What about the others?~ you say.^^~What others?~ he asks.^^~When I press the button on my glowstick, it takes me to different places,~ you say.^^~Oh, hahaha, very funny,~ he says.^^~Really!~ you insist. ~Try it!~ You offer your glowstick to him.^^~I'm not touching another man's glowstick,~ he says.^^~All right then, I'll show you,~ you say. ~Watch.~ You press the button on your glowstick four times and cycle through the rooms. ~See?~^^~Oh, there you are, lost you for a moment,~ the cyber bloke said.^^~That's because I was in the other rooms,~ you say. ~One click gets you to a metal room, two gets you to a trance room, three gets you to an industrial one, and four gets you back here.~^^~Yeah, dream on,~ he says.^^This is infuriating. He probably thinks you're insane now. How can you prove the existence of other rooms to him?^"; self.belief=1; rtrue;} 
                              if (self.belief == 1) {print "~Do you believe me about the other rooms yet?~ you ask.^^~You and your other rooms!~ he marvels.^"; rtrue;}
					if (self.belief == 3) {"~Do you like this other rooms, then?~ you grin.^^~The other rooms are fantastic!~ he enthuses. ~I'm going to write all about them in my livejournal tomorrow. I just hope no one's spiked my drink so I'm not just seeing things.~";}
      'livejournal','live','journal','lj': "You know you'll forget his username straight away, so you decide not to bother.";
      'himself','self','name': if (self.asked == 0) {self.asked++; "You ask him what his name is, and find out that he's called Steve. Probably. You can't really tell over the music.";}
              if (self.asked == 1) {self.asked++; "You ask if he's on livejournal, and sure enough, he is. He has a clever username which you forget the moment he tells you.";}
              if (self.asked == 2) {self.asked++; "You ask where he lives, and he tells you Coventry."; }
              if (self.asked == 3) {self.asked++; "Apologising for the cheesiness of your query, you ask if he comes here often, and who he's here with. He's been coming here about once a month for the last few years, and is with his long-term partner, but she's downstairs. ~Can't see what she sees in it, myself,~ he says.";}
              if (self.asked == 4) {self.asked++; "You ask what he does for a living, and find out he's a long-distance lorry driver.";}
              if (self.asked == 5) {"You can't think of anything else to ask him.";}
      }
      "~Sorry, mate, what was that?~ he says.^^~Never mind,~ you say.";
    Tell:
      switch(second) {
        'doom', 'monkey': "No, it seems rude to go round plugging your band to unsuspecting strangers.";
        'trevor', 'death', 'robot', 'housemate': "You have plenty of good stories to tell about him, but lack the opportunity.";
        'dj', 'deejay': if (dj.asked == 0) {"You reckon this guy knows more about the DJ than you do.";} else {print "~The DJ said he'd give me a quid if he told me what song this was,~ you say.^^"; if (self.song == 1) {"~Ah, so that's why you wanted to know,~ says cyberbloke.";} else {print "Ah, that's a good question. But since you helped me find this place, I'll let you know that it's Schwarzwalder Kirschtorte.~^^Ah, some German act . . . no wonder the DJ thought you'd never guess. Hang on. You haven't studied German since you were thirteen, but memories from the lessons come flooding back. ~Doesn't that mean Black Forest Cherry Gateau?~ you ask. ~What sort of band name is that?~^^~Does it?~ the guy asks. ~Well, whatever it means, they're amazing. This is their End Of Time remix, that incorporates every song ever written.~^^~Every song they've ever written?~ you ask.^^~No, every song anyone's ever written. It's a long way from finished yet, but so far, it would take eleven years to listen to the whole thing. I've been downloading it off the Internet for the last three months.~^^~Okaaaay,~ you say. ~Well, thanks.~^"; self.song = 1; rtrue;}}
      }
    ;
  ],
  has animate static transparent;

Object -> -> cyberblokesglowstick "cyber bloke's glowsticks"
  with parse_name [w x y z;
    w = NextWord(); x = NextWord(); y = NextWord(); z = NextWord(); 
    if (w ~= 'cyber' or 'cyber^s' or 'bloke^s' or 'glowstick' or 'stick' or 'glow' or 'sticks' or 'cyberbloke^s' or 'pockets') {return 0;}
    if (x ~= 'glowstick' or 'glow' or 'stick' or 'bloke^s' or 'sticks' or 'pockets') {return 1;}
    if (y ~= 'glowstick' or 'glow' or 'stick' or 'sticks' or 'pockets') {return 2;}
    if (z ~= 'stick' or 'sticks') {return 3;}
    return 4;
  ],
  description [;
    print "Cyberbloke's glowsticks are glowing ";
    if (cyberbloke in ebmroom) {print "green";}
    else {print "pink";}
    " from within his pockets.";
  ],
  before [;
    Take: "No! That's just taboo!";
  ],
  has general;

Object -> -> CyberDogTShirt "Cyberdog t-shirt"
  with name "cyber" "dog" "t-shirt" "tshirt" "shirt" "cyberdog",
  description "It's not the most imaginative outfit, but then yours isn't either.",
  before [;
    Raise: "No, that would make you a shirt-lifter.";
    Take: "No, something about cyberbloke leads you to suspect he's not into having strangers undress him in public. Possibly his being human.";
    Cut: if (second == knife or razorblade) {"You don't think this guy would be too impressed if you started cutting up his clothes, especially given how much they probably cost.";}
  ];

Object -> -> CyberBlokesOtherClothes "Cyberbloke's clothes"
  with name "trousers" "black" "plasticky" "flared" "swears",
  description "It's not the most imaginative outfit, but then yours isn't either.",
  before [;
    Take: "No, something about cyberbloke leads you to suspect he's not into having strangers undress him in public. Possibly his being human.";
    Cut: if (second == knife or razorblade) {"You don't think this guy would be too impressed if you started cutting up his clothes, especially given how much they probably cost.";}
  ];

Object -> -> Piercings "piercings"
  with name "piercings" "piercing",
  description "You're not into piercings yourself, but after seven years at rock nights, you thought you were used to them. This guy's cause for you to think again though. He's got one through the bridge of nose, one through his septum, one through his neck, one through his forehead, several through his lips and eyebrows, and those are just the ones you can see.",
  before [;
    Take: "Take holes? What a surreal concept!";
  ],
  has static scenery;

Place EightiesRoom "80s Room"
  with description "Though there's a large quantity of 'normal' alternative types here, there's a worryingly large number of guys with mullets and women who remind you of your mother, grinning as they boogie to extreme cheese. Stairs lead up to another dancefloor.",
  song 0, request 0,
  before [;
    Dance: "No. You can't bring yourself to.";
    Mosh, Pogo: "You don't think it would go down too well here.";
    Go:
      if (securityguard in location) {"~Don't you be trying to get away now, son,~ the guard warns you in a low voice. ~I've had it with you.~";} 
      if (noun == n_obj)       {
        if (handcuffs.victim == woman) {"~Hey hey hey,~ the woman says. ~I'm not going in there. Last time I did that, by the time I'd left, I'd been persuaded to take part in a weird fertility ritual involving scorpions.~";}       

if (girl.dance == 3 || handcuffs.victim == girl) {"~Hey!~ the girl protests. ~I'm not going in the men's toilets!~^^~But it's full of women,~ you tell her.^^~Exactly,~ she says. ~They get all arsey because I'm younger and prettier than them and listen to metal.~";}
      if (handcuffs.victim == dancer) {move dancer to menstoilets; PlayerTo(menstoilets); rtrue;}
      "You walk into the men's, but it's full of girls, who start laughing at you. You try to explain that you're just looking for your missing glowstick, but your protests only makes them laugh harder. You leave again. You hate goths sometimes.";}
    if (noun == u_obj && handcuffs.victim ~= 0) {move handcuffs.victim to EBMRoom;}
    if (noun == u_obj && headphones has worn) {give headphones ~worn; print "Free from the tyranny of the cheese, you remove the headphones.^"; rfalse;}
    if (noun == s_obj && boots.height == 11 && punktoiletcrowd.help == 1) {"You're too tall to fit through the door!";}
    if (noun == s_obj && handcuffs.victim ~= 0) {move handcuffs.victim to EightiesToilets;}
    if (noun == s_obj && headphones has worn) {give headphones ~worn; print "Free from the tyranny of the cheese, you remove the headphones.^"; rfalse;}
  ],
  n_to MensToilets,
  u_to EBMRoom,
  s_to EightiesToilets;

Music -> EightiesRoomMusic "music"
with before [;
  ListenTo: <<listen>>;
];

Object -> djbooth "DJ booth"
  with parse_name [x y;
    x = NextWord();
    y = NextWord();
    if (x == 'booth') {return 1;}
    if (x == 'dj' or 'deejay' && y == 'booth') {return 2;}
  ],
  initial "A DJ booth, the source of your suffering, stands to one side of the room.",
  description [;
    if (safetypin has scenery) {
      print "A guy who clearly fancies himself like mad stands in the booth playing non-stop cheese.^"; 
    } else {
      if (mixer in neverneverland) {
        move mixer to djbooth; move cdplayer to djbooth;
      } 
      print "The booth has been abandoned, ~Eighties Party Anthems~ left to terrify everyone with the tiniest amount of taste. Sadly, the DJ seems to have taken the rest of his collection with him. You can see a mixer and a CD player.^";
    }
    if (clipboard in djbooth) {"^A clipboard rests on top of it.";}
  ],
  inside_description "A CD player and a mixer sit on a bench.",
  before [;
    Receive: "Nah. The DJ probably won't appreciate you leaving your stuff in his booth.";
    Enter: if (eightiesdj in eightiesroom) {"Nah. This booth ain't big enough for the both of you.";} else {move mixer to djbooth; move cdplayer to djbooth;}
  ],
  has static enterable transparent;

Object -> -> clipboard "clipboard"
  with name "clipboard" "clip" "board",
  examined 0,
  description [;
    self.examined = 1;
    if (metalroom has visited && howtoautograph has concealed) {give howtoautograph ~concealed;}
    print "Ah, brings back happy memories of Geography trips. The number of coaches you've been sick on is quite spectacular.";
    if (requestlist in clipboard) {print "^^A request list is clipped to it ";
      if (pen in clipboard) {"and a pen is tied to it with a piece of string.";}
      else {"and a piece of string is tied to it.";}
    } else {
      if (pen in clipboard) {"^^A pen is tied to it with a piece of string.";}
      else {"^^A piece of string is tied to it.";}

    }
  ],
  before [;
    Take: if (eightiesdj notin neverneverland) {"~Oi, no nicking the clipboard,~ the DJ says.";} else {move clipboard to player; "Taken.";}
  ],
  has transparent;

Object -> -> -> pieceostring "string"
  with name "string" "piece" "of",
  description "The string is old, frayed and stained with beer.",
  before [;
    Take: "The string is tied to the clipboard with an intricate knot.";
    Cut: if (knife in player) {
      if (pen notin clipboard) {"Novel as it would be to divide the string into four and have a string quartet, you have more pressing matters at hand.";}
      if (pinstripetrousers.warning == 2) {give howtoautograph concealed; move pen to player; "You quickly cut the string and stick the pen behind your ear.";} else {"You're about to sever the pen from the clipboard when the DJ notices. ~Oi, no nicking the pen,~ he says DJ. Since he's bigger than you, you reluctantly lower the knife.";}
    }
  ];

Object -> -> -> Pen "pen"
  with name "pen" "black" "biro",
  description "It's a black biro, that appears to be half filled with ink.",
  before [;
    Take: if (self in clipboard) {"You take the pen and write, ~Iron Maiden or Motorhead, please!~ on the request list, before putting it down again. You'd take it further, but it's tied to the clipboard.";}
  ];

Object -> -> -> requestlist "request list"
  with name "request" "requests" "list" "sheet",
  description "The request list is full of songs the universe would be much better off without.",
  before [;
    Read: <<examine self>>;
    Take: if (eightiesdj notin neverneverland) {"~Oi, no nicking the request list,~ the DJ says.";} else {move requestlist to player; "Taken.";}
  ];

Object -> -> Bench "bench"
  with name "bench" "desk",
  initial "A bench holds a mixer and CD player.",
  description "The bench, though heavily stained with alcohol, sadly holds none that is drinkable.",
  before [;
    Enter: "You're not convinced it will hold your weight.";
    Receive: if (safetypin has scenery) "Nah. The DJ probably won't appreciate you leaving your stuff in his booth.";
  ],
  has static supporter;

Person -> EightiesDJ "eighties DJ"
  with name "dj" "deejay" "guy" "bloke" "man" "cheesemaster" "cheese" "master" "eighties",
  introduced 0, song 0,
  description "He's in his early forties and wears a self-satisfied leer.",
  orders [;
LookAtMe: "No. Not only is saying ~Look at me~ cliched beyond all reasonable measure, but you don't want to inflict your ghastly countenance on anyone.";
    getlife: "~Get a life,~ you say, far enough away from him so he can't hear.^^~You what?~ he asks.^^~Never mind,~ you say. Ha ha! Oh dear, you're childish sometimes.";
    GrabYourCoat: "No. Much as you want to banish his presence from the club, not that desperately!";
    GiveMeDrink: "Nah, he doesn't seem to have one.";
    diehard: "Nah. Many a time as you curse purveyors of cheese in your mind, you believe it's not socially acceptable to do this to their faces.";
    LookAtThis: if (pinstripetrousers.position == 0) {"You have his complete attention as it is.";} "You run through the scenario in your mind:^^You: Look at this?^DJ: What?^You (delivering a blow to his jaw nearly powerful enough to knock him off his feet): This. Now play some decent music, or I'll break your nose an' all!^^You grin. Sadly, you lack the requistive strength and accuracy, and acknowledge that this would only lead to you getting barred for life.";
    Thanks: "You have less than no reason to thank him.";
    Give: if (noun == pen) {"~Sorry, it has to stay here for the punters, know what I mean?~ says the DJ.";}
          if (noun == requestlist or clipboard) {"~Nah, fink I need it more than you do, mate,~ says the DJ.";}
    PlayTheFunkyMusic: "~Yeah, that's what I'm doing!~ he agrees heartily, while seemingly not getting the reference.";
    default: "The DJ seems to be too busy flirting with a scarily drunk mulletlady (fe-mullet? And does that make a mulletperson of mixed race a mulletto?) to hear you.";
  ],
  life [i j n x;
    Give: switch(noun) {
      kingdom: "~Will you play this?~ you ask.^^He studies it. ~VNV Nation? Nah - I've never heard of them so doubtless most of the punters haven't either. Sorry, mate, but I've got to play to the crowd.~";
      pen: "Now now, that would be silly.";
      flyer: if (flyer.writtenon == 0) {"You suspect the DJ wouldn't care for a flyer promoting someone else's night.";} "No, you can't imagine he's impressed by any celebrity except himself.";
      water, beer: "~Nah, you're all right, luv,~ he says. Does this imply that he thinks you're female? And, given that he hasn't tried to make a move on you, a not very attractive one? Huh!";
      absinthe: "~Cheers, but you can't just go accepting drinks from anyone these days, know what I mean?~ he says. ~Sad, but that's the way it is.~^^~It's absinthe,~ you point out. ~It's unspikable.~^^He seems to mishear, though, and says, ~Nah, I can't touch this.~";
      eightiescd: if (eightiescd.fixed == 0) {"~Is that 'Eighties Parties Anthems'?~ he asks. ~You may as well keep it.~";}
      if (eightiescd.fixed == 1) {
        move eightiesdj to neverneverland; move safetypin to player; give safetypin ~scenery; move eightiescd to leftdrawer; leftdrawer.playing = 1; score++; safetypin.provided = 1;
        print "~Oh, you've fixed it, have you?~ the DJ says. He examines it for signs of a crack, but concludes, ~I don't know how you did it, but thanks very much. They've discontinued it, would you believe? Well, have a great night.~^^";
        if (headphones in player) {
          give headphones worn;
          "Preparing yourself for the worst, you put on the headphones. You watch the DJ set the CD in motion; then he wanders off towards the toilets. The woman comes up to you, says something, plants another slobbery kiss on your cheek, says what's probably ~Here you go~, hands the safety pin over, then says something else. You lift one of your ear pieces. ~Are you going to dance?~ she repeats.^^~Maybe later,~ you say, clamping the ear piece securely back over your ear and struggling to keep your balance as a tidal wave of overjoyed eighties rejects crash onto the dancefloor."; 
        } else {
        give gettingheadphones ~concealed; 
           print "You've got to get out of here, fast. You grab everything and dash up the stairs to the sanctuary of the EBM room, only narrowly avoiding being swept away by the tidal wave of eighties rejects crashing onto the dancefloor.^^As you're getting your breath back, the woman from downstairs comes up to you. ~You've fixed it!~ she exclaims. ~Thank you so much! You've made my night!~ She plants another slobbery kiss on your cheek. ~Here you go.~ She hands you the safetypin. ~Well, I've gotta boogie, and, if you've got any sense, you'll join me.~ She heads back down the stairs.~^"; Playerto(EBMRoom); give gettingheadphones ~concealed;
          n = children(EightiesRoom);
          for (i=1: i<=n: i++) {
            x = child(EightiesRoom);
            for (j=1: j<=n-i: j++) {
              x = sibling(x);
            }
            if (x hasnt static && x hasnt scenery) move x to player;
          } 
        }
      }
      rtrue;
    }
Show:
      if (noun == pen) {"Now now, that would be silly.";}
  Ask:
    if (second == 'bastard') {"~What should I do with a drunken bastard?~ you ask.^^~Yeah!~ the DJ enthuses, articulately.";}
    if (second == 'self' or 'himself' or 'name') {"~Who are you?~ you ask.^^~Don't you know?~ The guy seems shocked. ~I'm the Cheesemaster.~^^Fitting.";}
    if (second == 'glowstick' or 'glowsticks' or 'glow' or 'stick' or 'sticks') {"~Have you seen a glowstick left lying around?~ you ask.^^~No, sorry mate, I haven't,~ he replies.";}
    if (second == 'pen' or 'biro') {"~Can I borrow the pen?~ you ask.^^~Sorry, it has to stay here for the punters, know what I mean?~ the DJ replies.";}
    if (second == 'request' or 'list' or 'requestlist' or 'clipboard' or 'clip' or 'board') {"~Can I borrow the clipboard?~ you ask.^^~Nah, fink I need it more than you do, mate,~ the DJ replies.";}
    if (second == 'night') {"No, you can already see that he's having a good night. That makes one of you.";}
    if (second == 'music' or 'song' or 'track' or 'tune') {
      print "~What's this song?~ you ask.^^~This one?~ he asks, seemingly incapable of believing you don't recognise it. ";
      if (self.song == 0) {self.song = 1; "~This is 'The Only Way Is Up' by Yazz!~^^She's quite right, too.";}
      if (self.song == 1) {self.song = 0; "~This is 'Heaven Is A Place On Earth' by Belinda Carlisle.~^^This place indicates hell is as well.";}
    }
    "The DJ seems to be too busy flirting with a scarily drunk mulletlady (fe-mullet? And does that make a mulletperson of mixed race a mulletto?) to hear you.";
  ],
  has animate static scenery;

Object -> eightiesstairs "stairs"
  with name "stairs" "stair" "staircase" "case" "steps",
  description "The stairs are painted in a variety of bright colours.",
  before [;
    Enter: <<go u_obj>>;
  ],
  has scenery static;

Crowd -> EightiesCrowd "crowd"
  with name "crowd" "people" "dancers" "women" "men" "dancefloor" "mullets" "man" "mullet" "mulletman" "normal" "alternative" "types" "proper" "goths" "guys" "mulletmen" "mulletwomen" "mulletlady" "lady" "fe-mullet" "femullet" "mulletwoman" "mulletman",
  description "All the people dancing look distressingly happy, apart from a few 'proper' goths, who exude a sufficient level of irony.",
  Before [;
    Hug: "You hug a few people. They look puzzled but pleased.";
  ],
  Life [;
    Kiss: "You'd need to be dancing before you could initiate that sort of thing.";
    Ask: "As you lack Jesus's oratory skills, your question goes unheard.";
    Tell: "As you lack Jesus's oratory skills, your statement goes unheard.";
    Show: if (noun == flyer) {"Assuming most of the older folk wouldn't be too interested in a night called Burning Kingdoms, you ask some of the 'proper' goths if they know about it. The general consensus is that it's too bleepy.";}
  ],
  has animate static scenery;

Place EightiesToilets "Ladies' Toilets"
  with description [;
    print "A dancefloor lies to the north and a vacant cubicle lies to the west. Otherwise, it's hard to see anything that doesn't have a mullet.^";
    if (self hasnt visited) {pinstripetrousers.add_to_scope = blood; "^Suddenly, some bastard comes up to you and puts an arm round your shoulders. ~All roight mate?~, he says, then pours beer all over you. ~Did you just spill my pint?~ he shouts. ~Well? Did you?~ Before you can answer, he's kneed you in the groin, given you a black eye, punched you in the nose with the other fist, and passed out.^^~What a complete bastard,~ a mullet man comments, not sounding overly concerned about the blood dribbling down your chin and the fact that you will never have children. (Not that this was ever going to happen anyway, which is just as well. But still.)";}
  ],
  before [;
    Go:
      if (securityguard in location) {"~Don't you be trying to get away now, son,~ the guard warns you in a low voice. ~I've had it with you.~";} 
      if ((noun == n_obj || noun == out_obj) && boots.height == 11 && punktoiletcrowd.help == 1) {"You're too tall to fit through the door!";}
    if ((noun == n_obj || noun == out_obj) && kingdom.playing == 0 && safetypin hasnt scenery) {print "You enter the eighties room, but it's so cheesy you immediately need "; 
  if (headphones in player) {give headphones worn; if (handcuffs.victim ~= 0) {move handcuffs.victim to EightiesRoom;} print "to put on the headphones.^"; rfalse;}
"to flee to the relative safety of Mulletland.";}
    if ((noun == n_obj || noun == out_obj )&& handcuffs.victim ~= 0) {move handcuffs.victim to EightiesRoom;}
    if ((noun == w_obj || noun == in_obj) && handcuffs.victim ~= 0) {move handcuffs.victim to EightiesCubicle;}
  ],
  n_to EightiesRoom,
  w_to EightiesDoorOut, in_to EightiesDoorOut, out_to EightiesRoom;

Object -> eightiescubicles "cubicles"
  with name "cubicles" "cubicle",
  description "All the cubicles but one are occupied and judging from the panting and moaning you can hear from within them, you suspect they may be for some time.",
  before [;
    Enter: 
    if (securityguard in location) {"~Don't you be trying to get away now, son,~ the guard warns you in a low voice. ~I've had it with you.~";} 
if (acid.taken == 1) {"No! There might be some invisible people in there!";}
if (handcuffs.victim ~= 0) move handcuffs.victim to eightiescubicle; PlayerTo(eightiescubicle); rtrue;
  ],
  has static scenery;

Object -> eightiessinks "sinks"
  with name "sink" "sinks",
  has static scenery;

Object -> eightieshanddrier "hand drier"
  with name "hand" "dryer" "drier" "handdrier" "handdryer",
  has static scenery;

Object -> EightiesDoorOut "cubicle door"
  with name 'door' 'to' 'cubicle' 'big' 'haired' 'big-haired' 'couple' 'pixels',
  description "The door is yellow at the top and purple at the bottom, the two colours blending seamlessly into one another. A large big-haired couple are displayed on the door in black pixels.",
  before [;
    Rude: "You're only supposed to blow the bloody doors off, not the ones covered only with mulletman sweat.";
    Take: "No, that would require far more DIY skill than you possess.";
  ],
  door_to EightiesCubicle,
  door_dir w_to,
  has static scenery door open openable;

Object -> bastard "bastard"
  with name "bastard" "guy" "man" "bloke" "complete",
  initial "A complete bastard lies on the floor, snoring in a disgusting manner.",
  description [;
    if (dms in bastard || dms in neverneverland2) {move dms to bastard; "The only positive things that can be said for this snoring belching badly-dressed bastard is that he's got good taste in footwear - a pair of twenty-hole DMs - and he doesn't have enough hair to have a mullet.";}
    "The only positive thing that can be said for this snoring belching badly-dressed bastard is that he doesn't have enough hair to have a mullet.";
  ],
  before [;
    Touch: "No. He's the last person you want to touch up.";
    Smell: "You'd really rather not. You don't think his aroma would be the pleasantest to have graced your nostrils.";
    Search: if (noun == bastard) {"Nah. Tearing him open would be going a bit far.";}
    DevilHornsAt: "Nah, you can't imagine you'll get much of a response.";
    Push: "You give him a shove.";
    WakeOther: "No, he's just fine as he is.";
    Take: if (gothroom.army ~= 2) "You'd need a good reason before you start dragging this guy around with you."; 
          if (player in bastard) "You'll have to get off him first."; 
          move bastard to player; "You get the bastard.";
    Enter: if (bastard in player) {
      "You'll have to put him down first.";
    } 
    print "You're not supposed to let the bastards grind you down, but you recognise the novelty in grinding down the bastards.^"; rfalse;
    Receive: if (noun == jacket or meshtop or anarchyshirt) {"Nah. Confused as he might be to wake up in someone else's clothes, you don't want to get bastard sweat all over them.";} "Putting things on the bastard would achieve nothing.";
    Kiss, Shag: "No way! To say he's not your type would be like saying George Bush isn't, perhaps, the most popular president America's ever had.";
  ],
  life [;
    Ask, Tell, Give: "He's kind of too out of it for that sort of thing.";
    Show: if (noun == knife) {"~See this?~ you ask, brandishing the knife. ~Probably a good thing you can't, or you'd be howling for mercy like a little girl.~";}
    "He's kind of too out of it for that sort of thing.";
    Attack: "Nah, much as you'd like to, you have to admit it's a bit cowardly to start on someone who can't fight back.";
  ],
  orders [;
    Thanks: "~Thank you very much, you bastard!~ you tell him.";
    GrabYourCoat: "~Grab your coat,~ you say. ~Oh, sorry, you can't, can you, because you got too [censored] drunk not to pass out, didn't you, you [censored] [censored]!~ You give him a hefty kick. Oh dear, looks like twenty four years of repressed anger coming out onto one unfortunate individual.";
    LookAtMe: "~Look at me,~ you say. ~Oh, sorry, you can't, because you got too [censored] drunk not to pass out, didn't you, you [censored] [censored]!~ You give him a hefty kick. Oh dear, looks like twenty four years of repressed anger coming out onto one unfortunate individual.";
GetLife: "~Get a life, you [censored]!~ you tell the bastard.";
    GiveMeDrink: "~I didn't go near your pint, by the way,~ you say, kicking the bastard. ~It's you that owes me a drink.~";
    LookAtThis: "~Hey, look at this!~ you say, adjusting the bastard's head, and punching him on the nose. It's not a great blow, but you get a trickle of blood. You smile broadly. Not quite an eye for an eye, but close enough.";
    diehard: "~I hope you die from choking on your own vomit,~ you say. Which you realise is a bit harsh, but this guy brings out your normally-dormant aggressive side, which is probably quite healthy.";
    Metal: "He's not worthy! He's not worthy!";
    Horns: "A one-fingered salute would be more appropriate for this guy, or at least one formed with  two different fingers.";
    Dance: "~Shall we dance?~ you say, heaving the bastard back and forth a bit. ~Oh dear, you're not very good at this, are you? You make me look good.~";
    Hello: "~Well, hello there!~ you say. ~Are you having a good night? You won't be for much longer, that's for certain!~";
    Goodbye: "~See you in hell!~ you say, kicking the bastard.";
    Follow:
      if (noun == player) { 
        "~Follow me,~ you say. ~Oh dear, you can't, can you? What a pity!~ You kick the bastard. People regard you a little strangely, but don't question your actions at all. They've probably seen it all in a place like this.";
      }
    default: "Nah, he isn't in much of a position to do your bidding.";
  ],
  has animate supporter enterable;

Crowd -> MulletMen "mullet men"
  with name "mullet" "mullets" "men" "crowd" "women" "people" "man" "mulletmen" "mulletwomen" "mulletlady" "lady" "fe-mullet" "femullet" "mulletwoman" "mulletman" "mulletpeople",
  description "A nearly unbearable level of testosterone emanates from the mullet people.",
  life [;
    Kiss: "Perish the thought!";
    Ask, Tell: "No. You really don't want to draw attention to yourself, lest they attempt to assimilate you.";
    Show, Give: 
      switch(noun) {
        knife: "Showing a knife to a group of worrying mullet men isn't the best idea you've ever had. Besides, what if they try to use it to give you a haircut?";
        flyer: "Nah. You don't think these guys would be too interested in a night called Burning Kingdoms.";
      }
      "No. You really don't want to draw attention to yourself, lest they attempt to assimilate you.";
  ],
  has scenery static animate;

Place EightiesCubicle "Cubicle"
with description "The walls are painted with bright funky patterns. Sadly, the floor is not in such a good state. The main section of the room is to the east.",
before [;
  Go: 
    if ((noun == e_obj || noun == out_obj) && handcuffs.victim ~= 0) {move handcuffs.victim to EightiesToilets;}
],
e_to EightiesDoorIn, out_to EightiesDoorIn;

Object -> EightiesDoorIn "cubicle door"
  with name 'door' 'to' 'toilets' 'cubicle' 'posters' 'eighties' 'bands',
  description "The back of the door is covered with posters of eighties bands.",
  before [;
    Rude: "You're only supposed to blow the bloody doors off, not the ones that are just covered with bloody idiots.";
    Take: "No, that would require far more DIY skill than you possess.";
  ],
  door_to EightiesToilets,
  door_dir e_to,
  has static scenery door open openable;

Toilet -> EightiesToilet "toilet"
with name "toilet" "loo" "bog" "lavatory" "latrine",
cleaned 0, flushed 0,
description [;
  if (self.cleaned == 0) {"You'd really really rather not look at it too carefully.";} else {"You look lovingly at your handiwork. Apart from on adverts, you don't think you've seen a cleaner toilet.";}
],
before [x;
  Flush: if (child(EightiesToilet) == nothing) {"You flush the toilet.";} 
         else {if (self.flushed == 0) {print "Well, it worked in ~Day of the Tentacle~. ";} 
               print "You flush the toilet and its contents disappear.^"; while (child(EightiesToilet)) { x = child(EightiesToilet); while (sibling(x)) x = sibling(x); move x to GothToilet; } rtrue;}
  ],
has static container open;

Place metalroom "Metal Room"
  with song 0,
  description [; 
    print "Ah, this is your sort of thing. The speakers are blasting out industrial metal goodness, and unlike at your local rock night, there's not an Evanescence fan to be seen, nor a Limp Bizkit song to be heard. The beautiful people are bowing down (repeatedly) before the ones they serve and you feel the urge to join them.^^"; 
    if (metalroom hasnt visited) {
      if (clipboard.examined == 1) {give howtoautograph ~concealed;}
      print "You're about to join them, when you're approached by a young guy in a - wow, a Doom Monkey, t-shirt! The only one you've ever sold!^^~You're Dave from Doom Monkey!~ the guy exclaims. ~Can I have your autograph?~^^~Sure,~ you say. What a novelty!^^";
      if (flyer in player && pen notin player) {print "~Have you got anything to write with?~ you say. He shakes his head. ~Ok, I'll find something,~ you agree. It's an inconvenience, but you don't get asked for your autograph every day.^^";}
      if (flyer notin player && pen in player) {print "~Have you got anything to write on?~ you say. He shakes his head. ~Ok, I'll find something,~ you agree. It's an inconvenience, but you don't get asked for your autograph every day.^^";}
      if (flyer notin player && pen notin player) {print "~Have you got anything to write on and with?~ you say. He shakes his head. ~Ok, I'll find something,~ you agree. It's an inconvenience, but you don't get asked for your autograph every day.^^";}
      if (flyer in player && pen in player) {print "~What's you name?~^^~Keith,~ he tells you, so you write, ~To Keith, METAAAAL!~ and then sign your name on the back of the flyer. "; <<fanspiel>>;}
    }
    print "Stairs lead down to another dancefloor.^";
  ],
  before [;
    Dance: if (doommonkeyfan.autograph == 0) {"You want to, but your fan awaits his autograph and won't be too happy if you go off and dance.";}
           if (doommonkeyfan.autograph == 1) {"~Er, look,~ you tell your fan. ~We're both here to have-~^^~Oh!~ your fan exclaims. ~That reminds me, I haven't finished telling you about my side project We're Both Here, yet, have I? Well-~^^You're clearly not going to get away easily.";}
           if (doommonkeyfan.autograph == 2) {
             if (girl.dance == 0) {print "You dance to ~Du Hast~ by Rammstein. A girl dances opposite you, mouthing the words.^"; move girl to metalroom; girl.dance = 1; rtrue;}
             if (girl.dance == 1) {print "You dance to ~Head Like A Hole~ by Nine Inch Nails. The girl gets down on her knees and makes ~We're not worthy!~ movements in your general direction during the ~Bow down before the one you serve~ section.^"; girl.dance = 2; rtrue;}
             if (girl.dance == 2) {give stuckinhandcuffs ~concealed; print "~Closer~ by Nine Inch Nails comes on and the girl handcuffs herself to you for the duration of it. This is looking increasingly promising, but when the song ends, she reaches into her System Of A Down hoodie, presumably for the key.^^Then a look of panic crosses her face. ~Oh no. I've left the key in my bedroom and the safety's broken,~ she says.^^She doesn't sound wholly concerned about this, so you can't tell whether this was a deliberate ploy or not. Either way, you too can think of worse predicaments"; if (key notin space) {print " and decide not to say anything of the key you found";} print ".^^~Well,~ you say, ~these things happen~.^^She nods. ~Do you want to go and get it now, or wait until the end of the night?~^^Well, really, who needs a second glowstick when you're handcuffed to an attractive young nu-metal vixen, even if she doesn't really exist?^^Hang on. Exactly how young is she? Since you still feel about eighteen, she initially struck you as being roughly your age, but perhaps you'd better find out. ~How old are you?~ you ask.^^~Er, eighteen?~ She doesn't sound very convinced. ~Oh, all right, I'm fifteen. Does it matter?~^^It does. Her age doesn't prevent you from wanting to go home with her, as such, but you'd soon tire of a subsequent relationship. You remember what you were like when you were fifteen: small-minded, self-centered, filled with hatred, and prone to melodrama and listening to ~How Soon Is Now?~ by The Smiths five thousand times in a row. Not that you've advanced much since then, but these still aren't traits you find attractive in a partner. And if you left her, she'd probably press charges.^^~Sorry,~ you say. ~I don't really do one night stands, and I prefer to go out with someone closer to my age.~^^She sighs. ~It's not fair. You'd have me if I was two months older, and I'm not going to turn you in or anything. Some of my exes are here tonight, you can ask them.~^^Your instinct is still to say no, though - and exactly how many people has this girl been with? Given your complete inexperience, this could be embarrassing. ~No, really, I don't do one-night stands,~ you say. ~Not my thing. Had enough of those at university. Sorry. You're very attractive, though. I'm sure you could have anyone else here tonight. How many people have you slept with?~^^~Lost count,~ she mutters.^^Blimey. Kids these days. ~Well, there you go. That's loads more than I have and I'm nine years older than you. You'll find someone else in no time.~^^~If I can get out of these handcuffs,~ she points out.^^";

  if (key in player) {give stuckinhandcuffs concealed; score++; move handcuffs to player; girl.dance = 4; "~No worries,~ you say, take out your key and unlock the handcuffs.^^~Wow,~ the girl says, ~That was lucky. Maybe I'd better stop handcuffing random people. You keep them. Well, I'm going to dance again, but let me know if you change your mind.~";}

  else {print "~Ah. Yes. Well, they're a standard make, aren't they?~ You own a pair just like them, though you've only ever used them as an accessory. ~I'm sure someone around here will have a key.~^^This prospect seems to cheer her. ~You're all right,~ she tells you. ~Sorry about this.~^"; girl.dance = 3; move handcuffs to player; give handcuffs worn; handcuffs.victim = girl; rtrue;}
  }
            if (girl.dance == 3) {"~Let's get out of these handcuffs first,~ the girl says.";}
            if (girl.dance == 4) {"Nah, they're playing Linkin Park now.";}
  }
    Go:
      if (securityguard in location) {"~Don't you be trying to get away now, son,~ the guard warns you in a low voice. ~I've had it with you.~";} 
      if (doommonkeyfan.autograph == 1) {print "~Just off to the toilet,~ you excuse yourself. ~Back in a sec.~^"; rfalse;} 
      if (doommonkeyfan.autograph == 0) {print "~Back in a sec,~ you tell your fan.^"; rfalse;}
    if (noun == d_obj && handcuffs.victim ~= 0) {move handcuffs.victim to GothRoom;}
  ],
  d_to GothRoom;

Music -> MetalRoomMusic "music"
with before [;
  ListenTo: <<listen>>;
];

Crowd -> MetalCrowd "crowd"
  with name 'crowd' 'people' 'dancers' 'dancefloor',
  description "Your kind of people. You feel all happy for a moment.",
  Before [;
    Hug: "You hug a few people. They look puzzled but pleased.";
  ],
  Life [;
    Show: if (noun == flyer) {"Nah. You don't think they'd be too interested in a night called Burning Kingdoms";}
    Kiss: "You'd need to be dancing before you could initiate that sort of thing. And have about a thousand times the amount of confidence you actually possess.";
    Attack: "Nah - no one else is moshing, so it might not go down too well.";
    Ask: "As you lack Jesus's oratory skills, your question goes unheard.";
    Tell: "As you lack Jesus's oratory skills, your statement goes unheard.";
  ],
  has scenery static animate;

Object -> metalstairs "stairs"
  with name 'stairs' 'stair' 'steps' 'staircase' 'case',
  description "They're metal, fittingly enough.",
  before [;
    Enter: <<go d_obj>>;
  ]
  has scenery static;

Object -> speakerstwo "speakers"
  with name "speaker" "speakers",
  description "They're big and black and powerful. You'd like them for your bedroom.",
  before [;
    Take: "They're too heavy, unfortunately.";
    Break: "No, vandalism never solved anything.";
  ],
  has static scenery pluralname;

Person -> doommonkeyfan "Doom Monkey fan"
  with name "fan" "young" "doom" "monkey" "fanboy" "guy" "boy" "keith" "bloke",
  turn 0,
  each_turn [;
    if (self.autograph == 0) {"^Your fan hovers around you hopefully.";}
    if (self.autograph == 1) {
      switch (self.turn) {
      0: self.turn++; "^Your fan rambles on about how Doom Monkey have given him the confidence to be true to himself.";
      1: self.turn++; "^Your fan goes on about how meaningful one of his band's songs is.";
      2: self.turn++; "^Your fan outlines the similarities between your lyrics and Wham's. (There aren't any, are there?)";
      3: self.turn++; "^Your fan tells you what he'd talk about if he got to have a one-to-one with Death.";
      4: self.turn = 0; print "^Your fan takes a swig from a ";
        if (beer in doommonkeyfan) {print "bottle of beer flavoured water";}
        else {print "nearly empty glass";}
        ", then whines about how he nearly died during the wait between ordering his t-shirt and receiving it.";
     }
    }
  ],
  autograph 0,
  named 0,
  initial "Fanboy stands talking to a replica of Ozzy Osbourne.",
  description [; 
    if (self.autograph == 0) {print "Were it not for the Doom Monkey t-shirt, you might have taken him for an emoid or nu-metaller, given his age, excessive jeans, wallet chain and fannish glee. As it is, he automatically scores maximal cool points.";} 
    else {print "Fanboy extraordinaire, clad in Doom Monkey t-shirt and excessive jeans"; if (chain in doommonkeyfan) {print " with wallet chain";} print ".";}
    if (beer in self) {" He's holding a bottle of flavoured water.";} else {"";}
  ],
  before [;
LookAtMe: "No. Not only is saying ~Look at me~ cliched beyond all reasonable measure, but you don't want to inflict your ghastly countenance on anyone.";
    GiveOne: "~What's one of those?~ he asks.^^~Never mind,~ you say. Honestly. Young people these days. Although, to be honest, you're not convinced you knew what a double entendre was at his age either.";
    Handcuff: if (handcuffs notin player) {"This would be infinitely easier if you had a pair of handcuffs.";} "No. You don't wish to spend any more time in his proximity.";
    Shag, Rude:  print "Obliging as you think he'd be, "; 
      if (self.autograph == 0) {"you'd kind of prefer to have female groupies, you know?";}
      else {"you really, really don't want to encourage him.";}

  ],
  orders [;
    getlife: if (self.autograph == 0) {"Certainly not! Doom Monkey fans need all the encouragement you can give them!";} "~Get a life,~ you say, far enough away from him so he can't hear.^^~You what?~ he asks.^^~Never mind,~ you say. Ha ha! Oh dear, you're childish sometimes.";
   GrabYourCoat: if (self.autograph == 0) {"No, shagging groupies is beyond lame! Well, shagging male groupies is anyway.";} "Definitely not!"; 
   GiveMeDrink: if (self.autograph == 0) {"Nah, he doesn't appear to have one.";}
      if (self.autograph == 1) {"No. You're not putting your lips on that!";}
      "Nah, the flavoured water looked disgusting enough before it got polluted with absinthe and fanboy's saliva.";
    diehard: "Is he a big enough fan to die for you? You suppose it's possible - it's just, for some reason, you can't come up with any suitable phrasing with which to inquire.";
    LookAtThis: if (doommonkeyfan.autograph < 2) {"You already have his full attention.";} 
      if (pinstripetrousers.position == 0) {"If he weren't talking to Ozzy, you'd happily demonstrate what being rock'n'roll was really about. You imagine Ozzy could do a much better job, though.";} "Nah, you have nothing to show him, that can't be achieved by the command SHOW (ITEM) TO FANBOY.";
    Metal: "~Metaaaaaaaal!!!~ you say, making devil horns.^^~Yeah,~ he agrees, nervously. Oh dear, he has a lot to learn."; 
    Rude: "Fame has its benefits, but this isn't one you care to exploit.";
    Give:
      if (noun == doommonkeyshirt) {
        <<take doommonkeyshirt>>;
      }
      if (noun == chain) {
        if (self.autograph == 0) {"~If you give me your autograph,~ he says.";}
        move chain to player; score++; "~Like the chain,~ you say.^^~Really?~ He looks overjoyed. ~Do you want it?~^^~Can't refuse the offer of random objects at times like these,~ you say.^^He unfastens his wallet from it, unclips it from his trousers, and hands it over.^";}
       if (noun == glass) {"You really don't want to carry around his plastic glass.";}  
       if (noun == beer) {move beer to player; "~Can I have a sip of that flavoured water?~ you ask.^^~Sure,~ he says, rather too gratefully, giving it back to you.";}
    default: if (self.autograph == 0) {"~Don't talk to me just yet,~ he says, ~I don't want you to forget about the autograph.~";} "Alas, you can't seem to get a word in edgeways.";
  ],
  life [;
    Kiss: 
      print "Obliging as you think he'd be, "; 
      if (self.autograph == 0) {"you'd kind of prefer to have female groupies, you know?";}
      else {"you really, really don't want to encourage him.";}
    Attack:
      if (self.autograph == 0) {
        "You can't beat up your biggest fan!";
      } else {
        "Tempting . . . but you expect he'd tell the press.";
      }
    Give:
      if (noun == absinthe) {"~What's this?~ He sniffs the contents of the flask and recoils.~Oh, no, I'd better not, thanks. Last time I had absinthe I turned into a total prat, man! I was really annoying.~^^Just as well he refused, then, because you really don't want to know what his definition of really annoying is.";}
      if (noun == flyer) {
        if (flyer.writtenon == 0) {"~Oh, thank you so much!~ the fan enthuses. ~Hang on.~ His face falls. ~You haven't written on it.~^^~I have, I just used invisible ink,~ you say.^^~Well, that's no good,~ he says. Honestly. Some people. No gratitude.";}
        else {<<fanspiel>>;}
      }
      if (noun == glowstick) {
        "Much as you're sure he'd appreciate something actually belonging to Robot, you need it rather more than he does.";
      } 
      if (noun == beer) {
        if (headphones has worn) {"You hand over the flavoured-water and lift up one of your earpieces to hear what he thinks.^^";}
        print "~Oh wow, thanks man,~ he says. He throws his empty plastic glass into a dark corner of the room and takes a swig of flavoured water. ";
     if (beer.absinthed == 0) {move beer to doommonkeyfan; "He nearly spits it out, but then thinks better of it. ~Man, this is mingin',~ he says. Then he remembers he's trying to impress you and takes another gulp.";}
    if (beer.absinthed == 1) {move beer to neverneverland; give doommonkeyfan ~scenery; give gettingpastfanboy concealed; doommonkeyfan.autograph = 2; score++; move ozzy to metalroom; "The absinthe takes effect surprisingly quickly. ~Oh, wow!~ he says. ~Everything's gone, like, totally cosmic. And, wow, Paul from Bloodparrot's here tonight! They're my favourite band ever!~^^And he wanders off to who he thinks is Paul from Bloodparrot. You'd feel sorry for him, except the guy is actually Ozzy Osbourne (well, a cheap replica of him anyway - maybe the imaginary Australian tribute act, Aussie Osbourne), and you're sure he gets this all the time and won't feel too bad about biting fanboy's head off.";}
    }
    "~Oh no, you keep it,~ he insists.";
    Tell:
      switch(second) {
        'self', 'doom', 'monkey': "Nah. You expect his knowledge is better than yours.";
        'glowsticks', 'glowstick', 'glow', 'stick', 'sticks': 
          if (self.autograph == 0) {"You're about to tell him of your quest when you think better of it. He might think you've sold out and turned into a raver.";} 
          if (self.autograph == 1) {"Alas, you can't seem to get a word in edgeways.";}
          "He's too busy chatting up Ozzy to pay you any attention.";
      }
      if (self.autograph == 0) {"He nods, approvingly.";}
      if (self.autograph == 1) {"Alas, you can't seem to get a word in edgeways.";}
      "He's too busy chatting up Ozzy to pay you any attention.";
    Ask: 
      if (self.autograph == 0) {
        switch(second) {
          'night', 'club': "~Having a good night?~ you ask.^^~Good? This is the best night of my life!~ he says.";
	  'name', 'self', 'himself':          
            print "~What's your name"; if (self.named == 1) {print " again";} self.named = 1; "?~ you ask.^^~Keith,~ he replies.";
          'chain': "~Like the chain,~ you say.^^~Really?~ He looks overjoyed. ~You can have it if you give me your autograph.~";
	  'autograph':
            print "~Who should I make it out to"; if (self.named == 1) {print " again";} self.named = 1; "?~ you ask.^^~Keith,~ he replies.";
        }
        "~Don't talk to me just yet,~ he insists, ~I don't want you to forget about the autograph.~";
      } 
      if (self.autograph == 1) {
        switch(second) {
          'glowstick','glow','stick','glowsticks','drugs', 'pot', 'ecstasy', 'acid', 'lsd', 'coke', 'cocaine', 'heroin', 'speed', 'glue': 
	    "Alas, you can't seem to get a word in edgeways.";
          'chain':
            move chain to player; score++; "~Like the chain,~ you say.^^~Really?~ He looks overjoyed. ~Do you want it?~^^~Can't refuse the offer of random objects at times like these,~ you say.^^He unfastens his wallet from it, unclips it from his trousers, and hands it over.^";
        }
	"You don't want to encourage him at all.";
      }
      if (self.autograph == 2) {
        "He's too busy chatting up Ozzy to pay you any attention.";
      }
  ],
  has animate transparent scenery;

Object -> -> glass "glass of watery brown liquid"
  with name "glass" "liquid" "brown" "watery" "of",
  description "Well, it's really a 'plastic'. It contains a couple of millimetres of a watery brown liquid.",
  before [;
    Take, Drink: "As the hero of ~Full Throttle~ said on various occasions, ~I'm not putting my lips on that.~";
  ];

Object -> -> chain "chain"
  with name "wallet" "chain",
  description "It looks like it's been bought from a market stall.",
  before [;
    Take: if (doommonkeyfan.autograph == 0) {"It doesn't seem right to start taking apart his outfit before you've granted him your autograph.";} else if (chain in doommonkeyfan) {print "~Like the chain,~ you say.^^~Really?~ He looks overjoyed. ~Do you want it?~^^~Can't refuse the offer of random objects at times like these,~ you say.^^He unfastens his wallet from it, unclips it from his trousers, and hands it over.^"; move chain to player; score++; rtrue;}
  ],
  after [;
    Wear: "You clip the chain to your trousers."; 
  ],
  has clothing;

Object -> -> baggyjeans "baggy jeans"
  with name "baggy" "jeans",
  cuttable 1,
  before [;
    Take: "You're really not into undressing him.";
    Cut: if (second == knife or razorblade) {"Nah, you don't think fanboy would appreciate that.";}
  ],
  has static scenery;

Object -> -> doommonkeyshirt "doom monkey shirt"
  with name "doom" "monkey" "shirt" "t-shirt" "tshirt" "scythe" "priestly" "robes",
  description "Four years after creating these t-shirts, you're still rather fond of the design: it depicts a monkey wearing priestly robes and carrying a scythe.",
  before [;
    Take: if (doommonkeyfan.autograph == 0) {"No! You like people advertising your band!";}
        "~Can I have the t-shirt?~ you ask. Losers like him are giving Doom Monkey a bad name.^^~Didn't you say on your website you've got at least eight thousand t-shirts?~ the fan asks.^^~Er, yeah, but, er, we like our fans to be up to the minute. Give me this one and I'll give you a copy of our new limited edition t-shirt!~^^~You don't have a limited edition t-shirt,~ he says scornfully.^^~How would you know?~^^The fan sighs. ~Robot created me, remember? And he keeps me up to date with all the latest Doom Monkey news - on the rare occasion that there is any, that is.~^^~Oh yeah. Sorry.~^^The fan looks disappointed in you again, and then starts telling you about the similarities he's found between you and Michael Jackson! (Apart from your amazing moonwalking ability, perfected when you were eight, there aren't any! Are there?)";
  ];

Place gothroom "Goth Room"
  with sisters 0, miranda 0, army 0, song 0,
  description "Posters of goth bands line the walls; velvet, lace, fishnet and PVC flounce past you on all sides; and deep voiced men moan through the speakers. Stairs lead up to another dance floor, the men's toilets are to the north, and the ladies' are to the south.",
  before [;
    Go: 
     if (securityguard in location) {"~Don't you be trying to get away now, son,~ the guard warns you in a low voice. ~I've had it with you.~";}
     if (noun == n_obj)       {
      if (handcuffs.victim == woman) {"~Hey hey hey,~ the woman says. ~I'm not going in there. Last time I did that, by the time I'd left, I'd been persuaded to take part in a weird fertility ritual involving scorpions.~";}
if (girl.dance == 3 || handcuffs.victim == girl) {"~Hey!~ the girl protests. ~I'm not going in the men's toilets!~^^~But it's full of women,~ you tell her.^^~Exactly,~ she says. ~They get all arsey because I'm younger and prettier than them and listen to metal.~";}
      if (handcuffs.victim == dancer) {move dancer to menstoilets; PlayerTo(menstoilets); rtrue;}
      "You walk into the men's, but it's full of girls, who start laughing at you. You try to explain that you're just looking for your missing glowstick, but your protests only makes them laugh harder. You leave again. You hate goths sometimes.";}
        if (noun == u_obj && handcuffs.victim ~= 0) {move handcuffs.victim to metalroom;}
        if (noun == s_obj && boots.height == 11 && punktoiletcrowd.help == 1) {"You're too tall to fit through the door!";}
        if (noun == s_obj && handcuffs.victim ~= 0) {move handcuffs.victim to gothtoilets;}
  ],
  n_to menstoilets,
  u_to metalroom,
  s_to GothToilets;

Music -> GothRoomMusic "music"
with before [;
  ListenTo: <<listen>>;
];

Object -> speakers "speakers"
  with name "speaker" "speakers",
  description "They're big and black and powerful. You'd like them for your bedroom.",
  before [;
    Take: "They're too heavy, unfortunately.";
    Break: "No, vandalism never solved anything.";
  ],
  has static scenery pluralname;

Crowd -> GothCrowd "crowd"
  with name 'crowd' 'people' 'dancers' 'dancefloor' 'velvet' 'lace' 'fishnet' 'pvc' 'goths',
  description "The crowd provide you with a fair approximation of what you might end up with if you had an after party for the extras in a period drama and those in a cyberpunk flick.",
  Before [;
    Hug: "You hug a few people. They look puzzled but pleased.";
  ],
  Life [;
    Show: if (noun == flyer) {"~Do you know this night, Burning Kingdoms?~ you ask a few people. The general consensus is that it's all right, but too bleepy.";}
    Kiss: "You'd need to be dancing before you could initiate that sort of thing. And about a thousand times more confident than you are.";
    Ask: "As you lack Jesus's oratory skills, your question goes unheard.";
    Tell: "As you lack Jesus's oratory skills, your statement goes unheard.";
  ],
  has scenery static animate;

Object -> gothstairs "stairs"
  with name "stairs" "stair" "staircase" "case" "steps" "plush" "red" "carpet",
  description "The stairs are covered with a plush red carpet.",
  before [;
    Enter: <<go u_obj>>;
  ],
  has static scenery;

Object -> posters "posters"
  with name "posters" "poster", sistersfound 0, mirandafound 0,
  description [;
    print "They're rather pretty, but you don't know the work of any of the bands depicted";

    if (self.sistersfound == 0 && self.mirandafound == 0) {print ".^";}
    if (self.sistersfound == 1 && self.mirandafound == 0) {print ", except The Sisters Of Mercy.^";}
    if (self.mirandafound == 1 && self.sistersfound == 0) {print ", except Killing Miranda.^";}
    if (self.mirandafound == 1 && self.sistersfound == 1) {print ", except The Sisters of Mercy and Killing Miranda.^";}

    if (gothroom.sisters == 2 && self.sistersfound == 0) {
      print "^Oh, there's a Sisters Of Mercy one.^"; self.sistersfound = 1; move sistersposter to gothroom;
      if (gothroom.miranda == 2 && self.mirandafound == 0) {print "^And a Killing Miranda one.^"; self.mirandafound = 1; move mirandaposter to gothroom;}
      rtrue;
    }
    if ((gothroom.sisters ~= 2 || self.sistersfound == 1) && gothroom.miranda == 2 && self.mirandafound == 0) {print "^Oh, there's a Killing Miranda one.^"; self.mirandafound = 1; move mirandaposter to gothroom;}
    rtrue;
  ],
  before [;
    Take: "Nah, they look good as they are.";
  ],
  has static scenery;

Person -> goth "goth bloke"
  with name "goth" "bloke" "vampire" "vamp" "in" "corner" "guy" "lucius",
  asked 0,
  introduced 0,
  initial "A goth bloke sitting in a corner gazes at you, longingly. You don't think it's a look of lust, but you can't tell whether he wants to talk to you, drink your blood, or just admire your clothes. Perhaps all three.",
  description [;
    print "He appears to be in his late twenties and manage to effortlessly blend the corporate- and Victorian- gothic styles. ";
    if (absinthe in neverneverland) {"His coat, which is black and made of some sort of satinny material with leafy designs embossed on top of it, is fastened up and bulges at the left breast. It might be a flask in his inside pocket, but it might be a calculator that allows him to travel through time. You never can tell.";} else {"";}
  ],
  before [;
    Handcuff: if (handcuffs notin player ) {"This would be infinitely easier if you had a pair of handcuffs.";} "~Not now, I'm busy,~ he says, holding up the fanzine.";
    BitePerson: "Nah. At this point in your sexual development, you're more into holding hands with a girl.";
  ],
  orders [;
    LookAtMe: "No. Not only is saying ~Look at me~ cliched beyond all reasonable measure, but you don't want to inflict your ghastly countenance on anyone.";
    DoubleEntendre: "~Once, I was going to ask a girl to go home with me. But then I felt like a prick,~ he grins.";
    Dance: "~Do you want to dance?~ you ask.^^~Maybe later,~ he smiles.";
    getlife: "Nah; you imagine he had one once, but gave it up willingly and is better off dead.";
    GrabYourCoat: "Nah. You're worried he'd take you up on it. Although, since he's already wearing it, him doing so might turn out to be just completely pointless.";
    GiveMeDrink: if (self.asked == 0) {"Nah, he doesn't appear to have one.";}
      if (absinthe notin neverneverland) {"Nah, you'll have to get the fanzine first.";}
      "He's already given you his absinthe.";
    diehard: "You don't think there's any need to tell him to do that; you're sure he'll do it anyway. Well, everyone will, but he'll probably welcome Death's Sweet Embrace more willingly than most. Actually, having hugged Death a few times in the past, you're not sure sweet is quite the word for it, as the spikes he normally decks his arms with are rather painful. But anyway.";
    LookAtThis: if (pinstripetrousers.position == 0) {"He's staring at you as it is.";} "Nah, you don't have anything to show him that can't be revealed with the command SHOW (ITEM) TO GOTH.";
    GiveOne: "~Once, I was going to ask a girl to go home with me. But then I felt like a prick,~ he grins.";
    default: "He smiles enigmatically.";
  ],
  life [c;
    c = '5';
    Give: if (noun == fanzine) {move fanzine to goth; move absinthe to player; if (self.asked == 0) {"He looks at you in amazement. ~Is this for me?~ he asks.^^~Yeah,~ you say.^^~Wow, I've been wanting a copy of this for ages? How did you know?~ You shrug. ~Well, I know these things aren't easy to come by. Here's a reward for your troubles.~ He reaches into his coat pocket and hands you a hipflask. ~Absinthe,~ he says.";} else {"~Oh, cool, thanks,~ he says. ~Here you go.~ He reaches into his coat pocket, extracts the hipflask of absinthe and hands it to you.";}}
          if (noun == flyer) {
            if (flyer.writtenon == 1) {"~Here, this'll make you a mint in a few weeks' time,~ you say. ~I'll be a rock star then, see.~^^~Nah, I've got more money than I know what to do with already,~ he says.^^~Can I have some?~ you say, hopefully.^^~Don't you think your career's going to work out?~ he asks.^^Darn.";}
            "~Not my scene,~ he says. ~Too many neon yellow trousers for the likes of me.~";
          }
          if (noun == glowstick) {
            "He looks like he would be turning pale if he wasn't that way already; instead he goes green. ~Yeesh, get that thing away from me,~ he says. ~No offence or anything, but I come over all faint and queasy if I get too close to a glowstick. They drain me of my powers.~^^~Sorry!~ you say.";
	    }
          "He shakes his head, with a smile.";
    Kiss: "You're normally keen to promote your heterosexuality, but this is virtual reality, so who cares?^^You snog for a while. It's surprisingly pleasant, but you force yourself to put an end it. You don't want to turn gay the day you finally start being besieged by groupies.";
    Ask: switch(second) {
	'bastard': "~What should I do with a drunken bastard?~ you ask.^^~Do him justice,~ he smiles.";
      'himself','self': "A little conversation reveals that he's called Lucius, and yes he was called that before Harry Potter came out, he's twenty eight, and he's an accountant, but he doesn't want you to hold that against him.";
      'coat','bottle','flask','calculator','breast','pocket','bulge': self.asked = 1; "~Er, is that a bottle in your pocket, or do you have really weird anatomy?~ you ask.^^~It's a bottle,~ he grins. ~Absinthe. I'll give you some if you do me a favour. There's this zine I'd like a copy of, 'Something Better Change', but they only give it to punks. Have you got any punk friends, or could you, you know, pretend to be one?~^^~I'll see what I can do,~ you say."; 
      'zine','magazine','fanzine','something','better','change': "~Any idea how I can get hold of the zine?~ you ask.^^~I found a punk room one night,~ he says. ~I can't remember how I got there, though.~";
      'club','night','goth':
        print "~Are you having a good night?~ you ask.^^~Yeah,~ he smiles. ~Even though they only ever play three songs in here.~";
      'drugs', 'pot', 'ecstasy', 'acid', 'lsd', 'coke', 'cocaine', 'heroin', 'speed', 'glue', 'absinthe': print "~Do you know where I can get some drugs from?~ you ask.";
if (absinthe in neverneverland) {"^^~I've got some absinthe,~ he says, patting the bulge in his coat. ~I'll give you some if you do me a favour. There's this zine I'd like a copy of, 'Something Better Change', but they only give it to punks. Have you got any punk friends, or could you, you know, pretend to be one?~";}
else {"~Other than the absinthe I gave you, no,~ he says.";}
     'glowstick','glow','stick','glowsticks','sticks': "~Have you seen a glowstick lying around anywhere?~ you ask.^^~Sorry, no,~ he says. ~You'd know if I had, though, as if I stay around one for too long, I burn to a crisp.~^^~Sorry,~ you say, holding yours away from him.";
      'song','music','tune','track','sounds': 
        print "~Hi, can you identify a song for me?~ you ask.^^~Of course, which one?~ he asks.^^Choose a response.^0. Never mind.^1. There's this tune they're playing upstairs in the other bit . . .";
        if (gothroom.sisters == 0) {
          if (gothroom.miranda == 0) {
            if (gothroom.army ~= 0) {

              print "^2. ~I believe in getting the bus there.~^";
              while (c ~= '0' && c ~= '1' && c ~= '2') {
                print "^>> ";
                text_array->0 = 1;
                read text_array 0;
                c = text_array->2;
                if (c == '0') {"~You mean 'Smells Like Teen Spirit'?~ he asks.^^~No, I mean it doesn't matter,~ you say.";}
                if (c == '1') {"~Ah, I don't go upstairs,~ he says.";}
                if (c == '2') {gothroom.army = 2; "He laughs. ~They're actually saying 'Getting the bastard'.~ Ah, yes, that does make a bit more sense. ~It's 'Vengeance' by New Model Army.~";}
                if (c ~= '0' && c ~= '1' && c ~= '2') {print "That's not an option.";}
              }

            } else {
              while (c ~= '0' && c ~= '1') {
                print "^>> ";
                text_array->0 = 1;
                read text_array 0;
                c = text_array->2;
                if (c == '0') {"~You mean 'Smells Like Teen Spirit'?~ he asks.^^~No, I mean it doesn't matter,~ you say.";}
                if (c == '1') {"~Ah, I don't go upstairs,~ he says.";}
                if (c ~= '0' && c ~= '1') print "That's not an option.";
              }
            }
          } else {
            print "^2. ~We got the white line fever.~";
            if (gothroom.army ~= 0) {
              print "^3. ~I believe in getting the bus there.~";
              while (c ~= '0' && c ~= '1' && c ~= '2' && c ~= '3') {
                print "^>> ";
                text_array->0 = 1;
                read text_array 0;
                c = text_array->2;
                if (c == '0') {"~You mean 'Smells Like Teen Spirit'?~ he asks.^^~No, I mean it doesn't matter,~ you say.";}
                if (c == '1') {"~Ah, I don't go upstairs,~ he says.";}
                if (c == '2') {gothroom.miranda = 2; "~That's 'Discotheque Necronomicon' by Killing Miranda,~ he tells you.";}
                if (c == '3') {gothroom.army = 2; "He laughs. ~They're actually saying 'Getting the bastard'.~ Ah, yes, that does make a bit more sense. ~It's 'Vengeance' by New Model Army.~";}
                if (c ~= '0' && c ~= '1' && c ~= '2' && c ~= '3') {print "That's not an option.";}
              }
            } else {
              while (c ~= '0' && c ~= '1' && c ~= '2') {
                print "^>> ";
                text_array->0 = 1;
                read text_array 0;
                c = text_array->2;
                if (c == '0') {print "~You mean 'Smells Like Teen Spirit'?~ he asks.^^~No, I mean it doesn't matter,~ you say.^"; rtrue;}
                if (c == '1') {print "~Ah, I don't go upstairs,~ he says.^"; rtrue;}
                if (c == '2') {print "~That's 'Discotheque Necronomicon' by Killing Miranda,~ he tells you.^"; gothroom.miranda = 2; rtrue;}
                if (c ~= '0' && c ~= '1' && c ~= '2') print "That's not an option.";
              }
            }
          }
        } else {
          print "^2. ~We got the kingdom, we got the key.~";
          if (gothroom.miranda == 0) {
            if (gothroom.army ~= 0) {
              print "^3. ~I believe in getting the bus there.~";
              while (c ~= '0' && c ~= '1' && c ~= '2' && c ~= '3') {
                print "^>> ";
                text_array->0 = 1;
                read text_array 0;
                c = text_array->2;
                if (c == '0') {print "~You mean 'Smells Like Teen Spirit'?~ he asks.^^~No, I mean it doesn't matter,~ you say.^";}
                if (c == '1') {print "~Ah, I don't go upstairs,~ he says.^"; rtrue;}
                if (c == '2') {print "~That's 'Lucretia, My Reflection' by Sisters Of Mercy,~ he tells you.^"; gothroom.sisters = 2; rtrue;}
                if (c == '3') {print "He laughs. ~They're actually saying 'Getting the bastard'.~ Ah, yes, that does make a bit more sense. ~It's 'Vengeance' by New Model Army.~^"; gothroom.army = 2; rtrue;}
                if (c ~= '0' && c ~= '1' && c ~= '2' && c ~= '3') {print "That's not an option";}
              }
            }
            else {
              while (c ~= '0' && c ~= '1' && c ~= '2') {
                print "^>> ";
                text_array->0 = 1;
                read text_array 0;
                c = text_array->2;
                if (c == '0') {print "~You mean 'Smells Like Teen Spirit'?~ he asks.^^~No, I mean it doesn't matter,~ you say."; rtrue;}
                if (c == '1') {print "~Ah, I don't go upstairs,~ he says.^"; rtrue;}
                if (c == '2') {print "~That's 'Lucretia, My Reflection' by Sisters Of Mercy,~ he tells you.^"; gothroom.sisters = 2; rtrue;}
                if (c ~= '0' && c ~= '1' && c ~= '2') print "That's not an option.";
              }
            }
          } else {
            print "^3. ~We got the white line fever.~";
            if (gothroom.army ~= 0) {
              print "^4. ~I believe in getting the bus there.~";
              while (c ~= '0' && c ~= '1' && c ~= '2' && c ~= '3' && c ~= '4') {
                print "^>> ";
                text_array->0 = 1;
                read text_array 0;
                c = text_array->2;
                if (c == '0') {print "~You mean 'Smells Like Teen Spirit'?~ he asks.^^~No, I mean it doesn't matter,~ you say.^"; rtrue;}
                if (c == '1') {print "~Ah, I don't go upstairs,~ he says.^"; rtrue;}
                if (c == '2') {print "~That's 'Lucretia, My Reflection' by Sisters Of Mercy,~ he tells you.^"; gothroom.sisters = 2; rtrue;}
                if (c == '3') {print "~That's 'Discotheque Necronomicon' by Killing Miranda,~ he tells you.^"; gothroom.miranda = 2; rtrue;}
                if (c == '4') {print "He laughs. ~They're actually saying 'Getting the bastard'.~ Ah, yes, that does make a bit more sense. ~It's 'Vengeance' by New Model Army.~^"; gothroom.army = 2; rtrue;}
                if (c ~= '0' && c ~= '1' && c ~= '2' && c ~= '3' && c ~= '4') {print "That's not an option";}
              }
            } else {
              while (c ~= '0' && c ~= '1' && c ~= '2' && c ~= 3) {
                print "^>> ";
                text_array->0 = 1;
                read text_array 0;
                c = text_array->2;
                if (c == '0') {print "~You mean 'Smells Like Teen Spirit'?~ he asks.^^~No, I mean it doesn't matter,~ you say.^"; rtrue;}
                if (c == '1') {print "~Ah, I don't go upstairs,~ he says.^"; rtrue;}
                if (c == '2') {print "~That's 'Lucretia, My Reflection' by Sisters Of Mercy,~ he tells you.^"; gothroom.sisters = 2; rtrue;}
                if (c == '3') {print "~That's 'Discotheque Necronomicon' by Killing Miranda,~ he tells you.^"; gothroom.miranda = 2; rtrue;}
                if (c ~= '0' && c ~= '1' && c ~= '2' && c ~= '3') print "That's not an option.";
              }
            }
          }
        }
    }
  ],
  has animate transparent;

Object -> -> Coat "goth bloke's coat"
  with name "coat" "pocket" "bottle" "calculator" "flask" "leafy" "designs" "pocket" "bulge",
  description [;
    print "Goth bloke's coat reaches his thighs. It's black (of course) and made of some sort of satinny material with leafy designs embossed on top of it. "; 
    if (absinthe in neverneverland) {"It's fastened up and bulges at the left breast. It might be a flask in his inside pocket, but it might be a calculator that allows him to travel through time. You never can tell.";}
    else {"";}
  ],
  cuttable 1,
  before [;
    Take: "Nah, you suspect goth bloke doesn't want strangers taking his clothes away.";
    Cut: "No, you really don't think goth bloke would appreciate that.";
  ];

Place GothToilets "Ladies' Toilets"
  with 
  description [; if (self hasnt visited) {give snootygoths ~concealed;} print "This place is full of blokes, though some of them have girls handcuffed to them. Most of them seem to be competing over who's been to the most distant festivals, who's got the most obscure EPs and who paid the most for their shirt. A dancefloor lies to the north and an occupied cubicle lies to the west."; 
  if (handcuffs has worn && handcuffs.victim == woman) {"~Ooh, my husband would kill you if he saw you dressed like that,~ says the woman to the fur-clad goth.^^~I'm so scared,~ she sneers.";}
  "";
  ],
  before [;
    Go:
      if (securityguard in location) {"~Don't you be trying to get away now, son,~ the guard warns you in a low voice. ~I've had it with you.~";} 
      if ((noun == n_obj || noun == out_obj) && boots.height == 11 && punktoiletcrowd.help == 1) {"You're too tall to fit through the door!";}
    if ((noun == n_obj || noun == out_obj )&& handcuffs.victim ~= 0) {move handcuffs.victim to GothRoom;}
    if ((noun == w_obj || noun == in_obj) && handcuffs.victim ~= 0) {move handcuffs.victim to GothCubicle;}
  ],
  n_to GothRoom,
  w_to GothDoorOut, in_to GothDoorOut, out_to GothRoom;

Object -> gothcubicles "cubicles"
  with name "cubicles" "cubicle",
  description "All the cubicles but one are occupied and judging from the panting and moaning you can hear from within them, you suspect they may be for some time.",
  before [;
    Enter: 
if (securityguard in location) {"~Don't you be trying to get away now, son,~ the guard warns you in a low voice. ~I've had it with you.~";} 
if (acid.taken == 1) {"No! There might be some invisible people in there!";}
if (handcuffs.victim ~= 0) move handcuffs.victim to gothcubicle; PlayerTo(gothcubicle); rtrue;
  ],
has static scenery;

Object -> GothDoorOut "cubicle door"
  with name 'door' 'to' 'cubicle' 'black' 'velvet',
  description "The door is covered with black velvet, making the cubicle look a lot more inviting than it actually is.",
  before [;
    Rude: "You're only supposed to blow the bloody doors off, not the ones with mere velvet on them.";
    Take: "No, that would require far more DIY skill than you possess.";
  ],
  door_to GothCubicle,
  door_dir w_to,
  has static scenery door open openable;

Crowd -> GothToiletCrowd "crowd"
  with name 'crowd' 'people' 'goths',
  description "Come to think of it, these people might be why there's no mirrors in this place.",
  Before [;
    Hug: "You hug a few people. They look puzzled but pleased.";
  ],
  Life [;
    Kiss: "Nah, it seems a bit rude to interrupt a conversation just to snog someone. Also, it seems even more unlikely that they'd appreciate it.";
    Ask: "As you lack Jesus's oratory skills, your question goes unheard.";
    Tell: "As you lack Jesus's oratory skills, your statement goes unheard.";
  ],
  has scenery static animate;

Person -> Bloke "boy"
  with name "bloke" "man" "boy" "guy" "feathers" "feather",
  initial "In a corner, two girls and a boy are sharing one cigarette.",
  description "The boy is dressed in . . . well, feathers. You can't help but stare at him, but he doesn't complain. He does make quite a sight, so you expect he's used to it.",
  orders [;
LookAtMe: "No. Not only is saying ~Look at me~ cliched beyond all reasonable measure, but you don't want to inflict your ghastly countenance on anyone.";
    getlife: "Oh, how you want to say that, but you refrain, knowing you'll instantly receive a far more cutting put-down.";
    GrabYourCoat: "No. You really don't think he'd want to go home with you.";
    GiveMeDrink: "Nah, he doesn't appear to have one.";
    diehard: "~Oh, sod off and die already,~ you say.^^~I'm already dead!~ he says, haughtily. ~Can't you tell?~^^Bloody vampires. Maybe ~get a life~ would have been more appropriate.";
    LookAtThis: if (pinstripetrousers.position == 0) {"Nah, you'd only be told, ~Look at what?~ and you don't need any reminders about your shortcomings in this department.";} "Nah, you don't suppose he'd be impressed by any of your motley collection of possessions. Or anything, for that matter.";
    Give: if (noun == cigarette) {"~Can I have a puff on that?~ you ask.^^~Certainly not,~ the bloke replies, sounding disgusted. ~You might have all sorts of horrible diseases.~";}
      if (noun == glowsticktwo) {
        if (glowsticktwo in bloke) {move glowsticktwo to player; "~Can I have a go with your glowstick?~ you ask the trio.^^~Sure,~ one of the girls says, handing it to you. Freaky.";}           	  else {"~Hey, man, go easy on the acid, we already gave you it,~ he says.";}
      }
    default: if (acid.taken == 0) {"He hums loudly, to indicate he's not listening.";} "You can't seem to get the words out.";
  ],
  before [;
    Handcuff: if (handcuffs notin player) {"This would be infinitely easier if you had a pair of handcuffs.";} "~Handcuffs?~ he says, horrified. ~They're so passé.~";
    Shag:
      if (acid.taken == 0) {"No, you somehow doubt he'd let you.";} "No, you can't remember how to. Well, it's not like you've had much practice in the area.";
    Hug:
      if (acid.taken == 0) {"No, the trio look very hostile to being approached in such a way.";} "You try to give him a hug, but your arms pass straight through him.";
  ],
  life [;
    Ask:
      if (second == 'flier' or 'flyer' or 'burning' or 'kingdoms' or 'projekt' or 'coil') {
        print "~Do you know a place called Burning Kingdoms?~ you ask the bloke.";
        if (acid.taken == 0) {"^^~Unfortunately, yes,~ he replies.";}
        "^^~Yeah, this place is better though,~ he replies.";
      }
      if (second == 'glowstick' or 'glow' or 'stick' or 'glowsticks' or 'sticks') {
        if (acid.taken == 0) {"~Have you seen a glowstick lying around anywhere?~ you ask.^^The trio stare at you as if you've just crawled out of a toilet.^^~I'll take that as a no then,~ you say.";}
        if (glowsticktwo in bloke) {move glowsticktwo to player; "~Can I have a go with your glowstick?~ you ask the trio.^^~Sure,~ one of the girls says, handing it to you. Freaky.";}
        "~Does your glowstick change colours too?~ you ask.^^~First trip, huh?~ one of the girls asks, smiling at your indulgently.";
      }
      if (second == 'bastard') "~What should I do with a drunken bastard?~ you ask.^^~I couldn't care less what you do, with a drunken bastard or otherwise,~ he sneers.";
      "He ignores you.";
    Tell:
      if (second == 'glowstick' or 'glow' or 'stick' or 'glowsticks' or 'sticks') {
        if (acid.taken == 0) {"~Hey, I've been looking for a glowstick-~ you begin.^^The trio stare at you as if you've just crawled out of a toilet.^^~Never mind,~ you say.";}
        if (glowsticktwo in bloke) {move glowsticktwo to player; "~That's a fine glowstick you've got,~ you say. ~Do you want it?~ one of the girls says and hands it to you. Freaky.";}
        "~Your glowstick is the best!~ you enthuse.^^~First trip, huh?~ one of the girls asks, smiling at your indulgently.";
      }
      if (second == 'flier' or 'flyer' or 'burning' or 'kingdoms' or 'projekt' or 'coil') {
        "~Do you know a place called Burning Kingdoms?~ you ask the bloke.^^~Unfortunately, yes,~ he replies.";
      }
      "He ignores you.";
    Show, Give:
      if (noun == flyer) {"~Hey, do you know this Burning Kingdoms place?~ you ask the bloke.^^~Unfortunately, yes,~ he replies.";}
      if (noun == glowstick) {
        if (acid.taken == 0) {"~Put your glowstick AWAY,~ one of the girls says, sounding disgusted.";} else {"~No, it's all right, you keep it,~ the bloke says, sounding amused.";}      
      }
      if (noun == glowsticktwo) {"~No, keep it for a bit,~ the bloke says, sounding amused.";}
      "He ignores your offering."; 
    Kiss: 
      if (acid.taken == 0) {"The trio look very close and hostile to the prospect of being approached in any manner.";}
      "No! What if you get stuck to him?";
  ],
  has static animate transparent;

Person -> girlone "snooty girl"
  with parse_name [;
      if (NextWord() == 'girl' or 'girls') {return 1;}
      if (NextWord() == 'girl' or 'girls') {return 2;}
  ],
  turn 0,
  description [;
    if (self.turn == 0) {self.turn = 1;
      "One of the girls is dressed in latex and, for a female, she looks surprisingly like you. ~Oi, stop staring at my girlfriend's girlfriend,~ the bloke says.^^~Sorry,~ you say.";
    } else {
      self.turn = 0;
      "The other girl is dressed in fur. ~Oi, stop staring at my girlfriend's girlfriend,~ the bloke says.^^~I thought the other one was your girlfriend's girlfriend?~ you ask.^^~She's my girl too,~ the bloke tells you.^^~Fair enough,~ you say. It's all right for some people. ~Sorry.~";
    }
  ],
  orders [;
LookAtMe: "No. Not only is saying ~Look at me~ cliched beyond all reasonable measure, but you don't want to inflict your ghastly countenance on anyone.";
    getlife: "Oh, how you want to say that, but you refrain, knowing you'll instantly receive a far more cutting put-down.";
    GrabYourCoat: "No. You really don't think she'd want to go home with you.";
    GiveMeDrink: "Nah, she doesn't appear to have one.";
    diehard: "~Oh, sod off and die already,~ you say.^^~I'm already dead!~ she says, haughtily. ~Can't you tell?~^^Bloody vampires. Maybe ~get a life~ would have been more appropriate.";
    LookAtThis: if (pinstripetrousers.position == 0) {"Nah, you'd only be told, ~Look at what?~ and you don't need any reminders about your shortcomings in this department.";} "Nah, you don't suppose she'd be impressed by any of your motley collection of possessions. Or anything, for that matter.";
    Give: if (noun == cigarette) {"~Can I have a puff on that?~ you ask.^^~Certainly not,~ one of the girls replies, haughtily. ~We don't know where you've been.~ The other titters.";}
    if (noun == glowsticktwo) {
      if (glowsticktwo in bloke) {move glowsticktwo to player; "~Can I have a go with your glowstick?~ you ask the trio.^^~Sure,~ one of the girls says, handing it to you. Freaky.";}
      else {"~Hey, man, go easy on the acid, we already gave you it,~ she says.";}
    }
    default: if (acid.taken == 0) {"He hums loudly, to indicate he's not listening.";} "You can't seem to get the words out.";
  ],
  life [;
    Ask:
      if (second == 'bastard') "~What should I do with a drunken bastard?~ you ask.^^~Well, it would probably be in your best interest to do what no one else will let you,~ she titters.";
      if (second == 'flier' or 'flyer' or 'burning' or 'kingdoms' or 'projekt' or 'coil') {
        print "~Do you know a place called Burning Kingdoms?~ you ask the one of the girls.";
        if (acid.taken == 0) {"^^~Much as I wish I didn't,~ she replies.";}
        "^^~Yeah, this place is better though,~ she says.";
      }
      if (second == 'glowstick' or 'glow' or 'stick' or 'glowsticks' or 'sticks') {
        if (acid.taken == 0) {"~Have you seen a glowstick lying around anywhere?~ you ask.^^The trio stare at you as if you've just crawled out of a toilet.^^~I'll take that as a no then,~ you say.";}
        if (glowsticktwo in bloke) {move glowsticktwo to player; "~Can I have a go with your glowstick?~ you ask the trio.^^~Sure,~ one of the girls says, handing it to you. Freaky.";}
        "~Does your glowstick change colours too?~ you ask.^^~First trip, huh?~ she replies, smiling at your indulgently.";
      }
      "She ignores you.";
    Tell:
      if (second == 'glowstick' or 'glow' or 'stick' or 'glowsticks' or 'sticks') {
        if (acid.taken == 0) {"~Hey, I've been looking for a glowstick-~ you begin.^^The trio stare at you as if you've just crawled out of a toilet.^^~Never mind,~ you say.";}
        if (glowsticktwo in bloke) {move glowsticktwo to player; "~That's a fine glowstick you've got,~ you say. ~Do you want it?~ she asks and hands it to you. Freaky.";}
        "~Your glowstick is the best!~ you enthuse.^^~First trip, huh?~ one of the girls asks, smiling at your indulgently.";
      }
      if (second == 'flier' or 'flyer' or 'burning' or 'kingdoms' or 'projekt' or 'coil') {
        "~Do you know a place called Burning Kingdoms?~ you ask the one of the girls.^^~Much as I wish I didn't,~ she replies.";
      }
      "She ignores you.";
    Show, Give:
      if (noun == flyer) {"~Hey, do you know this Burning Kingdoms place?~ you ask one of the girls.^^~Much as I wish I didn't,~ she replies.";}
      if (noun == glowstick) {
        if (acid.taken == 0) {"~Put your glowstick AWAY,~ she says, sounding disgusted.";} else {"~No, it's all right, you keep it,~ the bloke says, sounding amused.";}      
      }
      if (noun == glowsticktwo) {"~No, keep it for a bit,~ the bloke says, sounding amused.";}
      "She ignores your offering."; 
    Kiss: 
      if (acid.taken == 0) {"The trio look very close and hostile to the prospect of being approached in any manner.";}
      "No! What if you get stuck to him?";
      ],
  before [;
    Handcuff: if (handcuffs notin player) {"This would be infinitely easier if you had a pair of handcuffs, although it would probably still be infinitely difficult even if you did.";} "~I'm not being handcuffed by anything so cheap,~ she says, sounding disgusted.";
    Shag:
      if (acid.taken == 0) {"No, you somehow doubt he'd let you.";} "No, you can't remember how to. Well, it's not like you've had much practice in the area.";
    Hug:
      if (acid.taken == 0) {"No, the trio look very hostile to being approached in such a way.";} "You try to give her a hug, but your arms pass straight through her.";
  ],
  has scenery animate transparent;

Object -> -> latex "latex"
  with name "latex",
  description "~Like I said,~ says the bloke, ~stop staring.~",
  has scenery static;

Object -> -> fur "fur"
  with name "fur",
  critised 0,
  description "~Like I said,~ says the bloke, ~stop staring.~",
  has static scenery;

Object -> -> cigarette "cigarette"
  with name "cigarette" "fag",
  description "It's an ordinary cigarette, that clearly hasn't been lit for long.",
  has static scenery;

Object -> gothsinks "sinks"
  with name "sink" "sinks" "taps" "tap",
  description "The sinks are painted black! What a novelty!",
  has static scenery;

Object -> gothhanddrier "hand drier"
  with name "hand" "dryer" "drier" "handdrier" "handdryer",
  description "The handdrier is black. How marvellous! You've never seen a black handdrier before!",
  has static scenery;

Place GothCubicle "Cubicle"
with name 'cubicle' 'black' 'electrical' 'tape' 'silver' 'moons' 'and' 'stars',
description "The walls of the cubicle are covered with black electrical tape with silver moons and stars painted on them, which looks funky. Sadly, the floor is not in such a pleasing state. The main section of the room is to the east.",
before [;
  Go: if ((noun == e_obj || noun == out_obj) && handcuffs.victim ~= 0) {move handcuffs.victim to GothToilets;}
],
e_to GothDoorIn, out_to GothDoorIn;

Object -> GothDoorIn "cubicle door"
  with name 'door' 'to' 'toilets' 'cubicle' 'black' 'electrical' 'tape' 'blue' 'girl',
  description "Like the walls, the toilet door is covered in black electrical tape. The door, however, has a blue girl painted on it.",
  before [;
    Rude: "You're only supposed to blow the bloody doors off, not the ones with mere electrical tape on them.";
    Take: "No, that would require far more DIY skill than you possess.";
  ],
  door_to GothToilets,
  door_dir e_to,
  has static scenery door open openable;

Toilet -> GothToilet "toilet"
with name "toilet" "loo" "bog" "lavatory" "latrine",
cleaned 0, flushed 0,
initial "You can see a toilet here.",
description [;
  if (self.cleaned == 0) {"You'd really really rather not look at it too carefully.";} else {"You look lovingly at your handiwork. Apart from on adverts, you don't think you've seen a cleaner toilet.";}
],
before [x;
  Flush: if (child(GothToilet) == nothing) {"You flush the toilet.";} 
         else {if (self.flushed == 0) {print "Well, it worked in ~Day of the Tentacle~. ";} 
               print "You flush the toilet and its contents disappear.^"; while (child(GothToilet)) { x = child(GothToilet); while (sibling(x)) x = sibling(x); move x to DodgyToilet; } rtrue;}
],
has static container open;

Object -> knife "knife"
  with name "knife",
  initial "A knife sits on top of it.",
  description "Apart from the flecks of blood on it, it looks just like the multi-purpose sharp knife your mother gave you when you left home six years ago and haven't seen since. Perhaps this is where it got to...",
  cutter 1;

Place tranceroom "Trance Room"
  with description [;
    print "People who resemble traffic wardens rave to a neverending remix of ~Silence~ by Delerium . . . or is it ~Children~ by Robert Miles . . . or both . . . or neither? Whatever. A staircase leads down to another dancefloor";
    if (dj notin neverneverland) {" and a DJ stands in a corner, spinning tunes . . . or just a tune? Beats, that's the word.";} ".";
  ],
  each_turn [;
    if (cyberbloke.belief == 2) {print "^Cyberbloke comes up to you. ~I'm sorry, mate, I owe you an apology. You've got to admit, it is a bit unbelievable, mind. I swear my glowsticks never used to do that! Anyway, thanks for convincing me, this is amazing! I'm off to dance now, but talk to you later, all right?~^"; cyberbloke.initial = "Cyberbloke is dancing, a big grin on his face."; cyberbloke.belief = 3; give cyberbloke ~scenery; rtrue;}
  ],
  before [;
    Dance: "Nah, this isn't your thing, at all.";
    Go: if (noun == d_obj && handcuffs.victim ~= 0) {move handcuffs.victim to DodgyRoom;}
  ],
  d_to dodgyroom,
  has light;

Music -> TranceRoomMusic "music"
with before [;
  ListenTo: <<listen>>;
];

Object -> djboothtwo "DJ booth"
  with parse_name [x y;
    x = NextWord();
    y = NextWord();
    if (x == 'booth') {return 1;}
    if (x == 'dj' or 'deejay' && y == 'booth') {return 2;}
  ],
  description [;
    if (dj in neverneverland) {
      "You've DJed before at your university's rock night, but you have no idea how use the state-of-the-art mixer in here.";
    } else {
      "A guy you'd be inclined to believe is a complete prat stands in it, spinning the tunes. Or tune, to be more accurate.";
    }
   ],
  before [;
    Receive: "Nah. The DJ probably won't appreciate you leaving your stuff in his booth.";
    Enter: if (dj in tranceroom) "Nah. This booth ain't big enough for the both of you.";
      "You would, but you'd have no idea how to use the state-of-the-art equipment inside, so there's little point.";
  ],
  has static scenery;

Crowd -> TranceCrowd "crowd"
  with name 'crowd' 'people' 'dancers' 'ravers' 'neon' 'clothes' 'clothing' 'dancefloor',
  description "You can just about see a couple of people lost amongst the oddly shaped neon clothes gyrating around the dancefloor.",
  Before [;
    Hug: "You hug a few people. They look puzzled but pleased.";
  ],
  Life [;
    Kiss: "You'd need to be dancing before you could initiate that sort of thing.";
    Ask: "As you lack Jesus's oratory skills, your question goes unheard.";
    Tell: "As you lack Jesus's oratory skills, your statement goes unheard.";
  ],
  has scenery static animate;

Person -> DJ "trance DJ"
  with name 'dj' 'deejay' 'trance', asked 0,
  introduced 0,
  description "With his fashionable clothes, oversized headphones and superfluous knob twiddling, you're not convinced this guy would have been let in if he didn't work here.",
  orders [;
LookAtMe: "No. Not only is saying ~Look at me~ cliched beyond all reasonable measure, but you don't want to inflict your ghastly countenance on anyone.";
    getlife: "~Get a life,~ you say, far enough away from him so he can't hear.^^~You what?~ he asks.^^~Never mind,~ you say. Ha ha! Oh dear, you're childish sometimes.";
    GrabYourCoat: "No. Much as you want to rid the club of his presence, you kind of want to still be there afterwards, rather than, em, getting to know him better. You shudder at the very thought of it.";
    GiveMeDrink: "Nah, he doesn't appear to have one.";
    diehard: "Nah. Eagerly as you await the day the common DJ becomes extinct, you don't suppose any will agree to speed that process up.";
    LookAtThis: "Nah. Even if you had anything you particularly wanted to show him, which you don't, it wouldn't do any good. He's far too self-absorbed to pay attention to a command of that level of complexity.";
    Give: if (noun == headphones) {"~Can I borrow your headphones for a bit?~ you ask.^^~You want a go on the decks, do you?~ the DJ asks. ~Well, you can't just let anyone do it - people pay good money to see big names here tonight, know what I mean? But I'll have to go to the bogs at some point, so stick around and I'll let you have a go then.~";}
    PlayTheFunkyMusic: "~Yeah, that's the aim of the game!~ he agrees, while seemingly not getting the reference.";
    DoubleEntendre: "~Do you want to dance to the music, or would you rather have it off?~ the DJ asks. He laughs, proudly.";
    Kiss, Shag, Hug: 
      if (noun ofclass crowd) {
	  "Nah. Though you'd like to test the DJ's proclaimed love of the punters, you're not particularly keen on seeing the evidence.";
      }
      if (noun has animate && noun hasnt female && noun ~= player) {
      "Nah. Homoerotic displays of affection aren't one of your turn ons.";
    } 
      "Nah. You'd really rather he didn't.";
    default: "He seems to be too busy twiddling his knobs to see you speaking to him.";
  ],
  before [;
    GiveOne: "~Do you want to dance to the music, or would you rather have it off?~ the DJ asks. He laughs, proudly.";
    Handcuff:     if (handcuffs notin player) {"This would be infinitely easier if you had a pair of handcuffs.";} "~Nah, I need all hands on decks here, mate,~ you say. You're rather taken aback by the wittiness of that, even though he's blatantly lying.";
    Shag: "No way! Eau de prat egotisticalle really doesn't turn you on.";

  ],
  life [;
    Tell: switch (second) {
      'song','tune','beats','songs','techno','trance','mix','artist','music': if (cyberbloke.song == 0) {"You're sure he knows more about it than you do.";} if (self.asked == 2) {"~I know what song this is,~ you brag. ~Yeah, yeah, you said,~ he replies.";} else {print "~I know what song it is,~ you brag, and tell him.^^~Right you are,~ he says, ~here's a quid.~^^~Thanks,~ you say. ~Just one thing - if this track lasts for eleven years, what exactly do you need to do?~^^~Well, I've got to change CD every seventy four minutes or so, haven't I?~ he asks. ~But anyway, the punters like to see a face at the decks, know what I mean?~^^You're not convinced YOU like to see his face there, but nod.^^~Well, must get on. Have a wicked night!~ he says.^"; move pound to player; score++; self.asked = 2; give whatsong concealed; rtrue;}
    }
    "You stand in front of the DJ booth, but he doesn't take his headphones off, and your question is met by a, ~What was that, mate?~^^~Never mind,~ you say, and walk away.";
    Give: switch(noun) {
      water: if (self.asked == 2) {move water to neverneverland; score++; move headphones to player; give gettingheadphones concealed; move dj to neverneverland; "~Oh, cheers, mate,~ he says, taking a swig.^^Then he looks agonised. ~I can't remember when I last used a toilet. Take over for a minute will ya?~ He throws you his headphones then sprints downstairs.";} else {"~Oh, cheers, mate,~ he says, ~but I'm not thirsty just yet. Come back in half an hour, eh?~";}
      beer: "~Is that that flavoured water?~ he asks. ~Nah, not my thing, mate, not my thing. Get me some of the tap variety, though, would ya? I could use a spot of that.~";
      absinthe: "~Nah, I prefer my highs in pill form,~ he says.";
      eightiescd: if (eightiescd.fixed == 0) {"~Do you know how to fix this?~ you ask the DJ.^^~Nah, mate, think you've wrecked it,~ he tells you.";} "The last thing you want to do is pollute another room with cheese.";
      kingdom: "~Will you play this?~ you ask.^^~Nah - this tune's going to last til the end of the night and then some. He laughs. But give it here and I'll put it on next week,~ he says.^^~It doesn't matter,~ you say.";
      flyer: if (flyer.writtenon == 0) {"Nah, you can't imagine he'll be interested in nights other than his own.";} "Nah, you can't imagine he'll be impressed by any celebrity other than himself.";
    }

    Kiss: "No way! Eau de prat egotisticalle really doesn't turn you on.";
    Ask: switch (second) {
      'bastard': "~What should I do with a drunken bastard?~ you ask.^^~Ahhhh, that's coming right up!~ he promises, and sure enough, a happy hardcore remix of ~November Rain~ does seem to be seguing into ~What Shall We Do With A Drunken Sailor?~ only with different lyrics.";
    'song','tune','beats','songs','techno','trance','djing','dj','mix','artist','music': print "You stand in front of the DJ booth until he takes his headphones off and asks, ~Awright, mate?~^^";
    if (cyberbloke.song == 0) {
      self.asked = 1; give whatsong ~concealed; "~What's the song?~ you ask.^^~Ah ah ah, you tell me,~ he laughs.^^~Well,~ you say, ~that sounded like you were fading from 'Higher State Of Consciousness' by Josh Wink to 'Faithless' by Insomnia. Or is it 'Insomnia' by Faithless? I dunno, I'm just a metalhead. But it sounded just like 'I Was Made For Lovin' You' for a moment.~^^He smirks. ~Right,~ he says. ~On all counts. But what's the mix? And who's it by? If you get it right, I'll give you a quid.~";}
    else { 
      if (self.asked == 2) {"~What song is this?~ you ask.^^~What are you on about?~ he replies. ~You know as well as I do.~";}
      if (self.asked == 0) {print "~Like the tune,~ you say.^^~Ah, but do you know what it is?~ he asks. ~I'll give you a quid if you do.~^^~Yup,~ you say, ";}
      else {print "~I know what song it is,~ you brag, ";}
      print "and tell him.^^~Right you are,~ he says, and gives you a pound.^^~Thanks,~ you say. ~Just one thing - if this track lasts for eleven years, what exactly do you need to do?~^^~Well, I've got to change CD every seventy four minutes or so, haven't I?~ he asks. ~But anyway, the punters like to see a face at the decks, know what I mean?~^^You're not convinced YOU like to see his face there, but nod.^^~Well, must get on. Have a wicked night!~ he says.^"; move pound to player; score++; self.asked = 2; give whatsong concealed; rtrue;
    }
    'drink','water','beer': "~Do you want anything to drink?~ you ask. ~Oh, yeah, mate, if you could get me a glass of water, that'd be wicked,~ he says.";
    'glowstick','glow','stick','glowsticks','sticks': "~Have you seen a glowstick lying around anywhere?~ you ask.^^He takes his headphones off. ~What was that? Glowsticks? Yeah, wicked, int they?~ He puts them back on.";
    'drugs', 'pot', 'ecstasy', 'acid', 'lsd', 'coke', 'cocaine', 'heroin', 'speed', 'glue', 'absinthe': "On second thoughts, perhaps it's best not to ask people who work here about drugs.";
    'name','self','himself': "~What's your name?~ you ask.^^~You mean to say, you don't know who I am? I'm DJ ParanoidSchizophrenicBeatsBeatsBeats, one of the biggest names in the business.~^^You're forced to agree, that is a pretty big name.";
    }
    "You stand in front of the DJ booth, but he doesn't take his headphones off, and your question is met by a, ~What was that, mate?~^^~Never mind,~ you say, and walk away.";
  ],
  has animate transparent scenery static;

Object -> -> headphones "headphones"
  with name "headphones" "head" "phones",
  article "a pair of",
  description "A pair of industrial strength headphones, guaranteed to prevent the wearer from hearing anything.",
  before [;
    Wear: if (player in eightiesroom && safetypin hasnt scenery && kingdom.playing == 0) {"You're already wearing them.";} "Nah; you feel they'd rather spoil the clubbing experience.";
    Disrobe: if (location == eightiesroom && safetypin hasnt scenery && kingdom.playing == 0) {"No! You're too frightened!";}
  ],
  has clothing pluralname;

Object -> trancestairs "stairs"
  with name "stairs" "stair" "staircase" "steps" "case",
  description "The steps seem to consist solely of glowing air, don't seem to be connected to anything, and vanish if you look at them the wrong way. Trippy. Literally.",
  before [;
    Enter: <<go d_obj>>;
  ]
  has scenery static;

Place dodgyroom "Fetish Room"
  with description "This room seems to have more to do with depravity than the music. Beneath the red lights, people are practically shagging on the scarlet leather sofas, while others, sometimes of indeterminate gender, pole dance in stockings and rubbers corsets. A staircase leads up to another dancefloor, the men's toilets are to the north, and the women's to the south.",
  before [;
    Dance: "Nah, you wouldn't have a clue how to.";
    Go: if (noun == n_obj) {
      if (handcuffs.victim == woman) {"~Hey hey hey,~ the woman says. ~I'm not going in there. Last time I did that, by the time I'd left, I'd been persuaded to take part in a weird fertility ritual involving scorpions.~";}
if (girl.dance == 3 || handcuffs.victim == girl) {"~Hey!~ the girl protests. ~I'm not going in the men's toilets!~^^~But it's full of women,~ you tell her.^^~Exactly,~ she says. ~They get all arsey because I'm younger and prettier than them and listen to metal.~";}
      if (handcuffs.victim == dancer) {move dancer to menstoilets; PlayerTo(menstoilets); rtrue;}
      "You walk into the men's, but it's full of girls, who start laughing at you. You try to explain that you're just looking for your missing glowstick, but your protests only makes them laugh harder. You leave again. You hate goths sometimes.";}
     if (noun == u_obj && handcuffs.victim ~= 0) {move handcuffs.victim to tranceroom;}
     if (noun == s_obj && boots.height == 11 && punktoiletcrowd.help == 1) {"You're too tall to fit through the door!";}
     if (noun == s_obj && handcuffs.victim ~= 0) {move handcuffs.victim to dodgytoilets;}
  ],
  n_to menstoilets,
  u_to tranceroom,
  s_to DodgyToilets;

Music -> DodgyRoomMusic "music"
with before [;
  ListenTo: <<listen>>;
];

Object -> cage "cage"
  with name 'cage' 'itself',
  description "The cage is large enough for a couple of people to dance inside.",
  before [;
    Enter: "No, you wouldn't have a clue what to do in there.";
  ],
  has static scenery openable open;

Crowd -> DodgyCrowd "crowd"
  with name 'crowd' 'people' 'dancers' 'dancefloor' 'couples' 'red' 'lights' 'sofas' 'leather' 'stockings' 'rubber' 'corsets',
  description "You'd rather not. Whichever way you avert your gaze, you see something that most people would rather keep to the privacy of their bedrooms, and you feel all hot and bothered.",
  before [;
    Hug: "You don't think they're the hugging type.";
    Shag: "";
  ],
  Life [;
    Kiss: "Eh, you would, but you're worried about what it might lead to.";
    Ask: "As you lack Jesus's oratory skills, your question goes unheard.";
    Tell: "As you lack Jesus's oratory skills, your statement goes unheard.";
  ],
  has scenery static animate;

Object -> bar "bar"
  with name "bar" "sign",
  description "The bar appears to be stocked only with water and . . . flavoured water. Above it, a sign proclaims, ~3-4am is unhappy hour~.",
  before [;
    Climb: "You don't think the bartender would particularly appreciate you doing that.";
  ],
  has static scenery;

Person -> faith "bartender"
  with name "bartender" "barmaid" "barstaff" "girl" "bored" "looking" "bored-looking" "faith",
  initial "A bored-looking girl stands behind a bar.",
  introduced 0,
  description "Has it become politically incorrect to call a female working behind a bar a barmaid? Whatever she's called, she looks cute, bored and too young to drink. She is wearing a nametag that says her name's Faith.",
  orders [;
DoubleEntendre: "She gives you one.";
LookAtMe: "No. Not only is saying ~Look at me~ cliched beyond all reasonable measure, but you don't want to inflict your ghastly countenance on anyone.";
    getlife: "Nah, she already appears to have one. Certainly more of one than you do, not that that's saying much.";
    GrabYourCoat: "Futile. The answer would be no, not least because she's clearly supposed to be working here, but also because you're really not attractive enough to pull anyone without at least a bit of chat first. And most likely not even then.";
    diehard: "No; the world may be overpopulated, but as far as you're concerned, there can never be too many bartenders in it.";
    LookAtThis: if (pinstripetrousers.position == 0) {"She's staring at you as it is.";} "Nah, you don't have anything to show her that can't be achieved with the command SHOW (ITEM) TO BARTENDER.";
    GiveMeDrink: <<getdrink>>;
    default: "~You what, sorry?~ she asks.";
  ],
  life [;
    Ask: switch (second) {
      'drink','beer','pint','shot','lager','vodka','water','flavoured': <<getdrink>>;      'glowstick','glow','stick','glowsticks': "~Have you seen my other glowstick?~ you ask.^^~I've seen lots of glowsticks,~ she says. ~I don't know about yours, though.~";
      'drugs', 'pot', 'ecstasy', 'acid', 'lsd', 'coke', 'cocaine', 'heroin', 'speed', 'glue', 'absinthe': "Of all the bad ideas you've had, asking a club employee about drugs doesn't register particularly highly on the stupid scale, but you can't say it's one of your better ones either.";
      'club', 'job', 'work', 'cleaning': 
        print "~How did you end up working here?~ you ask.^^~I was working as a waitress in a cocktail bar,~ she quotes. ~Then one of the customers asked if I wanted a change, and offered me this. Why, you want to be co-workers? The cleaning supplies are in the cupboard under the stairs.~ You assure her no offence but no. The mere thought of housework makes you come out in a rash.^"; cloakroomattendant.cupboard = 1; rtrue;
      'bastard': if (second == 'bastard') "~What should I do with a drunken bastard?~ you ask.^^~If he's giving you any trouble, just find the security guard,~ she says. ~My bloke,~ she adds.";
      }
      "~Sorry, what was that?~ she asks. Clearly, working here has impaired her hearing sufficiently so that she can only hear things that sound like drink names.";
    Give: if (noun == pound) {<<GetDrink>>;}
      if (noun == flyer) {if (flyer.writtenon == 0) {"No, you expect she has enough of goth nights working here.";} "~Here, this'll make you a mint in a few weeks' time,~ you say.^^~Nah, I'll just lose it,~ she says.";}
  ],
  before [;
    Hug: "The bar prevents you from doing so.";
    Handcuff: if (handcuffs notin player) {"This would be infinitely easier if you had a pair of handcuffs.";} "~And how do you expect me to serve drinks while I'm handcuffed to you?~ the bartender asks.^^~Single handedly?~ you suggest. ~You seem to be doing ok that way.~";
  ],
  has female animate transparent;

Object -> -> Nametag "nametag"
  with name "nametag" "name" "tag",
  description "The background consists of brightly coloured blobs, and the word 'Faith' is written in an Arial font.";

Object -> dodgystairs "stairs"
  with name "stairs" "stair" "staircase" "case" "steps",
  description "You try to examine the stairs, but you keep getting distracted by women wearing scraps of black PVC.",
  before [;
    Enter: <<go u_obj>>;
  ],
  has static scenery;

Person -> dancer "dancer"
  with name "dancer" "dancing" "woman" "fiona" "cage" "in" "a",
  introduced 0, handcuffed 0, kissed 0,
  initial "A woman dancing in a cage appears to be eyeing you up, but that can't be right.",
  description "She's some years older than you, but hasn't lost her looks in any way. She's wearing a pin-striped skirt and a corset, with a long-sleeved black blouse and scarlet tie tucked into it. On her feet are the almost ubiquitous black stockings and big boots.",
  after [;
    Handcuff: 
      if (handcuffs notin player) {"This would be infinitely easier if you had a pair of handcuffs.";}
      if (cyberbloke.satisfied == 0) {move cyberbloke to dodgyroom; "At the sign of the proferred handcuff, the woman holds out her wrist, but before you can put it on, cyberbloke comes up to you. ~To paraphrase The Darkness, get your hands off my woman, you git,~ he says. ~No offence or anything. But if you're going to nick my partner, you could at least give me yours first.~^^~Sorry,~ you say. ~I'm not used to these places.~^^~No worries,~ he smiles, returning to the outskirts of the depravity.";}
   else {         if (handcuffs.victim == dancer) {"You're already handcuffed to her.";}
handcuffs.victim = dancer; self.handcuffed = 1; self.initial = "The cage dancer stands beside you."; "You handcuff the cage dancer.";}
  ],
  orders [j;
LookAtMe: "No. Not only is saying ~Look at me~ cliched beyond all reasonable measure, but you don't want to inflict your ghastly countenance on anyone.";
    GrabYourCoat: if (self.kissed == 0) {"No. You're too frightened of failure.";} "Nah, she wouldn't agree.";
    getlife: "~Ah, grow up and act your age,~ you tell her, silently. But you don't say it, as you don't mean it; while she's fit, she can keep up the cage-dancing as long as she likes, as far as you're concerned.";
    GiveMeDrink: "Nah, she doesn't appear to have one.";
    diehard: "No. She seems to like you, and such people are so few and far between that you've no desire to diminish their livelihood.";
    LookAtThis: if (pinstripetrousers.position == 0) {"Nah. For some strange reason, you suspect it's nothing she hasn't seen before. Perhaps she hasn't seen anything quite so microscopic before, but you'd rather keep it that way.";} "Nah, you don't have anything you can show her that can't be achieved by the comman SHOW (ITEM) TO DANCER.";
    Goodbye: if (handcuffs.victim == dancer) {"You can't get rid of her that easily.";} else {"~See you later,~ you say.^^~Bye,~ she says, with a grin. Why the grin? Women frighten you sometimes. Quite often, in fact.";}
    Dance: if (handcuffs.victim ~= dancer) {"She's dancing already.";} else {"Seemingly social customs have altered to make that form of courtship somewhat outdated.";}
    Follow:
      if (noun == player) { 
        if (handcuffs.victim == dancer) {
          "~I'm following,~ she smiles.";
        }
      }
    Go:
      j = 0;
      if (handcuffs.victim == dancer) {
        switch (location) {
          industrialroom:
            switch (noun) {
              u_obj: j = 1;
              d_obj: j = punkroom;
            }
          ebmroom:
		switch (noun) {
		  u_obj: j = 1;
              d_obj: j = eightiesroom;
            }
          metalroom:
		switch (noun) {
              u_obj: j = 1;
              d_obj: j = gothroom;
            }
          tranceroom:
            switch (noun) {
              u_obj: j = 1;
              d_obj: j = dodgyroom;
            }
          punkroom:
            switch (noun) {
              u_obj: j = industrialroom;
              d_obj: j = 2;
              n_obj: j = menstoilets;
              s_obj: j = punktoilets;
            }
          eightiesroom:
		switch (noun) {
              u_obj: j = ebmroom;
              d_obj: j = 2;
              n_obj: j = menstoilets;
              s_obj: j = eightiestoilets;
            }
          gothroom:
		switch (noun) {
              u_obj: j = metalroom;
              d_obj: j = 2;
              n_obj: j = menstoilets;
              s_obj: j = gothtoilets;
            }
          dodgyroom:
		switch (noun) {
              u_obj: j = tranceroom;
              d_obj: j = 2;
              n_obj: j = menstoilets;
              s_obj: j = dodgytoilets;
            }
          punktoilets:
            switch (noun) {
              u_obj: j = 1;
              d_obj: j = 2;
              n_obj, out_obj: j = punkroom;
		  w_obj, in_obj: j = punkcubicle;
            }
	    eightiestoilets:
		switch (noun) {
              u_obj: j = 1;
              d_obj: j = 2;
              n_obj, out_obj: j = eightiesroom;
		  w_obj, in_obj: j = eightiescubicle;
            }
	    gothtoilets:
		switch (noun) {
              u_obj: j = 1;
              d_obj: j = 2;
              n_obj, out_obj: j = gothroom;
		  w_obj, in_obj: j = gothcubicle;
            }
	    dodgytoilets:
		switch (noun) {
              u_obj: j = 1;
              d_obj: j = 2;
              n_obj, out_obj: j = dodgyroom;
		  w_obj, in_obj: j = dodgycubicle;
            }
          punkcubicle:
		switch (noun) {
              u_obj: j = 1;
              d_obj: j = 2;
              e_obj, out_obj: j = punktoilets;
            }
	    eightiescubicle:
		switch (noun) {
              u_obj: j = 1;
              d_obj: j = 2;
              e_obj, out_obj: j = eightiestoilets;
            }
	    gothcubicle:
		switch (noun) {
              u_obj: j = 1;
              d_obj: j = 2;
              e_obj, out_obj: j = gothtoilets;
            }
	    dodgycubicle:
		switch (noun) {
              u_obj: j = 1;
              d_obj: j = 2;
              e_obj, out_obj: j = dodgytoilets;
            }
          menstoilets:
		switch (noun) {
              u_obj: j = 1;
              d_obj: j = 2;
              s_obj, out_obj: j = dodgyroom;
            }
        }
        if (j == 1) {
          "~Nah,~ she says, ~I think the bouncers might get a bit annoyed if I started making holes in the ceiling.~";
        }
        if (j == 0) { 
          "~Amazing as I am, I can't walk through walls,~ she informs you.";
        }
        print "~As you desire,~ she says.^";
        move dancer to j;
        PlayerTo(j);
        rtrue;
      } else {"~You'll have to enslave me before I follow your commands,~ she says.";}        
    Horns, Metal: "Your greeting is returned with a delighted ~Metaaaaal!!!~";
    default: "She grins at you, indicating she didn't hear.";
  ],
  life [;
    Kiss: if (handcuffs.victim == dancer) {self.kissed = 1; "~Er, can I kiss you?~ you ask.^^She laughs. ~You're so sweet. But no, I only snog other women and gay men. And my partner, of course.~^^~I'm gay!~ you protest.^^~Yeah right,~ she smiles.^^~Ok, I'm not, but I'm really a woman!~^^~Nice try,~ she says, giving you a peck on the cheek, but THAT doesn't count.^^Gah! It's so unfair! Then again, you don't suppose Robot's girlfriend would be too happy to know her partner got to get off with other women every time he went into his room.^^Then again, this place seems to recognise it's you here and not him - ah, but you've already seen with your blackened eye he doesn't seem to feel any obligation to be nice to you in it. Still. Gah.";}
    Ask, Tell: 
    switch(second) {
      'bastard': "~What should I do with a drunken bastard?~ you ask.^^~Whatever you like, as long as I can watch,~ she says.";
      'glowstick','glow','stick','glowsticks': "~Have you seen my other glowstick?~ you ask.^^~Is that supposed to be a chat up line?~ she asks. ~If so, it's really bad.~^^~No, I really have misplaced it,~ you say.^^~Oh, sorry,~ she says, ~but no.~";
      'herself','self','name': if (self.introduced == 0) {self.introduced = 1; "~What's your name?~ you ask.^^~Fiona,~ she replies.^^~I'm Dave,~ you say, shaking her hand.";} else {"You can't think of anything to ask her about. You're always tongue-tied around women.";}
    }
    if (handcuffs.victim == dancer) {
      switch(second) {
      'cyberbloke','cyber','bloke','steve': "~Do you and, er, cyberbloke have, er, an open relationship then?~ you ask.^^~Not really,~ she says. ~We don't sleep with other people, we just do some other stuff.~";
      }
      "~Is this what you handcuffed me for, to chat?~ she asks.^^~Oh, er, no,~ you tell her.";
    } "She seems more interested in dancing than talking.";
    Give, Show: 
      if (noun == glowstick) {"She takes hold of your glowstick and plays with it a bit.";}
      if (noun == flyer) {if (flyer.writtenon == 0) {"~I've already got one,~ she says, taking one out of her corset to show you.";} "~Here, this'll make you a mint in a few weeks' time,~ you say.^^~Nah, I've already got one,~ she says, taking a flyer out of her corset to show you. ~Ah, but that one doesn't have my autograph on,~ you say.^^~Yes it does.~ She shows you, and indeed it does. When did you sign that? Or do you have an impersonator? Freaky.";}
  ],
  has animate female transparent;

Object -> -> dancerclothes "dancer's clothes"
  with name "pin-striped" "skirt" "corset" "long-sleeved" "black" "blouse" "scarlet" "tie" "stockings" "big" "boots" "dancer^s" "clothes",
  description "You've never seen an ensemble quite like it before, but you approve.",
  cuttable 1,
  before [;
    Take: "Sadly, you lack the confidence to do so.";
    Cut: if (second == knife or razorblade) {"Nah, you don't think the dancer would appreciate that, somehow.";}
  ],
  has static scenery;

Place DodgyToilets "Ladies' Toilets"
  with description "This place is mostly full of blokes, but some have girls on collars and vice versa. Most of them are busy having sex and taking drugs. A dancefloor lies to the north and an unoccupied cubicle lies to the west.",
  before [;
    Go: if ((noun == n_obj || noun == out_obj) && boots.height == 11 && punktoiletcrowd.help == 1) {"You're too tall to fit through the door!";}
    if ((noun == n_obj || noun == out_obj) && handcuffs.victim ~= 0) {move handcuffs.victim to dodgyroom;}
    if ((noun == w_obj || noun == in_obj) && handcuffs.victim ~= 0) {move handcuffs.victim to dodgycubicle;}
  ],
  n_to DodgyRoom, out_to DodgyRoom,
  w_to DodgyDoorOut, in_to DodgyDoorOut;

Object -> dodgycubicles "cubicles"
  with name "cubicles" "cubicle",
  description "All the cubicles but one are occupied and judging from the panting and moaning you can hear from within them, you suspect they may be for some time.",
  before [;
    if (acid.taken == 1) {"No! There might be some invisible people in there!";}
    Enter: if (handcuffs.victim ~= 0) move handcuffs.victim to punkcubicle; PlayerTo(dodgycubicle); rtrue;
  ],
has static scenery;

Object -> dodgysinks "sinks"
  with name "sink" "sinks",
  description "You'd rather not. People are licking the plugholes.",
  has static scenery;

Object -> dodgydrier "hand drier"
  with name "hand" "dryer" "drier" "handdrier" "handdryer",
  description "A girl is licking the spout in a suggestive fashion.",
  has static scenery;

Object -> DodgyDoorOut "cubicle door"
  with name 'door' 'to' 'cubicle' 'red' 'leather' 'cushioning',
  description "The door is covered with red leather cushioning.",
  before [;
    Rude: "You're only supposed to blow the bloody doors off, not the ones with mere red leather cushioning on them.";
    Take: "No, that would require far more DIY skill than you possess.";
  ],
  door_to DodgyCubicle,
  door_dir w_to,
  has static scenery door open openable;


Crowd -> DodgyToiletCrowd "crowd"
  with name 'crowd' 'people' 'blokes' 'men' 'girls' 'drugs' 'sex',
  description "You'd rather not. Whichever way you avert your gaze, you see something that most people would rather keep to the privacy of their bedrooms, and you feel all hot and bothered.",
  before [;
    Hug: "You don't think they're the hugging type, somehow.";
  ],
  Life [;
    Kiss: "Eh, you would, but you're worried about what it might lead to.";
    Ask: "As you lack Jesus's oratory skills, your question goes unheard.";
    Tell: "As you lack Jesus's oratory skills, your statement goes unheard.";
  ],
  has scenery static animate;

Place DodgyCubicle "Cubicle"
with description "The walls are covered with black leather, which looks funky. Sadly, the floor is not in such a pleasing state. The main section of the room is to the east.",
  before [;
    Go: if ((noun == e_obj || noun == out_obj) && gel in player) {print "As you walk out of the cubicle, a bloke notices you carrying the gel. ~Ah, that's where my gel went,~ he says. ~Cheers mate,~ he says. He takes it off you and drags a girl into the cubicle. Thumping sounds emerge from within it. Hairdressing has certainly become a more violent business in recent years.^^Two blokes vacate another cubicle, looking happier than most goths do, and return to the dancefloor.^"; move gel to DodgyCubicle; if (handcuffs.victim ~= 0) move handcuffs.victim to dodgytoilets;}
        if ((noun == e_obj || noun == out_obj) && handcuffs.victim ~= 0) {move handcuffs.victim to DodgyToilets;}
  ],
e_to DodgyDoorIn, out_to DodgyDoorIn;

Object -> DodgyWalls "walls"
  with name "walls" "leather",
  description "The walls are covered with black leather, which looks funky, if slightly damp - and you don't really want to think about why.",
  has static scenery;

Object -> DodgyDoorIn "cubicle door"
  with name 'door' 'to' 'toilets' 'cubicle' 'studs' 'spike' 'spikes' 'metal' 'black' 'leather',
  description "The door is covered with black leather, and also home to thousands of small metal studs, and the odd spike or two. You don't want to think about why.",
  before [;
    Rude: "You're only supposed to blow the bloody doors off, and although there's a bit of blood on some of the spikes, not on the door itself.";
    Take: "No, that would require far more DIY skill than you possess.";
  ],
  door_to DodgyToilets,
  door_dir e_to,
  has static scenery door open openable;

Toilet -> DodgyToilet "toilet"
with name "toilet" "loo" "bog" "lavatory" "latrine",
cleaned 0, flushed 0,
initial "You can see a toilet.",
description [;
  if (self.cleaned == 0) {"You'd really really rather not look at it too carefully.";} else {"You look lovingly at your handiwork. Apart from on adverts, you don't think you've seen a cleaner toilet.";}
           if (self.cleaned == 1 && noun == glowstick) {"Nah. What if the toilet ate it? That wouldn't do!";}
],
before [x;
  Flush: if (child(DodgyToilet) == nothing) {"You flush the toilet.";} 
         else {if (self.flushed == 0) {print "Well, it worked in ~Day of the Tentacle~. ";} 
               print "You flush the toilet and its contents disappear.^"; while (child(DodgyToilet)) { x = child(DodgyToilet); while (sibling(x)) x = sibling(x); move x to PunkToilet; } rtrue;}
],
has static container open;

Object -> Gel "tube of gel"
with name "gel" "tube" "of",
initial "A tube of gel sits on top of it.",
description "The tube is clear and plastic, and claims to contain ~Netto's Own Multipurpose Gel~, which is Colgate-blue.",
before [;
  Wear: "You squirt some on your head, try to fashion your hair into a mohawk, and fail miserably. Hmm, you could do with some expert advice here.";
  PutOn: "You squirt some on your head, try to fashion your hair into a mohawk, and fail miserably. Hmm, you could do with some expert advice here.";
  ThrowOver: if (second == dodgydoorin) {"Nah. You realise that even if it doesn't hit someone, someone will probably claim it as theirs.";}
  Eat: if (location == dodgycubicle) {"Ah yes, that would be a good way of getting the gel out of here undetected. You don't think you could swallow the tube whole, though.";}
  Insert, HideInSommat: if (second == bastard or player) {"Ah yes, that would be a good way of getting the gel out of here undetected, were there a large enough cavity, but there isn't.";}
    if (second == dms) {"You put the tube in one of the shoes, but it remains clearly visible, so you take it out again. Darn.";}
    if (second == boots) {"It won't fit in there.";}
    if (second == pinstripetrousers) {"You try holding the gel within your trousers, but it's so noticeable you remove it again.";}
    if (second == meshtop or anarchyshirt) {"You try holding the gel within your shirt, but it's so noticeable you remove it again.";}
    if (second == jacket) {"None of the pockets are quite large enough to contain it. Darn.";}
];

Place menstoilets "Men's Toilets"
  with description "This place is occupied by girls and women from all sections of the nightclub. There's a few men here, but they seem to be objects of public humiliation, as the women laugh at their behaviour, physical make-up and very existence. The amount of oestrogen is almost unbearable. All the cubicles are occupied and the relative sanctuary of the fetish room lies to the south.",
  before [;
    Go:
      if (securityguard in location) {"~Don't you be trying to get away now, son,~ the guard warns you in a low voice. ~I've had it with you.~";} 
      if (((noun == s_obj || noun == out_obj) && acid.taken == 0) && handcuffs.victim ~= 0) {move handcuffs.victim to dodgyroom;}
  ],
  s_to DodgyRoom,
  has light;

Object -> MensToiletCrowd "crowd"
  with name 'crowd' 'people' 'women',
  description "If they'd all shut up, you'd be thrilled to be offered such a range of eye-candy. As it is, the sight of them is truly terrifying.",
  before [;
    Hug: "Nah. They'd think you were trying to grope them.";
    Shag: "And get done for rape? No thanks!";
  ],
  Life [;
    Kiss: "Nah. You don't particularly want a black eye.";
    Ask: "As you lack Jesus's oratory skills, your question goes unheard.";
    Tell: "As you lack Jesus's oratory skills, your statement goes unheard.";
  ],
  has scenery static animate;

Object -> menscubicles "cubicles"
  with name "cubicles" "cubicle",
  description "All the cubicles are occupied and judging from the panting and moaning you can hear from within them, you suspect they may be for some time.",
  before [;
    Enter: 
    "They're all occupied.";
  ],
has static scenery;

Object -> tap "tap"
  with name "tap" "faucet" "bone" "spine" "spinal",
  description "The tap is shaped like a bone - a spine in fact, making it - yes - a spinal tap. You groan. Robot has a surprisingly terrible sense of humour for a mopey rivethead.",
  before [;
    Turn: "You turn on the tap. Water gushes out. Pleased to see that some laws of the universe are operating as normal around here, you turn the tap off again, before some woman accuses you of being wasteful.";
  ],
  has static scenery;

Object -> Acid "tab of acid"
  with name "lsd" "acid" "tab" "of", taken 0,
  initial "Behind a tap sits a tab of acid.",
  description "It has a little frowny face on it.",
  before [;
    Drink: "It's not that sort of acid, dude!";
    Take, Eat: glowstick.colour = 4; give moving ~concealed; give whereisit ~concealed; move acid to neverneverland; self.taken = 1; bloke.initial = "Two girls and a bloke are taking it in turns to suck suggestively on a pink glowstick."; move glowsticktwo to bloke; move cigarette to neverneverland; "Other than socially smoked weed, you've never done drugs before, and never had any intention of doing so. You get happy, paranoid, irritating and wasted enough with alcohol, and your life's certainly bizarre enough as it is: just this morning you found an escaped convict living in your attic. Still, you've always been slightly curious about the hard stuff, and here's your chance to do it safely. Well, you think it's safely. If the police suddenly barge in you won't be impressed: if this is Robot's idea of a night out, you'd hate to see what his idea of a prison is.^^You're not quite sure how best to take acid, but you reckon eating it must work. And indeed it does. In the words of fanboy, everything suddenly goes cosmic.";
  ],
  has edible;

Menu amusing_menu "Amusing menu";

Object -> "Amusing things to do"
with description
  "Yeah right. Who am I to suggest this game is amusing? Still, I am rather pleased by the fact that the following commands are met with meaningful responses:
^^
ASK PERSON FOR DOUBLE ENTENDRE (most people give the same reply, but there's a few different possibilities)
^ENTER TOILET
^EAT GLOWSTICK
^FEED GLOWSTICK TO BASTARD
^TOUCH AUTHOR
^BLOW DOOR OFF (infinitely more logical if you've seen ~The Italian Job~)
^^
EXAMINE BLOOD (after being beaten up by the bastard) gives you the token Monty Python reference. EXAMINE SELF pays homage to ~Angband~ (a pursuit on which I wasted far too much of my youth), with a ~Monkey Island~ reference thrown in for good measure.
^^
As for all the less obvious bands apologised to:
^^
Alice Cooper: Try breaking the chain.
^And One: Try dancing in the industrial room while on acid with one or no glowsticks.
^Black Tape For A Blue Girl: See the inside of the door to cubicle in the goth toilets. 
^The Cure: If you ask cyberbloke about Burning Kingdoms, you'll learn that it's on Fascination Street. (Off Detonation Boulevard, no less.)
^The Darkness: Not only does touching anyone female (except Faith), or trying to handcuff Faith produce a reference, but have you tried leaving your glowstick in another room?
^Depeche Mode: The bartender is called Faith. Thus, TOUCH FAITH.
^Human League: ASK FAITH ABOUT JOB.
^Magazine: If you try asking the vicious-looking punk about pretty much anything, the other guy makes a reference to their song ~Shot By Both Sides~.
^Megadeth: Well, what if the player typed INTRODUCE SELF TO SELF for whatever obscure reason?
^The Smiths: Apart from HANG DJ and ASK ATTENDANT ABOUT JOB, the young nu-metal vixen is called Sheila. So, SHEILA, TAKE A BOW.
^Rage Against The Machine: VIXEN, JUMP.
^Spinal Tap: EXAMINE TAP in the men's toilets.
^System Of A Down: JUMP.
^Type O Negative: Not only are the snooty goths a shameless reference to the lyrics of ~My Girlfriend's Girlfriend~, but EXAMINE GLUE yields another. 
^^As to the meaning of the overly cryptic hint, ~Sick of this puzzle? You'll wish you had the cure~? The best known song on The Cure album ~Wish~, ~Friday I'm In Love~, contains the line ~See your shoes and your spirits rise.~^^
Possibly the worst pun in the game results from WASH SELF in the goth toilets.
^^There are obviously loads of other ~easter eggs~ kicking around (including a veiled reference to York's finest goth band, Screaming Banshee Aircrew), but listing them could take forever. But, for those of you who've played this game far too much, yes, the cloakroom attendant and bartender are both going out with the security guard. Are they aware of his two-timing? Find out in the next one!";

Object -> "The club rocks! Is it real?"
with description "Yep, there really is a place where you can change rooms by changing the colour of your glowstick.^^No, while bits of Slimelight in London and The Wendyhouse in Leeds have got into this, I've yet to find anywhere that really resembles the way the rooms look and sound in my mind.^^Looking back, though, there really should have been a band on in the punk room.";

Object -> "Text adventures rock! How can I write one? Is it difficult?"
with description "If you want to write one in Inform (the language this is written in, designed especially for the creation of text adventures), you can find out about doing so at http://www.inform7.com. There are some other good languages to write them in, though, including TADS and Adrift, and I guess you could write them in pretty much anything.^^As for how difficult it is, knowledge of programming helps, but isn't essential. I found it easy in general, but got completely stuck at other points.";

Object -> "What inspired you to make this game? How long did it take to write?"
with description "I've been playing text adventures off and on since I was five years old and I've always wanted to write one. I had a few tries over the years, but my lack of programming knowledge, patience and convenient languages in which to write text adventures always put an early end to my efforts.^^However, in early 2004 I felt the urge to play some text adventures, for the first time in years, and the old desire to write came back. What can I make a game about? I wondered. I need a quest. And, at once, the quest to get a rock band from their living room to a stadium jumped into my head. By this time, I knew vaguely how to program in C, so I set about writing said game in said language, but this quickly proved to be a thankless task, and, on others' recommendations, I had another look at Inform, bashed my head against the monitor a lot, and eventually, suddenly, it all made sense.^^I couldn't be bothered working through many exercises, so I decided to just start making the game and learn as I went along. But it became big and complex and I thought, ~This is going to take forever . . . but there are subgames within it. Why don't I make a subgame first as practise, release that and get some feedback on it, before wading into the game in earnest?~^^And so I began writing my tiny little subgame in April 2004. (I haven't a clue where any of the ideas for that itself came from, though - I just asked myself, ~What do you normally find in goth clubs?~ and the puzzles almost created themselves.) I thought the source file would be about 32K in size and I'd get it done in a couple of days.^^400K and six months later . . .^^As for how long it actually took, I did put some serious hours in on perhaps a quarter of those days, but:^^1) I was teaching myself the language as I went and I had a couple of tiny problems that took a ridiculous amount of time to solve.^^2) By no means did I work at it constantly, due to working more than full-time, and spending much other time visiting friends, sightseeing, travelling, reading, sleeping, playing other games, having Big Life Crises (tm) and working on other creative ventures (including some other games).^^3. I made meaningful responses to a lot of totally unlikely commands, such as MAKE CAKE, PLAY THAT FUNKY MUSIC WHITE BOY, REMEMBER YOU'RE A WOMBLE and LISTEN TO THE FLOWER PEOPLE, which nobody could argue was strictly necessary...";

Menu    main_menu "Main menu";

Object	-> "All about the game and how you play it"
 with 	description "To explore the sordid little world you're trapped in and complete the game, you'll need to move around, examine things, pick them up, give them to people, talk to people, and so forth.^^Commands should be typed ~verb~ (e.g. GO NORTH, WAIT), ~verb noun~ (e.g. TAKE FLYER, EXAMINE PEOPLE), ~verb preposition noun~ (e.g. CLIMB OVER DOOR, GET IN TOILET) or ~verb noun preposition noun~ (e.g. ASK PUNK ABOUT SONG, GIVE GLOWSTICK TO ATTENDANT). You can also order people around by typing ~person, do thing~.^^Directions can be abbreviated to N, S, E, W, U and D (there's no daft directions like NE and ~in~ in this game), examine can be abbreviated to X and wait to can be typed as Z. Useful commands to know are I (or INVENTORY), L (or LOOK) which describes your surroundings, G which repeats the previous command, VERBOSE which gives you full description of a room whenever you enter it, BRIEF which does the opposite, SAVE, RESTORE and QUIT (or Q).^^As a general guide: go everywhere, examine everything, ask everyone about every topic you think they might have a useful opinion on, and try everything vaguely reasonable. Think logically, think laterally, appreciate that you're in virtual reality and the normal laws of the universe don't always apply, and feel free to try utterly silly or seemingly dangerous things. The worst that can happen is that the game won't understand. This isn't one of those games in which you can die or make a wrong move that prevents you from finishing.";

Object -> "Why is my character such a prat?"
with description "If he wasn't a prat, he wouldn't care about dancing with a single glowstick, and then there wouldn't be much of a game, now, would there? Not that there's much of a game as it is . . .";

Object -> "Why won't the metal room play any proper metal?"
with description "It's a club and they usually don't.";

Object -> "Why can I carry so many things at once?"
with description "You're saying the game should be realistic? You're in a virtual reality within your housemate's bedroom door! Your carrying capacity is the least of your concerns! Anyway, if you could only carry a couple of objects at once you'd get very annoyed very fast.";

Object -> "About paying for the game and distributing it"
with description "This game is free.^^But if you want to pay for it, then that's fine too. Heaven knows I'd like to make a living from writing text adventures, so any donations would be appreciated, whether in the form of money, Infocom games, mix CDs, old issues of metal magazines, postcards, dedications in books and albums or just constructive feedback.^^(Also, if you're enjoying this game for some mad reason and you'd like to pay me to write another about something in particular, that's negotiable too.)^^You may distribute the game as you wish, as long as it's not modified, and nobody else takes credit for it. Not that anyone in their right mind would want to take credit for it . . .";

Object -> "About the author"
with description "At the time of writing (December 2004), C. Z. Warnes is twenty three and lives in northern England, but intends to head daan saath in a few months' time. As well as writing silly games and listening to vast amounts of metaaaaal, she works in an office of a musical instrument shop, though she is far too qualified for that sort of thing, and is only doing it while she works out what to do next. She has been writing text adventures off and on since she was seven, but this is the first game she has made available to the general public.";

Object -> "Apologies"
with description "Apologies to:^^
Anyone who thinks they recognise themselves in this. Any resemblances the characters (and indeed the inanimate objects) bear to real people is entirely unintentional.
^^
Graham Nelson, who created the language this game is written in and its very useful manual, only for me to use it to make this waste-of-a-few-hundred-kilobytes.
^^
Irene Callaci and whoever made TMenus.h for their very useful add-ons to the language, which made the creation of this game easier. 
^^
All the people who left their guides to Inform and source codes lying around on the Internet, all of which were invaluable in the creation of this rubbish.
^^
The nice people on rec.arts.int-fiction who answered my foolish questions in great detail, allowing me to finish this bumph.
^^
The nice people who let me do a Masters course at York University, thereby letting me improve my programming ability beyond ~10 PRINT ~HELLO~ 20 GOTO 10~, resulting in me writing this instead of getting on with any work.
^^
Alex who I forced to spend many a goth night listening to me complaining about all the bugs.
^^
Alex, Andy, Fliss, Mikey, Richard, Sheridan and Sophie, who kindly offered to beta-test this, having been convinced by me that it might actually be fun to play.
^^
Alice Cooper, And One, Black Tape For A Blue Girl, The Darkness, Def Leppard, Depeche Mode, Europe, Human League, Iron Maiden, Killing Miranda, Lemmy, Magazine, Megadeth, New Model Army, Nine Inch Nails, Ozzy Osbourne, Rage Against The Machine, The Sisters Of Mercy, The Smiths, Spinal Tap, System Of A Down, Type O Negative, VNV Nation, all bands with either ~project~ or ~coil~ in their name, and all perpetrators of 80s music. I love you all really.
^^
90% of DJs (without wishing to make anyone paranoid - if you know who I am, you're included in this!)
^^
Emoids and people who never left the 80s. I'm sure you're all perfectly wonderful people.";

Object -> "About the hints"
with description "The hints advise you how to solve the various puzzles you'll encounter in the game, although they're not going to give everything away and you'll need to try various things yourself before some of them are made available.^^Refer to them at your own risk. To say they'd spoil your enjoyment of the game would be to suggest the game was enjoyable, but certainly:^^1. It's really not very hard in the grand scheme of things.^2. It's not worth walking through for the storyline, because there isn't one.^3. If it has any charm at all, it's in the solution to some of the puzzles.^^Obviously, though, go for it if you've been totally stuck with something for ages. The author wouldn't want to suggest it's worth wasting too much of one's life on this silliness. Alternatively, you can refer to the walkthrough at http://www.verbalvoodoo.org/glowstick/walkthru.txt, or e-mail the author (her address is on her website).";

Menu -> "Hints"
has transparent;

HintOption -> -> fourrooms "These four rooms I'm stuck in feel a bit limited."
  with GetHints
    [n;
      switch(n)
      {
      0: return 3;
      1: "This is probably because there's others to be found.";
      2: "Maybe you should look at things in a different light.";
      3: "Have you examined the things in your inventory yet?";
      }
  ];

HintOption -> -> whattodo "I really don't know what I'm doing."
  with getHints
    [n;
      switch(n)
      {0: return 3;
       1: "Well, trying to find your missing glowstick seems as good a strategy as any, given the title and everything.";
       2: "And you know, exploring the place might be a good way of doing this.";
       3: "There don't seem to be any glowsticks lying around - but there's a few places you can't get to yet.";
       4: "Examine, try and ask about everything you can think of to establish what you might need to achieve.";
      }
    ];

HintOption -> -> whattosay "What do I say to people?"
   with	getHints
	[ n;
	   switch (n)
	   {
	     0: return 6;
	     1: "What are some normal opening gambits in nightclubs? Or, if you've never been to a nightclub, what possible things could you ask people in them about?";
	     2: "Well, who they are for a start: ASK PERSON ABOUT HIMSELF/HERSELF?";
	     3: "If they're having a good night, perhaps? ASK PERSON ABOUT NIGHT?";
	     4: "And what might you be also wonder about in a club?";
	     5: "Other than whether anyone wants to go home with you. All the solutions to the puzzles are perfectly innocent.";
	     6: "What about the music? Do you know what it is? Do you think the regulars might have a better idea?";
	   }
	];

HintOption -> -> howtoautograph "How can I get the pen?"
  with gethints
    [n;
      switch(n) {
        0: return 5;
        1: "Well, you don't need the whole clipboard.";
        2: "Got anything you might cut the string with?";
	  3: "You'll need to distract the DJ somehow.";
        4: "How about giving him something?";
        5: "Or doing something that might frighten him a bit?";
      }
    ],
    has concealed;

HintOption -> -> gettingpastfanboy "How do I get rid of fanboy?"
  with gethints
  [n;
    switch(n) {
      0: return 9;
      1: "Well, he's really annoying.";
      2: "You've no objection to doing him some harm.";
      3: "But not the sort of harm he'd tell the press about.";
      4: "If you could somehow make him forget that you'd done any wrong . . .";
      5: "What's the most common way of harming people at clubs?";
      6: "Spiking drinks is bad . . . but it's only virtual reality after all.";
      7: "As for getting a drink to spike, you'll need money for that.";
      8: "Maybe someone can give you some.";
      9: "Have you tried chatting to everyone about obvious topics?";
    }
  ],
  has concealed;

HintOption -> -> gettingthezine "How do I get the zine?"
  with gethints
  [n;
    switch(n) {
      0: return 4; 
      1: "You'll have to impress the vicious looking punk somehow.";
      2: "Does his reaction to your presence ever change? What causes it?";
      3: "You'll need to make yourself look more punk.";
      4: "There are five modifications you need to make.";
    }
  ],
  has concealed;

HintOption -> -> gettingtheshirt "How do I get the Anarchy shirt?"
  with gethints
  [n;
    switch(n) {
      0: return 4;
      1: "The young punk is quite attached to his shirt.";
      2: "But maybe any old shirt will do?";
      3: "You could offer your mesh top?";
	4: "Maybe it needs a little damage first?";
    }
  ],
  has concealed;

HintOption -> -> wearingtheshirt "How do I wear the young punk's shirt?"
  with gethints
  [n;
    switch(n) {
      0: return 8;
      1: "Maybe you should wash it?";
      2: "Well, they have sinks in toilets, don't they?";
      3: "Easier said then done. Well, there are other sources of water.";
      4: "Like the toilet.";
      5: "Well, it would do if you cleaned it a bit.";
      6: "Something to clean it with would be good.";
      7: "The nightclub must get cleaned at some point.";
      8: "Do you think anyone would know about that?";
    }
  ],
  has concealed;

HintOption -> -> dryingtheshirt "How do I dry the young punk's shirt?"
  with gethints
  [n;
    switch(n) {
      0: return 2;
      1: "Well, how would you dry something in a club?";
      2: "Never seen a handdrier in a public toilet before? You've had a sheltered existence.";
    }
  ],
  has concealed;

HintOption -> -> snootygoths "What's with the snooty goths in the toilets?"
  with gethints 
  [n;
    switch(n) {
      0: return 2;
      1: "Who knows?";
      2: "Some goths are like that. They're mostly just there as a shameless Type O Negative reference, though.";
    }
  ],
  has concealed;

HintOption -> -> gettingthegel "How do I get the gel?"
  with gethints
  [n;
    switch(n) {
      0: return 9;
      1: "There's more than one way out of the cubicle.";
      2: "You already know this is a somewhat surreal game.";
      3: "It's impossible to make this game unwinnable - which means you can't get rid of useful objects.";
      4: "Ever played Day Of The Tentacle? If not, you should; it's better than this.";
      5: "So if you were to flush things down the toilet, they wouldn't be gone forever.";
      6: "If you cleaned it a bit, anyway.";
      7: "Something to clean it with would be good.";
      8: "The nightclub must get cleaned at some point.";
      9: "Do you think anyone would know about that?";
    }
  ],
  has concealed;

HintOption -> -> whatsong "How do I find out what song's playing in the trance room?"
  with gethints
  [n;
    switch(n) {
      0: return 2;
      1: "Maybe someone can tell you?";
      2: "If you convince them to go to the trance room.";
    }
  ],
  has concealed;

HintOption -> -> movecyberbloke "How can I make cyberbloke believe me about the other rooms?"
  with gethints
  [n;
    switch(n) {
      0: return 4;
      1: "You could try giving him your glowstick.";
      2: "Or maybe he needs evidence of the other rooms' existence.";
      3: "Is there any way of connecting him to them?";
      4: "Is there any potential connecting material to be found?";
   }
  ],
  has concealed;

HintOption -> -> stuckinhandcuffs "I just wanna break these handcuffs!"
  with gethints
  [n;
    switch(n) {
    0: return 4;
    1: "Well, surely someone has a key?";
    2: "Goth bloke knows what he's talking about.";
    3: "Even if you've examined everything, maybe some things are worth a second look?";
    4: "Sick of this puzzle? You'll wish you had the cure.";
    }
  ],
  has concealed;

HintOption -> -> gettingheadphones "How do I get back into the eighties room?"
  with gethints
  [n;
    switch(n) {
    0: return 3;
    1: "You need to block out the music somehow.";
    2: "Does anyone have a suitable blocking-out-music device?";
    3: "Could you give them something in exchange for it?";
    }
  ],
  has concealed;

HintOption -> -> handcuffingwoman "How can I persuade the woman to be handcuffed?"
  with gethints
  [n;
    switch(n) {
      0: return 1;
      1: if (woman in eightiesroom) {"She's having fun dancing. Maybe can you put an end to that.";}
         "You'll need give some people things to distract them.";
    }
   ],
   has concealed;

HintOption -> -> moving "I can't move!"
  with gethints 
  [n; 
    switch(n) {
     0: return 1;
     1: "Yes, but someone else can.";
    }
  ],
  has concealed;

HintOption -> -> whereisit "I still haven't found what I'm looking for!"
  with gethints
  [n;
    switch(n) {
      0: return 1;
      1: "Some things look different now. Take another look around.";
    }
  ],
  has concealed;

[ Initialise;
  location = IndustrialRoom; lookmode=2;
    move glowstick to player;
    move boots to player;
    give boots worn;
    move pinstripetrousers to player;
    give pinstripetrousers worn;
    move meshtop to player;
    give meshtop worn;
    startdaemon(leftbutton);
    thedark.description = "It is too dark to see a thing. You are likely to be eaten by Marilyn Manson fans.";
  "^^^Rock! Iron Maiden are on tour and after the mysterious death of their support band's drummer, they've asked your band, Doom Monkey, to support them when they play your city! This could be your big break!^^Sadly, the day of the gig has arrived, and you're in all kinds of trouble. Your bandmates lie semi-comatose in other people's vomit, you seem to have sold your bass on eBay for 33p, and you've left your only pair of remotely comfortable shoes in your housemate Robot's bedroom.^^You thought you'd tackle the easiest problem first. But Robot's door has neither handle nor keyhole, only a Magic Eye poster stuck to it, and when you asked him how to get in, he just handed you a glowstick. But, by the light of the glowstick, the Magic Eye poster suddenly started to look like the inside of a goth club, and all of a sudden, you found yourself being sucked into . . .^^^";
];

[ PrintRank;
  if (score == 0) {", and not with any women either.";}
  ", but not with any women, alas.";
];

[ ChooseObjects obj code;
  if (code < 2) { if (obj has scenery) return 2; rfalse; }
  if (action_to_be == ##Examine && obj notin player) return 3;
  return 2;
];

[Amusing;
  ShowMenu(amusing_menu);
];

Include "Grammar";

Extend "ask" first
  * creature 'about' 'key' -> AskKey
  * creature 'for' 'key' -> AskKey
  * noun 'for' 'drink'/'beer'/'water'/'vodka'/'lager'/'absinthe' -> AskForDrink
  * creature 'for' 'double' 'entendre' -> GiveOne
  * creature 'for' 'a' 'double' 'entendre' -> GiveOne
  * creature 'for' 'glowstick'/'glowsticks' -> AskGlow
  * creature 'for' 'glow' 'stick'/'sticks' -> AskGlow;

Extend "speak" first
  * 'hi'/'hello' 'to' creature -> Greet
  * 'bye'/'goodbye' 'to' creature -> Part
  * 'thanks' 'to' creature -> Thank
  * 'thank' 'you' 'to' creature -> Thank;

Verb "greet"
  * creature -> Greet;

Verb "arse"
   * -> Mild;

Verb "bite"
    * creature -> BitePerson
    * noun -> BiteThing;

Verb "bleach"
     * 'hair' -> BleachHair
     * noun -> Bleach;

Extend "blow" replace
    * -> Blow2
    * creature -> Blow3
    * noun -> Blow4
    * noun 'off' -> Rude;

Verb "suck"
    * creature -> Rude
    * noun -> Suck
    * 'off' noun -> Rude
    * noun 'off' -> Rude;

Verb "bow"
    * -> Bow;

Verb "bye" "goodbye" "farewell"
    * -> Goodbye;

Extend "burn" first
    * -> Cure;

Extend "buy" replace
	* 'beer'/'drink'/'pint'/'water'/'shot'						-> GetDrink
      * 'a' 'glass' 'of' 'water' -> GetDrink
      * 'glass' 'of' 'water' -> GetDrink
	* 'a' 'drink'						-> GetDrink
	* 'a' 'beer'						-> GetDrink
	* 'glass' 'of' 'beer'					-> GetDrink
	* 'a' 'shot'						-> GetDrink
	* 'some' 'beers'					-> GetDrink
	* 'some' 'drinks'					-> GetDrink
	* 'a' 'lager'						-> GetDrink
      * noun -> Buy;

Extend only 'clean' 'scrub' replace
  * noun -> Clean;

Extend 'consult' first  
  * noun -> Consult2
  * creature 'about' topic             -> Ask
  * creature 'on' topic                -> Ask;

Verb 'crowdsurf'
  * -> Crowdsurf;

Extend 'cut' replace
     * 'hair' -> CutHair
     * 'hair' 'with' topic -> CutHair
     * 'hair' 'short'/'off' -> CutHair
     * 'off' 'hair' -> CutHair
     * 'hole' 'in' noun 'with' noun -> Cut
     * noun 'with' held -> Cut;

Verb 'dance'
                *                                -> Dance
  * 'in' 'cage' -> DanceInCage;

Extend only "die" replace
  * -> Die;

Verb 'poledance'
  * -> PoleDance;

Verb 'pole'
  * 'dance' -> PoleDance
  * 'dance' 'in' 'cage' -> DanceInCage;

Extend "drop" first
  * 'acid' -> DropAcid;

Verb "dry"
  * noun -> Dry;

Extend "eat" first
  * 'glue' -> EatGlue;

Extend "empty" first
  * 'bladder' -> EmptyBladder
  * noun 'down' noun -> EmptyT;

Extend 'examine'
  * 'torso'/'chest'/'nipples' -> ShagSelf;

Verb "fade"
  * -> Fade;

Extend only "feed" replace
  * held 'to' creature             -> Feed
                * creature held                  -> Feed reverse;

Extend only "fix" replace
  * noun 'with' 'glue' -> Fix
  * noun -> Fix
  * noun 'to' noun -> Stick;

Verb 'flick'
   * 'hair' -> FlickHair
   * noun -> Flick;

Verb 'flip'
   * 'hair' -> FlickHair
   * -> Indeed
   * noun -> Flick;

Verb 'flush'
  * -> Blush
  * noun -> Flush;

Verb 'blush'
  * -> Blush;

Verb "follow"
     * noun -> Follow;

Extend only "fuck" replace
    * -> Strong
    * 'me' -> Chainsaw
    * creature -> Shag
    * 'this' -> Quit
    * noun -> ShagNoun;

Extend only "get" first
    * 'life' -> GetLife
    * 'a' 'life' -> GetLife
    * 'drink' -> GetDrink
    * 'me' 'a' 'drink' -> GiveMeDrink
    * 'me' 'drink' -> GiveMeDrink;

Extend "give" replace
  * 'me' 'drink' -> GiveMeDrink
  * 'me' 'a' 'drink' -> GiveMeDrink
  * "me" "a" "double" "entendre" -> DoubleEntendre
  * "me" "double" "entendre" -> DoubleEntendre
     * 'hug' 'to' creature -> Hug
     * 'kiss' 'to' creature -> Kiss
     * creature 'hug' -> Hug
     * creature 'kiss' -> Kiss
     * noun 'blow' 'job' -> Rude
     * 'blow' 'job' 'to' noun -> Rude
     * 'a' 'blow' 'job' 'to' noun -> Rude
     * noun 'a' 'blow' 'job' -> Rude
     * noun 'blowjob' -> Rude
     * 'blowjob' 'to' noun -> Rude
     * noun 'a' 'blowjob' -> Rude
     * 'a' 'blowjob' 'to' noun -> Rude
     * general 'to' creature -> Give
     * creature general -> Give reverse
     * 'over' general 'to' creature -> Give
* held 'to' creature             -> Give
                * creature held                  -> Give reverse;

Verb "handcuff"
  * creature -> HandCuff
  * 'self' 'to' creature -> HandCuff
  * creature 'to' noun -> HandCuffTo;

Verb 'hang' 'execute'
  * 'dj' -> Ha
  * 'the' 'dj' -> Ha
  * creature -> Execute
  * noun -> Hang;

Verb 'hi' 'hello' 'allright' 'alright' 'yo' 'greetings' 'heil' 'salutations'
  * -> Hello;

Extend only 'hug' 'embrace' replace
    * creature -> Hug
    * noun -> HugThing;

Extend 'kiss'
    * noun -> KissThing;

Verb 'lick'
  * 'wall' -> Ew
  * noun -> Taste;

Verb "lower"
  * 'tone' -> LowerTone
  * noun -> Lower;

Verb "masturbate" "wank"
  * -> Dodgy;

Verb "mend"
  * noun -> Fix;

Verb 'mosh'
  * -> Mosh;

Verb "nevermind"
  * -> Nirvana;

Extend only 'pay' replace
  * -> Pay;

Verb 'pogo' 'bounce'
  * -> Pogo;

Extend only "pull" first
  * 'up' 'trousers'/'pinstripe' -> RaiseTrousers
  * 'up' 'pinstripe' 'trousers' -> RaiseTrousers
  * creature -> PullCreature
  * noun -> PullThing;

Verb "raise" "lift"
  * noun -> Raise;

Verb "rape"
  * 'me' -> Nirvana
  * creature -> Rape
  * noun -> ShagNoun;

Extend 'read' replace
  * creature -> ReadPerson
  * noun -> Read
  * 'about' topic 'in' noun        -> Consult;

Verb 'request'
  * 'song' -> Request
  * 'iron' 'maiden' -> RequestIron
  * 'doom' 'monkey' -> RequestDoom
  * noun 'from'/'of' creature -> AskFor reverse;

Extend "rub" replace
  * noun -> Rub;

Verb "shag" "ride"
    * creature -> Shag
    * noun -> ShagNoun;

Extend "sit" replace
  * -> Sit
  * 'on' 'top' 'of' noun -> SitOn
  * 'on' noun -> SitOn;

Verb 'snog'
    * creature -> Kiss
    * noun -> KissThing;

Verb "stick" 
  * noun 'to' noun -> Stick;

Extend 'switch' replace
   * noun -> Switch;

Extend only "screw" replace
   * creature -> Shag
   * noun -> ShagNoun;

Verb "spike"
    * 'hair' -> SpikeHair
    * held 'with' held -> Spike;

Extend "take" first
    * 'a' 'bow' -> Bow 
    * 'off' noun -> Disrobe;

Extend 'touch'
    * 'author'/'game' -> TouchAuthor;

Extend 'lock' first
  * noun -> Lock2;

Extend 'unlock' first
    * noun -> Unlock2;

Verb "wash"
     * noun -> Wash
     * noun 'in' 'toilet' -> Wash
     * topic -> Wash;

Extend "wave" replace
     * -> Wave
     * noun -> Wave;

Verb "wring"
  * 'hands' -> WringHands
  * noun -> Wring;

Extend "put" first
  * noun 'in' 'cloakroom' -> PutInCloakroom
  * noun 'in' 'cloak' 'room' -> PutInCloakroom
  * 'water' 'in' noun -> PutWaterIn
  * noun 'in' 'left' -> PlaceCDLeft
  * noun 'left' -> PlaceOddCDLeft
  * noun 'in' 'right' -> PlaceCDRight
  * noun 'right' -> PlaceOddCDRight
  * noun noun -> PlaceCD
  * noun 'under' noun -> Insert;

Verb "hide"
  * -> Hide
  * 'in' noun -> HideIn
  * noun 'under'/'in' noun -> HideInSommat;

Extend "close" first
  * 'left' -> CloseLeft
  * 'right' -> CloseRight;

Verb 'write' 'sign'
  * 'on' 'wall' -> Graffiti
  * 'on' noun -> Write
  * 'name'/'autograph' 'on' noun -> Autograph;

Extend "open" first
  * 'left' -> OpenLeft
  * 'right' -> OpenRight;

Verb "autograph"
  * noun -> Autograph;

Extend only "sign"
  * noun -> Autograph;

Verb "threaten"
  * noun -> Threaten
  * noun 'with' held -> ThreatenWith;

Verb "introduce"
  * creature 'to' creature -> Introduce;

Verb "use"
  * noun -> Use;

Verb "pee" "piss" "urinate"
  * -> Nope;

Verb "make"
  * 'request' -> request
  * 'horns' -> devilhorns
  * 'sign' 'of' 'the' 'horns' -> devilhorns
  * 'devil' 'horns' -> devilhorns
  * 'il' 'cornuto' -> devilhorns
  * 'il' 'cornuto' 'at' creature -> devilhornsat
  * 'devil'/'make' 'horns' 'at' creature -> devilhornsat
  * 'horns' 'at' creature -> devilhornsat
  * 'sign' 'of' 'the' 'horns' 'at' creature -> devilhornsat
  * 'the' 'sign' 'of' 'the' 'horns' 'at' creature -> devilhornsat
  * 'sign' 'of' 'the' 'cross' -> signofcross
  * 'cake' -> MakeCake
  * 'sense' -> MakeSense
  * 'love' 'to' noun -> Shag
  * topic -> Make;

Extend "go" first
  * 'down' 'stairs' -> Descend
  * 'downstairs' -> Descend
  * 'up' 'stairs' -> Ascend
  * 'upstairs' -> Ascend;

Verb "ascend"
  * 'stairs' -> Ascend
  * -> Ascend;

Verb "love"
  * topic -> Love;

Verb "descend"
  * 'stairs' -> Descend
  * -> Descend;

Extend only "climb"
  * 'on' noun -> Climb;

Extend only "listen" replace
  * -> Listen
  * noun -> ListenTo
  * 'to' 'the' 'flower' 'people' -> FlowerPeople
  * 'to' 'yourself' -> ListenToYourself
  * 'to' noun -> ListenTo
  * topic -> Listen
  * 'to' topic -> Listen;

Verb "talk" "chat"
  * 'to' creature 'about' topic -> Ask
  * 'to' creature -> Talk;

Extend only "speak"
  * 'to' creature 'about' topic -> Ask
  * 'to' creature -> Talk;

Verb "thank"
  * 'you' -> Thanks
  * creature -> Thank;

Verb "undress"
  * -> Undress
  * noun -> UndressOther;

Verb "thanks" "cheers"
  * -> Thanks;

Verb "pour" = "empty";

Extend "empty"
  * noun 'in' noun -> EmptyT;

Verb "rip" "tear"
  * 'hair' 'out' -> TearHairOut
  * 'out' 'hair' -> TearHairOut
  * held -> Rip;

Verb "kick"
  * noun -> Kick;

Verb "moonwalk"
 * -> Moonwalk;

Extend only "throw" first
  * held 'over' noun -> ThrowOver
  * "up" -> Vomit
  * noun "at" "wall" -> ThrowAtWall;

Verb '\m/'
  * -> Horns;

Verb "metal" "metaal" "metaaal" "metaaaal" "metaaaaal"
  * -> Metal;

Verb "release" "free" "unleash"
  * creature -> Free
  * held -> Drop;

Verb meta 'help' 'hints'  * -> XMenu;

Extend "look" replace
  * "at" "this" -> LookAtThis
  * "at"/"around" "club" -> Look
  * "at" "me" -> LookAtMe
  * "around" -> Look
                *                                -> Look
                * 'at' noun                      -> Examine
                * 'inside'/'in'/'into'/'through' noun
                                                 -> Search
                * 'under' noun                   -> LookUnder
                * 'up' topic 'in' noun           -> Consult;

Extend only "kill" replace
  * noun -> Kill;

Extend "examine"
  * "club" -> Look;

Verb "grab"
     * 'your' 'coat' -> GrabYourCoat
     * multi                          -> Take
     * multiinside 'from' noun        -> Remove
     * multiinside 'off' noun         -> Remove;

Extend "fill" replace
     * noun 'with' 'water' -> FillWater
     * noun 'with' 'hate'/'love' -> FillHate
     * noun 'with' noun -> Fill
     * noun 'from' topic -> Fill;

Extend "sit"
     * 'down' -> Sit;

Verb "stab"
     * noun 'with' held -> Stab;

Verb "puke" "vomit"
     * -> Vomit
     * 'on' noun -> Vomit;

Verb "be"
     * 'sick' -> Vomit
     * 'cool' -> BeCool
     * 'yourself' -> BeYourself
     * 'happy' -> BeHappy
     * 'natural' -> BeNatural;

Verb "play"
     * -> Play
     * 'that' 'funky' 'music' 'white' 'boy' -> PlayTheFunkyMusic
     * 'game' -> PlayGame
     * 'school'/'doctors'/'tag'/'hide^n^seek' -> Play
     * 'bass'/'guitar'/'drums'/'keyboard' -> PlayInstrument
     * 'air' 'guitar' -> AirGuitar
     * 'air' 'drums' -> AirDrums
     * 'with' 'self'/'yourself' -> Crude
     * 'for' 'today' -> Cure;

Verb "see"
     * 'you' 'later' -> Goodbye;

Verb "xyzzy" "plugh"
	* -> Xyzzy;

Extend only "break" replace
      * noun -> Break;

Extend "eat" replace
      * noun -> Eat;

Verb "remember"
   * 'you^re' 'a' 'womble' -> Womble
   * topic -> Remember
   * -> remember;